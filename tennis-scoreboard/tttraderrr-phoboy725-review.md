# Review –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç [@tttraderrr](https://github.com/phoboy725/TennisScoreBoard) –ø—Ä–æ–µ–∫—Ç–∞ [–¢–∞–±–ª–æ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞](https://zhukovsd.github.io/java-backend-learning-course/projects/tennis-scoreboard/)

```text
1. –ó–Ω–∞–∫–æ–º ‚ùóÔ∏è –ø–æ–º–µ—á–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –º–µ—Å—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –¢–ó.
2. –ï—Å–ª–∏ ‚ùóÔ∏è —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –∑–Ω–∞—á–∏—Ç –æ–Ω –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º –ø—É–Ω–∫—Ç–∞–º —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.
3. –ó–∞–º–µ—á–∞–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø—É–Ω–∫—Ç–µ —Å –∏–º–µ–Ω–µ–º –ø–∞–∫–µ—Ç–∞, –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ —Å–ª–æ—è.
4. –ó–Ω–∞–∫–æ–º üí° –ø–æ–º–µ—á–µ–Ω—ã –±–ª–æ–∫–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –ø—Ä–∏—ë–º–∞ –∏–ª–∏ —á–∞—Å—Ç–∏ –∫–æ–¥–∞. 
   –¢–∞–∫–∏–µ –ø—É–Ω–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–º –±–ª–æ–∫–µ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é. 
   –ü–µ—Ä–µ–¥ –∏—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º —Å—Ç–æ–∏—Ç –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –ø—Ä–∏–¥—É–º–∞—Ç—å –∏–ª–∏ –ø–æ–∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. 
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä
- –í –ø–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–º—è –ø—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–±–∏—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É ![](images/tttraderrr-phoboy725/Screenshot_01.png)
- –ü—Ä–∏ –≤–≤–æ–¥–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–ª–∏–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –∫–Ω–æ–ø–∫–∏ `Score` —Å—ä–µ–∑–∂–∞—é—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–∞–∑–º–µ—Ç–∫–∏ ![](images/tttraderrr-phoboy725/Screenshot_02.png)
- –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å—ã–≥—Ä–∞–Ω–Ω—ã–π –º–∞—Ç—á –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤ —Å–ø–∏—Å–∫–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π ‚Äî —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞–¥–æ –ª–∏—Å—Ç–∞—Ç—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –õ—É—á—à–µ, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –ø–µ—Ä–≤—ã–º –≤ —Å–ø–∏—Å–∫–µ (–Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
- –ò–º—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–∞–∑–º–µ—Ç–∫–∏, –µ—Å–ª–∏ –æ–Ω–æ –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –∏ –∑–∞–ø–∏—Å–∞–Ω–æ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ ![](images/tttraderrr-phoboy725/Screenshot_03.png)
- –°–µ–π—á–∞—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∏–º—ë–Ω —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –∏ –ø—Ä–æ–±–µ–ª—ã. –†–µ–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ —Ñ–∞–º–∏–ª–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–µ—Ñ–∏—Å—ã –∏ –∞–ø–æ—Å—Ç—Ä–æ—Ñ—ã, –∞ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü—É. –°—Ç–æ–∏—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.

## Model
- –ù–∞–∑–≤–∞–Ω–∏–µ `entity` –ª—É—á—à–µ –ø–æ–¥–æ—à–ª–æ –±—ã —ç—Ç–æ–º—É –ø–∞–∫–µ—Ç—É, —Ç–∞–∫ –∫–∞–∫ –∫–ª–∞—Å—Å—ã –≤ –Ω—ë–º ‚Äî —ç—Ç–æ —Å—É—â–Ω–æ—Å—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ë–î (JPA Entity). –ê –≤ –ø–∞–∫–µ—Ç `model` –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–º–µ—Å—Ç–∏—Ç—å –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏.

### Player
- –ï—Å–ª–∏ –∏–º—è –ø–æ–ª—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ–ª–æ–Ω–∫–∏, —Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä name –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Column` –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å: `@Column(name = "id")` -> `@Column`

- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `updatable = false` –≤ `@Column` –¥–ª—è –ø–æ–ª—è ID –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö: `@Column(updatable = false)`

- ‚ùóÔ∏è–ö–ª–∞—Å—Å –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π ‚Äî `id` –∏ `name`:
    - —Å–µ—Ç—Ç–µ—Ä –¥–ª—è `id` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç Player c —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º  `id`. –î–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –ë–î, –ª—É—á—à–µ –Ω–µ –¥–∞–≤–∞—Ç—å —Ç–∞–∫—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —Å—Ç–æ–∏—Ç —É–¥–∞–ª–∏—Ç—å.
    - —Å–µ—Ç—Ç–µ—Ä –¥–ª—è `name` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –∏–≥—Ä–æ–∫–∞, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–∏–º—è –∏–≥—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è).

–†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –ø–æ–ª–µ–π –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

<a id="forward-from-match-to-player-2"></a>
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ `public`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å "–ø—É—Å—Ç–æ–π", –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç `Player`. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è JPA/Hibernate, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –∏–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ `protected`. &nbsp;[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ Match](#backward-from-player-to-match-2)

–ê –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä–æ–∫–∞ –≤—Ä—É—á–Ω—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```java
public Player(String name) {
    this.name = name;
}
```

<a id="forward-from-match-to-player-1"></a>
- –ü–æ–ª–µ `id` –∏–º–µ–µ—Ç —Ç–∏–ø `int`, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `~2.1` –º–∏–ª–ª–∏–∞—Ä–¥–∞. –í –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —ç—Ç–æ—Ç –ª–∏–º–∏—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –ø–æ—ç—Ç–æ–º—É –æ–±—ã—á–Ω–æ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç `Long`. –õ—É—á—à–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –ø–æ–ª—è `id` (–∏ –µ–≥–æ –≥–µ—Ç—Ç–µ—Ä–∞) –Ω–∞ `Long`. &nbsp;[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ Match](#backward-from-player-to-match-1)

- –î–ª—è –ø–æ–ª—è `id` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É `Long`, –≤–º–µ—Å—Ç–æ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ `long`. `Long` (–æ–±—ë—Ä—Ç–∫–∞) –º–æ–∂–µ—Ç –±—ã—Ç—å `null` –∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø–æ–ª–µ `id` –±—É–¥–µ—Ç `null` –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ Hibernate –Ω–µ –ø—Ä–∏—Å–≤–æ–∏—Ç –µ–º—É –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –ê `long` (–ø—Ä–∏–º–∏—Ç–∏–≤) –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `null` –∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ, –µ—â—ë –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –ø–æ–ª–µ `id` –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `0`. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±–µ—Ä—Ç–∫–∏ `Long` —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö ID, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—É—â–Ω–æ—Å—Ç—å –Ω–æ–≤–æ–π, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–≤ `if (id == null)`. –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–º–∏—Ç–∏–≤–∞ `0` –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –≤–∞–ª–∏–¥–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º ID (—Ö–æ—Ç—è –∏ —Ä–µ–¥–∫–æ), —á—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø—É—Ç–∞–Ω–∏—Ü—É.

- –°–µ–π—á–∞—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∏–º—ë–Ω –Ω–µ–æ–ø—Ä–∞–≤–¥–∞–Ω–Ω–æ —Å—Ç—Ä–æ–≥–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –∏ –ø—Ä–æ–±–µ–ª—ã (`regexp = "^[\\sa-zA-Z]+$"`). –†–µ–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ —Ñ–∞–º–∏–ª–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–µ—Ñ–∏—Å—ã, –∞–ø–æ—Å—Ç—Ä–æ—Ñ—ã –∏–ª–∏ –ø—Ä–æ–±–µ–ª—ã, –∞ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü—É, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –æ—Å–ª–∞–±–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä –¥–æ `"^[a-zA-Z–∞-—è–ê-–Ø'\\-\\s]+$"`

- ‚ùóÔ∏è–í –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Size` —É —Å—É—â–Ω–æ—Å—Ç–∏ `Player` —É–∫–∞–∑–∞–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–º–µ–Ω–∏ `min = 1`, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –≤ –∫–ª–∞—Å—Å–µ `PlayerNamesValidation` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `2`:
```java
// –≤ Player
@Size(min = 1, max = 30, message = "Name must be 1 - 30 characters long")

// –≤ PlayerNamesValidation
private static final Pattern NAME_PATTERN = Pattern.compile("^[\\sa-zA-Z]{2,30}$");
```

–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Äî –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–π–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –º–æ–≥—É—Ç –Ω–µ –ø—Ä–æ–π—Ç–∏ –µ—ë –≤ –¥—Ä—É–≥–æ–º. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —Ç—Ä—É–¥–Ω–æ—É–ª–æ–≤–∏–º—ã–º –±–∞–≥–∞–º.

–°—Ç–æ–∏—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Äî –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `min = 2`) –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –µ–≥–æ –≤–µ–∑–¥–µ: –∏ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏, –∏ –≤ –∫–ª–∞—Å—Å–µ-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä–µ.

<a id="forward-from-match-to-player-3"></a>
- –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–∑ –º–µ—Ç–æ–¥–∞ `toString()` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏

```java
return "\nid ='" + id + '\'' +
        ", name ='" + name + '\'';
```

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–æ–≤, –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫) ‚Äî —ç—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ –∫–æ–¥–∞, –∞ –Ω–µ —Å–∞–º–æ–≥–æ –º–µ—Ç–æ–¥–∞. –ú–µ—Ç–æ–¥ `toString()` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —á–∏—Å—Ç–æ–µ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```java
@Override
public String toString() {
    return "Player{" +
           "id=" + id +
           ", name='" + name + '\'' +
           '}';
}
```
[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ Match](#backward-from-player-to-match-3)

### Match
- ‚ùóÔ∏è–°–ª–æ–≤–æ `MATCH` (–∞ —Ç–∞–∫–∂–µ `MATCHES`) —è–≤–ª—è–µ—Ç—Å—è –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–∏–∞–ª–µ–∫—Ç–∞—Ö SQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `MATCH ... AGAINST` –≤ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–∏—Å–∫–µ). –ù–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–º—ë–Ω —Ç–∞–±–ª–∏—Ü.

[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –ë–î](#sql-keywords) <a id="back-from-sql-keywords"></a>

- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ, —á—Ç–æ –∏–≥—Ä–æ–∫–∏ —Ä–∞–∑–Ω—ã–µ –∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–∞—Ç—á–∞ <a id="forward-from-matchesdao"></a>

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesDao](#forward-from-match-to-matchesdao) </div>

<details>

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

---

```java
@Checks({
        @Check(constraints = "playerOne != playerTwo"),
        @Check(constraints = "winner = playerOne OR winner = playerTwo")
})
public class Match { 
    // ...
}
```

---

</details>

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –ë–î.

<a id="backward-from-player-to-match-1"></a>
- –î–ª—è –ø–æ–ª—è `id` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Long` –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ —Ä–∞–∑–¥–µ–ª–µ [Player](#forward-from-match-to-player-1)

- –ù–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø–∏—Å–∞—Ç—å –≤ —Å—Ç–∏–ª–µ snake_case ‚Äî —ç—Ç–æ —á–∞—Å—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–µ-—Ñ–∞–∫—Ç–æ, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, createNativeQuery) —ç—Ç–æ –±—É–¥–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞—Ç—å, —á—Ç–æ –∏–¥—ë—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –∫–æ–ª–æ–Ω–∫–µ –ë–î, –∞ –Ω–µ –ø–æ–ª—é —Å—É—â–Ω–æ—Å—Ç–∏ (–∫–∞–∫ –≤ JPQL –∑–∞–ø—Ä–æ—Å–∞—Ö).

```java
// camelCase –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å:
entityManager.createQuery("SELECT p.firstName, p.lastName FROM Player p", Player.class); // JPQL
entityManager.createNativeQuery("SELECT firstName, lastName FROM players", Player.class); // SQL

// snake_case –æ—Ç–ª–∏—á–∏–µ —è–≤–Ω–æ:
entityManager.createQuery("SELECT p.firstName, p.lastName FROM Player p", Player.class); // JPQL
entityManager.createNativeQuery("SELECT first_name, first_name FROM players", Player.class); // SQL
```

- ‚ùóÔ∏è–ö–ª–∞—Å—Å –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π (–∫—Ä–æ–º–µ `id`), —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–∞–≤ –∏–≥—Ä–æ–∫–æ–≤ –∏–ª–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º –º–∞—Ç—á–µ. –†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –ø–æ–ª–µ–π –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

- ‚ùóÔ∏è–î–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å `optional = false` –≤ `@ManyToOne` –∏–ª–∏ `nullable = false` –≤ `@JoinColumn`. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è) –∏ –≤ –ë–î (constraints). –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –ë–î –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω—ã –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –ë–î.

–°–µ–π—á–∞—Å —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Ç—á–µ–π —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∞–∫:
```sqlite-sql
create table match (
    id integer generated by default as identity,
    playerOne integer,
    playerTwo integer,
    winner integer,
    primary key (id)
)
```

–ü—Ä–∏ `optional = false` –∏–ª–∏ `nullable = false` ‚Äî Hibernate –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `NOT NULL` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ë–î –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ –ë–î (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è null, —Ç–æ Hibernate –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –ë–î –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏ —Å–∞–º –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ PropertyValueException)

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–µ–∂–∞—Ç—å —Ä–∏—Å–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Ç—á–∏ –±–µ–∑ –∏–≥—Ä–æ–∫–æ–≤) –≤ –ë–î.

<a id="backward-from-player-to-match-2"></a>
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ `public` ‚Äî —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ `protected` –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ —Ä–∞–∑–¥–µ–ª–µ [Player](#forward-from-match-to-player-2)

<a id="backward-from-player-to-match-3"></a>
- –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–∑ –º–µ—Ç–æ–¥–∞ `toString()` –ª—É—á—à–µ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –≤–∏–¥—É –∏ –Ω–µ –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ —Ä–∞–∑–¥–µ–ª–µ [Player](#forward-from-match-to-player-3)

## DTO
### PlayerRequestDto
- –°–µ–π—á–∞—Å –≤ —ç—Ç–æ–º dto —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –ø–æ–ª–µ, –ø–æ—ç—Ç–æ–º—É –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å String –≤ PlayerService, –≥–¥–µ —Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PlayerRequestDto.

–í–æ–æ–±—â–µ –≤—ã–±–æ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DTO —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º, –Ω–æ —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∑–∞–¥–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —ç—Ç–æ–≥–æ DTO. –ë—É–¥–µ—Ç –ª–æ–≥–∏—á–Ω—ã–º, –µ—Å–ª–∏ DTO —Å—Ç–∞–Ω–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è –∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:

```java
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Pattern;
import jakarta.validation.constraints.Size;

public record PlayerRequestDto(
        @NotBlank(message = "Player name must not be empty or blank")
        @Size(min = 2, max = 30, message = "Player name must be between 2 and 30 characters")
        @Pattern(regexp = "^[\sa-zA-Z]+$", message = "Player name must contains only Latin letters")
        String name
) {
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `hibernate-validator`) –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∏—Å–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏–ª–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏.

### MatchCurrentState
- ‚ùóÔ∏è–°–µ–π—á–∞—Å –∫–ª–∞—Å—Å –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle) –∏ —Å–º–µ—à–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–æ–ª–∏ DTO –∏ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–∞–Ω–µ–º–∏—á–Ω–æ–π –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏): –æ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (View), –≥–¥–µ –∏–∑ –Ω–µ–≥–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∞ —Ç–∞–∫–∂–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö. –ë—É–¥–µ—Ç –ª—É—á—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º —Ä–∞–∑–¥–µ–ª–∏—Ç—å —ç—Ç—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ DTO –∏ –º–æ–¥–µ–ª—å: –Ω–∞–ø—Ä–∏–º–µ—Ä OngoingMatch ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π, –∏–∑–º–µ–Ω—è–µ–º—ã–π –¥–æ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ MatchDTO –ø—É–±–ª–∏—á–Ω—ã–π, –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π DTO –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É.

["–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](#model-types) <a id="back-from-model-types"></a>

- –í –∫–∞—á–µ—Å—Ç–≤–µ DTO –±—É–¥–µ—Ç —É–º–µ—Å—Ç–Ω—ã–º —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å record (–∫–∞–∫ PlayerRequestDto) ‚Äî —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º –∏ –∏–∑–±–∞–≤–∏—Ç –æ—Ç —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.

- –î–ª—è DTO –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç —É–º–µ—Å—Ç–Ω—ã–º –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å `DTO`. –≠—Ç–æ —è–≤–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –µ–≥–æ —Ä–æ–ª—å –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

- –°–µ–π—á–∞—Å —É –ø–æ–ª–µ–π `isMatchFinished` –∏ `isTieBreak`–∏ –∏—Ö –≥–µ—Ç—Ç–µ—Ä–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞:

```java
private boolean isMatchFinished = false;
private boolean isTieBreak = false;

public boolean isMatchFinished() {
    return isMatchFinished;
}

public boolean isTieBreak() {
    return isTieBreak;
}
```

–•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∑—ã–≤–∞—Ç—å `boolean` –ø–æ–ª—è –∫–∞–∫ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ `is` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tiebreak` –≤–º–µ—Å—Ç–æ `isTieBreak`). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –≥–µ—Ç—Ç–µ—Ä–æ–º `isTiebreak()` –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ.

- –°–µ–π—á–∞—Å –≤—Å–µ –ø–æ–ª—è, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Å—á–µ—Ç—É –∏–≥—Ä–æ–∫–∞ (`playerOneSets`, `playerOneGames`, `playerOnePoints` –∏ —Ç.–¥.), –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∏ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞. –≠—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ, —á—Ç–æ –≤ –∫–ª–∞—Å—Å–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–∂–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–∏–º –∏ –≥—Ä–æ–º–æ–∑–¥–∫–∏–º –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø DRY (Don't Repeat Yourself). –ê —Ç–∞–∫–∂–µ, –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –∫ —Å—á–µ—Ç—É –∏–≥—Ä–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–π—Å–æ–≤), –ø—Ä–∏–¥—ë—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –¥–≤–∞ –ø–æ–ª—è (`playerOneAces`, `playerTwoAces`) –∏ –¥–≤–∞ –Ω–∞–±–æ—Ä–∞ –≥–µ—Ç—Ç–µ—Ä–æ–≤/—Å–µ—Ç—Ç–µ—Ä–æ–≤.

–í—Å–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Å—á—ë—Ç—É –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞, –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –∏ –º–æ–∂–Ω–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å.

–ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–π:
```java
public record PlayerScoreDto(
    int id,
    int sets,
    int games,
    String points,
    List<Integer> setsResult
) {}
```

–¢–æ–≥–¥–∞ –∫–ª–∞—Å—Å —É–ø—Ä–æ—Å—Ç–∏—Ç—Å—è –¥–æ:
```java
public record MatchStateDto(
    PlayerScoreDto playerOneScore, // –í–º–µ—Å—Ç–æ 5 –ø–æ–ª–µ–π - –æ–¥–Ω–æ
    PlayerScoreDto playerTwoScore, // –í–º–µ—Å—Ç–æ 5 –ø–æ–ª–µ–π - –æ–¥–Ω–æ
    boolean isMatchFinished,
    boolean isTieBreak,
    Integer winnerId
) {}
```

> **DRY (Don't Repeat Yourself)** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø ¬´–ù–µ –ø–æ–≤—Ç–æ—Ä—è–π—Å—è¬ª, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∫–æ–¥–∞ –∏ –ª–æ–≥–∏–∫–∏, —Ç–∞–∫ –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —É—á–∞—Å—Ç–∫–∞—Ö —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤–æ–∫ –≤–æ –º–Ω–æ–≥–∏—Ö –º–µ—Å—Ç–∞—Ö, —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º –∏ –Ω–∞–¥—ë–∂–Ω—ã–º.

- –ú–µ—Ç–æ–¥—ã `getPlayerOneSetsResultSafe()` –∏ `getPlayerTwoSetsResultSafe()` —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É, –æ—Ç–Ω–æ—Å—è—â—É—é—Å—è –∫ —Å–ª–æ—é –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. DTO –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º –Ω–æ—Å–∏—Ç–µ–ª–µ–º –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ —Ç–æ–º, –∫–∞–∫ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å `-`). –°—Ç–æ–∏—Ç —É–¥–∞–ª–∏—Ç—å —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å "—Å—ã—Ä—ã–µ" –¥–∞–Ω–Ω—ã–µ (`List<Integer>`), –∞ –ª–æ–≥–∏–∫–∞ –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ JSP.

- ‚ùóÔ∏è–°–µ—Ç—Ç–µ—Ä—ã –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–µ—Ç–æ–≤ `setPlayerOneSetsResult()` –∏ `setPlayerTwoSetsResult()` –¥–æ–±–∞–≤–ª—è—é—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ —Å–ø–∏—Å–æ–∫, –∞ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –µ–≥–æ (—Å–∞–º —Å–ø–∏—Å–æ–∫), —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç –º–µ—Ç–æ–¥–∞ —Å –∏–º–µ–Ω–µ–º `set...`. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª—É—á—à–µ –±—ã–ª–æ –±—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –≤ `add...`.

- –ù–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –∏ –æ–±–µ—Ä—Ç–æ–∫: –í –∫–ª–∞—Å—Å–µ —Å–º–µ—à–∞–Ω—ã `int` (`playerOneId`) –∏ `Integer` (`winnerId`). –õ—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ –∏ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã-–æ–±–µ—Ä—Ç–∫–∏ (`Integer`, `Long`).

- ‚ùóÔ∏è–ö–ª–∞—Å—Å –∏–º–µ–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∞–Ω–µ–º–∏—á–Ω–æ–π –º–æ–¥–µ–ª–∏ ‚Äî –æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–∞–Ω–Ω—ã–º–∏, –æ–±–ª–∞–¥–∞—é—â–∏–π –≥–µ—Ç—Ç–µ—Ä–∞–º–∏ –∏ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω–∏–∫–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –í—Å—è –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∏ —Ç.–¥. –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤–æ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å (`MatchScoreService`), –∫–æ—Ç–æ—Ä—ã–π –º–∞–Ω–∏–ø—É–ª–∏—Ä—É–µ—Ç —ç—Ç–∏–º –æ–±—ä–µ–∫—Ç–æ–º. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –≤ –û–û–ü, —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ—Ç–æ—Ä–æ–º—É –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, —Ä–∞–±–æ—Ç–∞—é—â–µ–µ —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã –≤–º–µ—Å—Ç–µ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ), –∏ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É —Å—Ç–∏–ª—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

[–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏](#reach-anemic-model) <a id="back-from-reach-anemic-model"></a>

–ß—Ç–æ–±—ã —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–æ–∏—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å `MatchCurrentState` (–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å) –≤ "–±–æ–≥–∞—Ç—É—é" –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è —Å–∞–º–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

<details>

<summary><b>üí° –í–æ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø–æ–¥–æ–±–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ üí°</b></summary>

---

```java
public class PlayerScore {
    private static final Point INITIAL_POINTS = Point.LOVE;
    private static final int VICTORY_TIEBREAK_POINTS = 7;
    private static final int VICTORY_SET_POINTS = 6;
    private static final int MIN_ADVANTAGE_TO_WIN = 2;
    private Point points;
    private int games = 0;
    private int sets = 0;
    private int tieBreakPoints = 0;

    public PlayerScore() {
        this.points = INITIAL_POINTS;
    }

    public void increment() {
        // –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—á–∫–æ–≤
    }

    public boolean hasAdvantage() {
        return points == Point.ADVANTAGE;
    }

    public String getPointsValue() {
        return points.value();
    }

    private void incrementGamePoints() {
        games++;
    }

    private void incrementSetPoints() {
        sets++;
    }

    private void incrementTieBreakPoints() {
        tieBreakPoints++;
    }

    private void resetPoints() {
        points = INITIAL_POINTS;
    }

    enum Point {
        LOVE("0"),
        FIFTEEN("15"),
        THIRTY("30"),
        FORTY("40"),
        ADVANTAGE("AD");

        private final String value;

        Point(String value) {
            this.value = value;
        }

        public Point next() {
            if (this == ADVANTAGE) {
                throw new IllegalStateException("Has no points after advantage.");
            }
            return values()[ordinal() + 1];
        }

        public String value() {
            return value;
        }
    }
}
```

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –æ—Ç —Å–µ—Ç—Ç–µ—Ä–æ–≤ —Å—Ç–æ–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è, —á—Ç–æ–±—ã —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á—ë—Ç–∞ —É–ø—Ä–∞–≤–ª—è–ª–æ—Å—å —Ç–æ–ª—å–∫–æ —è–≤–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–º–∏ –¥–ª—è —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞–º–∏. –≠—Ç–æ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –±—ã –û–û–ü —Å—Ç–∏–ª—é –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ (–≤ —Ä–æ–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏). –¢–∞–∫–∂–µ, —ç—Ç—É —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –±—ã–ª–æ –±—ã –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

---

</details>

- ‚ùóÔ∏è–ë–ª–∞–≥–æ–¥–∞—Ä—è –ø—É–±–ª–∏—á–Ω—ã–º —Å–µ—Ç—Ç–µ—Ä–∞–º, –æ–±—ä–µ–∫—Ç `MatchCurrentState` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ –ª—é–±–æ–µ, –¥–∞–∂–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É —Ö—Ä—É–ø–∫–æ–π, —Ç–∞–∫ –∫–∞–∫ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è. –î–æ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –∑–∞—â–∏—â–∞—Ç—å —Å–≤–æ–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º–∏).

–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:
- –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã.
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π (–∫–∞–∫ `increment()` –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ).

- –ü–æ–ª—è `boolean isTieBreak` –∏ `boolean isMatchFinished` –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Ç—á–∞. –î–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ (–µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–∞–∫–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å) –ª—É—á—à–µ –ø–æ–¥–æ–π–¥—ë—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–µ:
```java
public enum MatchStage {
    REGULAR,
    TIEBREAK,
    FINISHED;
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö `boolean` —Ñ–ª–∞–≥–æ–≤ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π ‚Äî –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –≠—Ç–æ –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ `isMatchFinished = true` –∏ `isTieBreak = true` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

Enum –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–º –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º–∞—Ç—á –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –∏–∑ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.

- ‚ùóÔ∏è–ö–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—á–∫–æ–≤ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –º–∞—Ç—á–µ, –∞ —Ç–∞–∫–∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã ‚Äî —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –Ω–∞—Ä—É—à–∞–µ—Ç SRP (Single Responsibility Principle). –õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –≤ —ç—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—ã–ª–æ –±—ã, —á—Ç–æ–±—ã –∑–∞ —Å—á—ë—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –æ—Ç–≤–µ—á–∞–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª –±—ã –û–û–ü-—Å—Ç–∏–ª—é –∏ –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞.

- –ü–æ–ª—è `String playerOnePoints` –∏ `String playerTwoPoints` –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ String, —Ö–æ—Ç—è –≤ –Ω–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π. –ü–æ—Å–∫–æ–ª—å–∫—É –∫–ª–∞—Å—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π —Å–µ–π—á–∞—Å –≤ –Ω–∏—Ö –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª—é–±–æ–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è.

–¢–∏–ø String –¥–ª—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π —É–º–µ—Å—Ç–µ–Ω –¥–ª—è DTO, –Ω–æ –≤ –∫–ª–∞—Å—Å–µ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –≤–º–µ—Å—Ç–æ String –∑–¥–µ—Å—å –±–æ–ª—å—à–µ –ø–æ–¥–æ–π–¥—ë—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ (enum).

<details>

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–π üí°</b></summary>

---

```java
enum Point {
    LOVE,
    FIFTEEN,
    THIRTY,
    FORTY,
    ADVANTAGE;
}
```

---

</details>

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –±–æ–ª–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–º –æ—à–∏–±–∫–∞–º.

- ‚ùóÔ∏è–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø "Tell, Don't Ask". –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≥–æ–≤–æ—Ä–∏—Ç—å –º–∞—Ç—á—É "–æ–±—Ä–∞–±–æ—Ç–∞–π –æ—á–∫–æ", –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –º–∞—Ç—á–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–∞–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è. –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–æ–≥–∞—Ç–æ–π –º–æ–¥–µ–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç —ç—Ç–æ.

> **Tell, Don't Ask (–ì–æ–≤–æ—Ä–∏, –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–π)** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –û–û–ü, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞–¥ —Å–≤–æ–∏–º–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∞ –Ω–µ –∫ –∑–∞–ø—Ä–æ—Å—É —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–≤–Ω–µ. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞, —É–º–µ–Ω—å—à–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∏ –¥–µ–ª–∞—è —Å–∏—Å—Ç–µ–º—É –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π.

## Repositories

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ PlayerService](#citation-in-playerservice) </div>

- –ò–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ –≤ java –ø–∏—à—É—Ç –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ. –ö–æ–≥–¥–∞ —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ –Ω–∞–±–æ—Ä –∫–ª–∞—Å—Å–æ–≤ –≤ –ø–∞–∫–µ—Ç–µ, –∫–∞–∂–µ—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ, –æ–±–æ–±—â–∞—è —Ç–æ, —á—Ç–æ –≤ –Ω—ë–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –ø–∞–∫–µ—Ç–∞ –≤ –∫–ª–∞—Å—Å–µ –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: `*.validation.limits.annotations.MaxLength` –∏ `*.validation.limit.annotation.MaxLength`, —Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ª–æ–≥–∏—á–Ω—ã–º –∫–∞–∫ –ø–æ–ª–Ω–æ–µ –∏–º—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

- –ü–∞–∫–µ—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `repositories`, –Ω–æ –∫–ª–∞—Å—Å—ã –≤ –Ω—ë–º –∏–º–µ—é—Ç —Å—É—Ñ—Ñ–∏–∫—Å—ã `...Dao`. –î–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –ª—É—á—à–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç –≤ `dao` –∏–ª–∏ –∫–ª–∞—Å—Å—ã –≤ `...Repository`.

- ‚ùó–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å—ã DAO –Ω–µ –∏–º–µ—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã –ª–µ–≥—á–µ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–∫–∏) –∏–ª–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

- –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π `createPlayer(Player player)` –∏ `saveFinishedMatch(Match match)` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç void. –≠—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ, –Ω–æ –æ–±—ã—á–Ω–æ –≤ —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —É –Ω–µ—ë –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ID) –∏–ª–∏, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –±–æ–ª–µ–µ —è–≤–Ω–æ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ PlayerService –≤ –º–µ—Ç–æ–¥–µ `createPlayerIfNotExists()` —Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
Player player = playerDao.getPlayerByName(playerName);
if (player == null) {
    // ...
    playerDao.createPlayer(player);
}
return player;
```

–ª—É—á—à–µ —á–∏—Ç–∞–µ—Ç—Å—è —Ç–∞–∫:
```java
public Player getOrCreatePlayerNew(String playerName) {
    Player foundPlayer = playerDao.findByName(playerName);
    if (foundPlayer != null) {
        return foundPlayer;
    }
    Player newPlayer = new Player(playerName);
    Player savedPlayer = playerDao.save(newPlayer);
    return savedPlayer; // –∏–ª–∏ return playerDao.save(newPlayer);
}
```

### PlayerDao

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesDao](#forward-from-player-dao-1) </div>

- JPQL-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –ø—Ä—è–º–æ –≤ –º–µ—Ç–æ–¥–∞—Ö –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤. –õ—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –¥–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞, —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–µ—Ç–æ–¥–æ–≤ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º.

- –¢–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ —É–¥–æ–±–Ω–µ–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏:

```sqlite-sql
SELECT p 
FROM Player p 
WHERE p.name = :name
```

- –ß–∞—Å—Ç–∏
```sqlite-sql
SELECT p 
FROM Player p
```
–¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö ‚Äî –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```java
private static final String SELECT_ALL_JPQL = """
        SELECT p
        FROM Player p
        """;
private static final String FILTER_BY_ID_JPQL = """
        WHERE p.id = :id
        """;
private static final String FILTER_BY_NAME_JPQL = """
        WHERE p.name = :name
        """;
private static final String FIND_BY_ID_JPQL = 
        SELECT_ALL_JPQL + 
        FILTER_BY_ID_JPQL;
private static final String FIND_BY_NAME_JPQL = 
        SELECT_ALL_JPQL + 
        FILTER_BY_NAME_JPQL;
```

- ‚ùóÔ∏è–ù–æ–≤—ã–π EntityManager —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–æ–º—É, —á—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ EntityManager. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–¥–Ω–∞–∫–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã–∑–æ–≤ `entityManagerFactory.createEntityManager()` ‚Äî —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, —Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ ‚Äî –Ω–µ —Å–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

–ë–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º —è–≤–ª—è–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω Session-per-Request, –≥–¥–µ –æ–¥–∏–Ω `EntityManager` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞, —á—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ. –ó–∞—Ç–µ–º `EntityManager` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ DAO, —É—á–∞—Å—Ç–≤—É—é—â–∏–º–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏ –≤ –∫–æ–Ω—Ü–µ –∑–∞–ø—Ä–æ—Å–∞ `EntityManager` –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

- –ú–µ—Ç–æ–¥—ã `getPlayerById()` –∏ `getPlayerByName()` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `findById()` –∏ `findByName()` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞, –∞ –º–µ—Ç–æ–¥ `createPlayer()` ‚Äî –≤ `save()`.

–ù–∞–∑–≤–∞–Ω–∏—è `getPlayerById()`, `getPlayerByName()` –∏ `createPlayer()` —Ç–æ–∂–µ –ø–æ–Ω—è—Ç–Ω—ã, –Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤ `findById`, `findByName` –∏ `save()` —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∑–Ω–∞–∫–æ–º—ã—Ö —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.

- ‚ùó–í –º–µ—Ç–æ–¥–∞—Ö `getPlayerById()` –∏ `getPlayerByName()` —Å–æ–∑–¥–∞–µ—Ç—Å—è `EntityManager`, –Ω–æ –æ–Ω –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è. <a id="playerdao-1"></a>

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesDao](#forward-from-player-dao-2) </div>

```java
public Player getPlayerById(Integer id) {
    EntityManager entityManager = entityManagerFactory.createEntityManager(); // EntityManager —Å–æ–∑–¥–∞–Ω...
    List<Player> players = entityManager.createQuery("...", Player.class)
            // ...
            .getResultList();
    return players.isEmpty() ? null : players.get(0);
    // ... –Ω–æ –Ω–µ –∑–∞–∫—Ä—ã—Ç
}
```

`EntityManager` (–∏ –ª–µ–∂–∞—â–∞—è –≤ –µ–≥–æ –æ—Å–Ω–æ–≤–µ —Å–µ—Å—Å–∏—è Hibernate) —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ –∑–∞–∫—Ä—ã—Ç—å, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç –Ω–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—É–ª. –ü—Ä–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—É–ª –∏—Å—á–µ—Ä–ø–∞–µ—Ç—Å—è, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ `EntityManager` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é `try-with-resources`.
```java
public Player getPlayerById(Integer id) {
    // EntityManager —Ä–µ–∞–ª–∏–∑—É–µ—Ç AutoCloseable, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ try-with-resources
    try (EntityManager entityManager = entityManagerFactory.createEntityManager()) {
        List<Player> players = entityManager.createQuery("SELECT p FROM Player p WHERE p.id = :id", Player.class)
                .setParameter("id", id)
                .getResultList();
        return players.isEmpty() ? null : players.get(0);
    }
    // –ó–¥–µ—Å—å entityManager –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
}
```
–¢–∞–∫–æ–µ –∂–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –∏ –≤ `getPlayerByName()`.

–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–∂–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

- –î–ª—è –ø–æ–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –ø–æ–ª—é (`id` –∏–ª–∏ `name`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `getResultList()`. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `getSingleResult()`. –û–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –û–Ω –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `NoResultException`, –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –∏ `NonUniqueResultException`, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
```java
// –í –º–µ—Ç–æ–¥–µ getPlayerById
try (EntityManager entityManager = entityManagerFactory.createEntityManager()) {
    return entityManager.createQuery("...", Player.class)
        .setParameter("id", id)
        .getSingleResult();
}
```
–¢–∞–∫–æ–µ –∂–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –∏ –≤ `getPlayerByName()`.

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º. –û–Ω "—É–ø–∞–¥—ë—Ç" —Å –ø–æ–Ω—è—Ç–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º (`NonUniqueResultException`), –µ—Å–ª–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∞, —á—Ç–æ –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É.

- –î–ª—è –ø–æ–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ ID –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ ID —á–µ—Ä–µ–∑ EntityManager.

–°–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ `getPlayerById()` —Ç–∞–∫:
```java
List<Player> players = entityManager.createQuery("SELECT p FROM Player p WHERE p.id = :id", Player.class)
        .setParameter("id", id)
        .getResultList();
```

–ª—É—á—à–µ —Ç–∞–∫:
```java
Player player = entityManager.find(Player.class, id);
```

- ‚ùó–ú–µ—Ç–æ–¥—ã `getPlayerById()` –∏ `getPlayerByName()` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `null`, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω. –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ `null` ‚Äî —ç—Ç–æ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö `NullPointerException` –≤ –≤—ã–∑—ã–≤–∞—é—â–µ–º –∫–æ–¥–µ. –ö–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π DAO, –≤—ã–Ω—É–∂–¥–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–º–Ω–∏—Ç—å –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ `null`.

–õ—É—á—à–µ –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Optional<Player>`. `Optional` –±—ã–ª –≤–≤–µ–¥–µ–Ω –≤ Java 8 –∫–∞–∫ —Ä–∞–∑ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —è–≤–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ, –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã `Optional` (`isPresent()`, `isEmpty()`, `ifPresent()`, `orElse()` –∏ —Ç.–¥.), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –º–µ–Ω–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–º –æ—à–∏–±–∫–∞–º.

<details>

<summary><b>üí° –ú–µ—Ç–æ–¥—ã `getPlayerById()` –∏ `getPlayerByName()` –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫ üí°</b></summary>

---

```java
public Optional<Player> findByName(String name) {
    try (EntityManager entityManager = entityManagerFactory.createEntityManager()) {
        Player player = entityManager.createQuery("...", Player.class)
                .setParameter("name", name)
                .getSingleResult();
        return Optional.of(player); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º Optional —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
    } catch (NoResultException e) {
        return Optional.empty(); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π Optional, –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
    }
}

public Optional<Player> findById(Integer id) {
    try (EntityManager entityManager = entityManagerFactory.createEntityManager()) {
        Player player = entityManager.find(Player.class, id);
        return Optional.ofNullable(player); // ofNullable() —Å–∞–º –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç null, –µ—Å–ª–∏ find –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ—Ç
    }
}
```

---

</details>

- –í –º–µ—Ç–æ–¥–µ `createPlayer()` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `Exception`, –∞ –∑–∞—Ç–µ–º –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –æ–±—â–µ–µ `RuntimeException`:

```java
} catch (Exception e) {
    // ... rollback
    throw new RuntimeException(e);
}
```

–°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –¥–æ–ª–∂–µ–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∏–∂–µ–ª–µ–∂–∞—â–µ–≥–æ —É—Ä–æ–≤–Ω—è (JPA/Hibernate) –≤ —Å–≤–æ–∏, –ø–æ–Ω—è—Ç–Ω—ã–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–õ—É—á—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `DatabaseException`, —á—Ç–æ–±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –Ω–µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–µ.

```java
// –í –º–µ—Ç–æ–¥–µ createPlayer()
} catch (Exception e) {
    if (entityManager.getTransaction().isActive()) {
        entityManager.getTransaction().rollback();
    }
    // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ —Å–≤–æ—ë, —Å–æ—Ö—Ä–∞–Ω—è—è –∏—Å—Ö–æ–¥–Ω—É—é –ø—Ä–∏—á–∏–Ω—É
    throw new DatabaseException("Failed to create player: " + player.getName(), e);
}
```
–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –ª–æ–≤–∏—Ç—å `DatabaseException` –∏ –≤—ã–≤–æ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø—Ä–∏ —ç—Ç–æ–º –ª–æ–≥–∏—Ä—É—è –ø–æ–ª–Ω—É—é –ø—Ä–∏—á–∏–Ω—É (`e`).

- ‚ùó–í—ã–∑–æ–≤ `transaction.rollback()` —Å—Ç–æ–∏—Ç —Ç–æ–∂–µ –æ–±–µ—Ä–Ω—É—Ç—å –≤ try, –∏–Ω–∞—á–µ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –æ–Ω–æ –∑–∞–º–∞—Å–∫–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ try. <a id="playerdao-2"></a>

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesDao](#forward-from-player-dao-3) </div>

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```java
public Player save(Player player) {
    EntityTransaction transaction = null;
    try (EntityManager entityManager = entityManagerFactory.createEntityManager()) {
        transaction = entityManager.getTransaction();
        
        transaction.begin();
        entityManager.persist(player);
        transaction.commit();
        
        return player;
    } catch (Exception e) {
        safeRollback(transaction, e);
        throw new DatabaseException("Failed to save player", e);
    }
}

private void safeRollback(EntityTransaction transaction, Exception originalException) {
    if (transaction != null && transaction.isActive()) {
        try {
            transaction.rollback();
        } catch (Exception rollbackException) {
            originalException.addSuppressed(rollbackException);
        }
    }
}
```

### MatchesDao
- JPQL-–∑–∞–ø—Ä–æ—Å—ã –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ –∏ –¥–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ [PlayerDao](#playerdao) <a id="forward-from-player-dao-1"></a>

- ‚ùó–°–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å EntityManager –ª—É—á—à–µ –≤ –±–ª–æ–∫–∞—Ö `try-with-resources`, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [PlayerDao](#playerdao-1) <a id="forward-from-player-dao-2"></a>

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ (–≤ –º–µ—Ç–æ–¥–µ `entityManager.createQuery()`) EntityManager –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã—Ç.

- ‚ùó–í –º–µ—Ç–æ–¥ `saveFinishedMatch()` —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ—Ç–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [PlayerDao](#playerdao-2) <a id="forward-from-player-dao-3"></a>

- ‚ùó–ú–µ—Ç–æ–¥—ã `countByPlayerName()` –∏ `countAll()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—É—Ç—ë–º –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –ë–î –≤ `List` –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã–∑–æ–≤–∞ `.size()`.

```java
public int countByPlayerName(String playerNameFilter) {
    EntityManager entityManager = entityManagerFactory.createEntityManager();
    List<Match> matches = entityManager.createQuery( /* ... */ ).
            getResultList();
    // ...
    return matches.size();
}

public int countAll() {
    EntityManager entityManager = entityManagerFactory.createEntityManager();
    List<Match> matches = entityManager.createQuery( /* ... */ ).
            getResultList();
    // ...
    return matches.size();
}
```
–≠—Ç–æ —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ `OutOfMemoryError` –∏ –æ—Ç–∫–∞–∑—É –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑-–∑–∞ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ø–∞–º—è—Ç—å —Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á –æ–±—ä–µ–∫—Ç–æ–≤.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –º–∞—Ç—á–µ–π –ª—É—á—à–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –ë–î, —Å–ª–µ–¥—É–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Ä–Ω—ë—Ç `Long count` –∏–∑ —Å–∞–º–æ–π –±–∞–∑—ã.

- –¢–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ `countByPlayerName()` –∏ `countAll()` —Å—Ç–æ–∏—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `long`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è `int`.

- –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –≤–º–µ—Å—Ç–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
"SELECT m FROM Match m "
"JOIN FETCH m.playerOne  " +
"JOIN FETCH m.playerTwo  " +
"JOIN FETCH m.winner"
```

–ª—É—á—à–µ —Ç–∞–∫:
```java
"""
SELECT m FROM Match m
JOIN FETCH m.playerOne
JOIN FETCH m.playerTwo
JOIN FETCH m.winner
"""
```

- ‚ùó–í –º–µ—Ç–æ–¥–∞—Ö `readAll` –∏ `findByPlayerName` —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∂–µ—Å—Ç–∫–æ –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ –∫–æ–¥–µ (`.setMaxResults(5)`). DAO –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ —Ä–∞–∑–º–µ—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ —Å–º–µ—â–µ–Ω–∏–µ–º (`offset`) –∏ –ª–∏–º–∏—Ç–æ–º (`limit`). –ü–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `limit` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–µ—Ç–æ–¥–∞.
```java
public List<Match> findAll(int offset, int limit) {
    try (EntityManager entityManager = entityManagerFactory.createEntityManager()) {
        return entityManager.createQuery(..., Match.class)
                .setFirstResult(offset)
                .setMaxResults(limit) // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä
                .getResultList();
    }
}
```

- –ù–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ (`readAll()`, `saveFinishedMatch()`) –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç–æ–º—É –ø–æ–¥—Ö–æ–¥—É (–∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω—ã —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤ PlayerDao, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å—ã `get...` –∏ `create...`).

–°—Ç–æ–∏—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å:
- `readAll` ‚Äî> `findAll`
- `findByPlayerName` ‚Äî> `findAllByPlayerName` (—á—Ç–æ–±—ã –æ—Ç–ª–∏—á–∞—Ç—å –æ—Ç –ø–æ–∏—Å–∫–∞ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏)
- `saveFinishedMatch` ‚Äî> `save`

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–º—ë–Ω (`find...`, `save`, `count...`) –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è –ª—é–±–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∑–Ω–∞–∫–æ–º–æ–≥–æ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Repository.

- ‚ùóÔ∏è–í –º–µ—Ç–æ–¥–∞—Ö `readAll()` –∏ `findByPlayerName()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `.setFirstResult(offset)` –∏ `.setMaxResults(5)`, –Ω–æ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ ‚Äî –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `ORDER BY`. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–ø—É—Å–∫–∞–º –∏–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∑–∞–ø–∏—Å–µ–π –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø–æ—Ç–æ–º—É —á—Ç–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –ø–æ—Ä—è–¥–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ç—Ä–æ–∫, –µ—Å–ª–∏ –æ–Ω –Ω–µ –∑–∞–¥–∞–Ω —è–≤–Ω–æ.

–°—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É ‚Äî `ORDER BY` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ ID), –≤ —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–æ–≤:
```java
String jpql = """
    SELECT m FROM Match m
    ...
    ORDER BY m.id DESC
    """;
```
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∫–ª—é—á—É —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –Ω–∞–¥—ë–∂–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º.

- ‚ùó–¢–µ–ª–∞ –º–µ—Ç–æ–¥–æ–≤ `readAll()`, `findByPlayerName()`, `countByPlayerName()` –∏ `countAll()` —Å—Ç–æ–∏—Ç –æ–±–µ—Ä–Ω—É—Ç—å –≤ `try-catch`, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ª–æ–≤–∏—Ç—å –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ `DatabaseException`.

- –í –∑–∞–ø—Ä–æ—Å–∞—Ö –≤ –º–µ—Ç–æ–¥–∞—Ö `findByPlayerName()` –∏ `countByPlayerName()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `LOWER(column) LIKE LOWER(:name)`. –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –°–£–ë–î. –ü–æ—Å–∫–æ–ª—å–∫—É –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è H2, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä `ILIKE`, –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ `LOWER()` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `ILIKE` ‚Äî —Ç–æ–≥–¥–∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```sqlite-sql
WHERE LOWER(m.playerOne.name) LIKE LOWER(:name)
```

–º–æ–∂–Ω–æ —Ç–∞–∫:
```sqlite-sql
WHERE m.playerOne.name ILIKE :name
```

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–µ–º–Ω–æ–≥–æ —á–∏—â–µ –∏ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º. –û–¥–Ω–∞–∫–æ, `ILIKE` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ JPA, –ø–æ—ç—Ç–æ–º—É —Ç–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –º–µ–Ω–µ–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–º –Ω–∞ –¥—Ä—É–≥–∏–µ –°–£–ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, MySQL –∏–ª–∏ Oracle).

- –ü—Ä–æ–≤–µ—Ä–∫–∞ `OR LOWER(m.winner.name) LIKE LOWER(:name)` –∏–∑–±—ã—Ç–æ—á–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –∏–º—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤—Å–µ–≥–¥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∏–º–µ–Ω–µ–º –æ–¥–Ω–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ (—á—Ç–æ –º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î, –¥–æ–±–∞–≤–∏–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–µ [Match](#forward-from-matchesdao) –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è). <a id="forward-from-match-to-matchesdao"></a>

## Service
- ‚ùó–°–µ—Ä–≤–∏—Å—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π DAO –∫–ª–∞—Å—Å–æ–≤, –∞ –Ω–µ –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion Principle, DIP) –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è DAO –∫–ª–∞—Å—Å–æ–≤ –∏ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –∑–∞–≤–∏—Å–∏–º—ã–º–∏ –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

### PlayerService
- –ü–æ–ª–µ `PlayerDao playerDao` —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å final. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä Java –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ final –ø–æ–ª—è ‚Äî –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ–º—É –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ (–∏–ª–∏ –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏), —Ç–æ –∫–æ–¥ –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏–µ–π —Ç–æ–≥–æ, —á—Ç–æ –æ–±—ä–µ–∫—Ç PlayerService –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –±–µ–∑ —Å–≤–æ–µ–π –∫–ª—é—á–µ–≤–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî playerDao. –ï—Å–ª–∏ –∑–∞–±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å final –ø–æ–ª–µ, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∞ –Ω–µ NullPointerException –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –∫–∞–∫–æ–π-–ª–∏–±–æ –º–µ—Ç–æ–¥ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å `playerDao.someMethod()`.

- ‚ùóRace condition –≤ –º–µ—Ç–æ–¥–µ `getOrCreatePlayer()`: –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ª–æ–≥–∏–∫—É "–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å" (`check-then-act`).
```java
public Player getOrCreatePlayer(String playerName) {
    // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
    Player player = playerDao.getPlayerByName(playerName); 
    if (player == null) {
        // –ó–∞—Ç–µ–º –¥–µ–π—Å—Ç–≤–∏–µ
        // ...
        playerDao.createPlayer(player);
    }
    return player;
}
```
–í –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ (—Ç–æ –µ—Å—Ç—å –Ω–∞ –ª—é–±–æ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ) —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –ï—Å–ª–∏ –¥–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—ã—Ç–∞—é—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –º–∞—Ç—á —Å –Ω–æ–≤—ã–º –∏–≥—Ä–æ–∫–æ–º "–ù–æ–≤–∞–∫ –î–∂–æ–∫–æ–≤–∏—á", —Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Å–ª–µ–¥—É—é—â–µ–µ:

–®–∞–≥ 1: –ü–æ—Ç–æ–∫ 1 –≤—ã–∑—ã–≤–∞–µ—Ç `playerDao.getPlayerByName("–ù–æ–≤–∞–∫ –î–∂–æ–∫–æ–≤–∏—á")`. –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, `player` —Ä–∞–≤–µ–Ω `null`.

–®–∞–≥ 2: –ü–æ—Ç–æ–∫ 2 –≤ —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `playerDao.getPlayerByName("–ù–æ–≤–∞–∫ –î–∂–æ–∫–æ–≤–∏—á")`. –¢–æ–∂–µ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, `player` —Ä–∞–≤–µ–Ω `null`.

–®–∞–≥ 3: –ü–æ—Ç–æ–∫ 1 –≤—Ö–æ–¥–∏—Ç –≤ –±–ª–æ–∫ `if`, —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç `Player` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `playerDao.createPlayer(player)`. –ò–≥—Ä–æ–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î.

–®–∞–≥ 4: –ü–æ—Ç–æ–∫ 2 —Ç–∞–∫–∂–µ –≤—Ö–æ–¥–∏—Ç –≤ –±–ª–æ–∫ `if` (–ø–æ—Å–∫–æ–ª—å–∫—É –¥–ª—è –Ω–µ–≥–æ `player` —Ç–æ–∂–µ –±—ã–ª `null`), —Å–æ–∑–¥–∞–µ—Ç –≤—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç `Player` –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å `playerDao.createPlayer(player)`.

–®–∞–≥ 5: –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `ConstraintViolationException`, —Ç–∞–∫ –∫–∞–∫ –∏–≥—Ä–æ–∫ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –≠—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –∏ –≤—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç —Ç–æ–º–∫–∞—Ç–∞ —Å –æ—à–∏–±–∫–æ–π `500 Internal Server Error`.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å—Ç–æ–∏—Ç —Å—Ä–∞–∑—É –ø—ã—Ç–∞—Ç—å—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç –ë–î, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

- ‚ùó–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –º–µ—Å—Ç–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –û–¥–Ω–∞ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—è ("–ø–æ–ª—É—á–∏—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∏–≥—Ä–æ–∫–∞") –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π –∞—Ç–æ–º–∞—Ä–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ë–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º, –≤—Ä–æ–¥–µ –æ–ø–∏—Å–∞–Ω–Ω–æ–π –≤—ã—à–µ –≥–æ–Ω–∫–∏.

–ò–º–µ–µ—Ç —Å–º—ã—Å–ª –æ–±–µ—Ä–Ω—É—Ç—å –ª–æ–≥–∏–∫—É –º–µ—Ç–æ–¥–∞ `getOrCreatePlayer()` –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

- ‚ùó–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞, —á—Ç–æ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ `Static member 'com.tennis.mapper.CreatePlayerMapper.mapFrom(com.tennis.dto.PlayerRequestDto)' accessed via instance reference` –Ω–∞ —Å—Ç—Ä–æ–∫–µ `CreatePlayerMapper.INSTANCE.mapFrom(playerRequestDto)`.

- –í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `getOrCreatePlayer()` —Å–æ–∑–¥–∞—ë—Ç—Å—è `PlayerRequestDto` —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–µ—Ä. –≠—Ç–æ –ª–∏—à–Ω–∏–π –∫–æ–¥ ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –Ω–µ—Å—ë—Ç –Ω–∏–∫–∞–∫–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–ª—å–∑—ã –≤ –¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, —Ç–∞–∫ –∫–∞–∫ –≤—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚Äî —ç—Ç–æ `playerName`. –ë—ã–ª–æ –±—ã —Ö–æ—Ä–æ—à–æ ‚Äî —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–¥, —Å–æ–∑–¥–∞–≤–∞—è –æ–±—ä–µ–∫—Ç `Player` –Ω–∞–ø—Ä—è–º—É—é. –ò –µ—â—ë –ª—É—á—à–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å `PlayerRequestDto` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ).

- –ò–∑ –º–µ—Ç–æ–¥–∞ `getOrCreatePlayer()` –ª—É—á—à–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Ä–Ω—É–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π/DAO –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –∫–∞–∫ –±—ã–ª–æ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [Repositories](#repositories) <a id="citation-in-playerservice"></a>

### MatchService
- –í –º–µ—Ç–æ–¥–µ `updateScore()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `MatchScoreService` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–∑–æ–≤ `MatchScoreService.getInstance()`. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç `MatchService` –∂—ë—Å—Ç–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π `MatchScoreService` ‚Äî –Ω–µ–ª—å–∑—è –ª–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ –¥—Ä—É–≥—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–ª–∏ mock-–æ–±—ä–µ–∫—Ç –≤ —Ç–µ—Å—Ç–∞—Ö. –¢–∞–∫–∂–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `MatchScoreService` –Ω–µ –≤–∏–¥–Ω–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ `MatchService` ‚Äî —ç—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –æ—Ç —á–µ–≥–æ –∑–∞–≤–∏—Å–∏—Ç –∫–ª–∞—Å—Å.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ `MatchScoreService` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ã—á–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é, –∫–æ—Ç–æ—Ä–∞—è –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç –∂—ë—Å—Ç–∫—É—é —Å–≤—è–∑—å, —Å–¥–µ–ª–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã–º–∏ –∏ –ø–æ–∑–≤–æ–ª–∏—Ç –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `MatchService`, –ø–æ–¥–º–µ–Ω—è—è `MatchScoreService` –º–æ–∫-–æ–±—ä–µ–∫—Ç–æ–º. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –∫–ª–∞—Å—Å –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—É –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion Principle, DIP).

- ‚ùóRace condition –≤ –º–µ—Ç–æ–¥–µ `updateScore()`: –≤ –º–µ—Ç–æ–¥–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å "–ø—Ä–æ–≤–µ—Ä—å-–ø–æ—Ç–æ–º-–¥–µ–π—Å—Ç–≤—É–π" (check-then-act). –°–Ω–∞—á–∞–ª–∞ –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `!match.isMatchFinished()`, –∞ –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤.
  –û–¥–∏–Ω –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É `!match.isMatchFinished()`, –Ω–æ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ–Ω —É—Å–ø–µ–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Å—á—ë—Ç, –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–æ—Ç –∂–µ –º–∞—Ç—á. –í –∏—Ç–æ–≥–µ –ø–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Å—á—ë—Ç —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏–ª–∏ –æ—à–∏–±–∫–∞–º.

–°—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á—ë—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ–π. –ü–æ—Å–∫–æ–ª—å–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `ConcurrentHashMap`, —Ö–æ—Ä–æ—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–∏–≥—Ä–∞–Ω–Ω–æ–≥–æ –æ—á–∫–∞ –≤ –∫–ª–∞—Å—Å–∞—Ö –º–æ–¥–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω Chain of responsibility) –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –µ—ë –≤ –º–µ—Ç–æ–¥–µ `ConcurrentHashMap.compute()`, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞.

- –ú–µ—Ç–æ–¥ `finishMatch()` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "—Ç–∏—Ö–∏–π" –≤—ã—Ö–æ–¥ –∏–∑ –º–µ—Ç–æ–¥–∞:
```java
MatchCurrentState currentState = currentMatches.get(matchId);
if (currentState == null) {
    return;
}

if (!currentState.isMatchFinished() || currentState.getWinnerId() == null) {
    return;
}
```

"–¢–∏—Ö–æ–µ" –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ï—Å–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `finishMatch()` –¥–ª—è –º–∞—Ç—á–∞, –∫–æ—Ç–æ—Ä—ã–π –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤ –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é, –æ–Ω –Ω–µ –ø–æ–ª—É—á–∏—Ç –Ω–∏–∫–∞–∫–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏. –û—à–∏–±–∫–∞ –±—É–¥–µ—Ç –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∞, —á—Ç–æ —Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω–∏—Ç –æ—Ç–ª–∞–¥–∫—É. –í–º–µ—Å—Ç–æ `return;` —Å—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —è–≤–Ω–æ —Å–æ–æ–±—â–∞—é—â–µ–µ –æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –¢–∞–∫ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∏–∫–µ –±—É–¥—É—Ç –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è —Å—Ä–∞–∑—É –≤ –≤–∏–¥–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –∏—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

- ‚ùó–í –º–µ—Ç–æ–¥–µ `finishMatch()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏–≥—Ä–æ–∫–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: –æ–¥–∏–Ω –¥–ª—è `playerOne`, –æ–¥–∏–Ω –¥–ª—è `playerTwo` –∏ –µ—â–µ –æ–¥–∏–Ω –¥–ª—è `winner`. –≠—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–º –º–∞—Ç—á–∞ (`winner`) –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤ (`playerOne` –∏–ª–∏ `playerTwo`), –æ–±—ä–µ–∫—Ç—ã –∫–æ—Ç–æ—Ä—ã—Ö —É–∂–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –î–µ–ª–∞—Ç—å —Ç—Ä–µ—Ç–∏–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ `playerOne` –∏ `playerTwo`, –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫—Ç–æ –∏–∑ –Ω–∏—Ö –ø–æ–±–µ–¥–∏—Ç–µ–ª—å, —Å—Ä–∞–≤–Ω–∏–≤–∞—è –∏—Ö ID —Å `winnerId`. –≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Å–Ω–∏–∑–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –∏ —É–≤–µ–ª–∏—á–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

- –í –º–µ—Ç–æ–¥–µ `finishMatch()` –æ–±—ä–µ–∫—Ç `Match` —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ –∑–∞—Ç–µ–º –µ–≥–æ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–µ—Ç—Ç–µ—Ä—ã.
```java
Match match = new Match();
match.setPlayerOne(playerOne);
match.setPlayerTwo(playerTwo);
match.setWinner(winner);
```
–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç `Match` –≤ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º, –Ω–µ–ø–æ–ª–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å—Ä–∞–∑—É –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º, –≥–æ—Ç–æ–≤–æ–º –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
```java
Match match = new Match(playerOne, playerTwo, winner);
```

- –í –º–µ—Ç–æ–¥–µ `finishMatch()` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç 4 –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –º–∞—Ç—á.
```java
public void finishMatch(UUID matchId) {
    // ...
    Player playerOne = playerDao.getPlayerById(currentState.getPlayerOneId()); // –ó–∞–ø—Ä–æ—Å 1
    Player playerTwo = playerDao.getPlayerById(currentState.getPlayerTwoId()); // –ó–∞–ø—Ä–æ—Å 2
    Player winner = playerDao.getPlayerById(currentState.getWinnerId());       // –ó–∞–ø—Ä–æ—Å 3

    Match match = new Match();
    // ...
    matchesDao.saveFinishedMatch(match); // –ó–∞–ø—Ä–æ—Å 4
    
    currentMatches.remove(matchId);
}
```
–°—Ç–æ–∏—Ç –ø–æ–∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–∞—Ç—á —Å –∏–≥—Ä–æ–∫–∞–º–∏ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ ‚Äî —ç—Ç–æ —Å–Ω–∏–∑–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î –∏ —É–≤–µ–ª–∏—á–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

- ‚ùóÔ∏è–°—Ç–æ–∏—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ —Å–ª–æ–µ —Å–µ—Ä–≤–∏—Å–æ–≤, —á—Ç–æ–±—ã –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥ `finishMatch()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (–∫–∞–∫ —É–∂–µ —Å–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ): —Ç—Ä–∏ —á—Ç–µ–Ω–∏—è –∏–∑ `playerDao` –∏ –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –≤ `matchesDao.saveFinishedMatch(match)`. –≠—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –æ–±–µ—Ä–Ω—É—Ç—ã –≤ –µ–¥–∏–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–±–æ–π –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –º–∞—Ç—á–∞ –≤ `matchesDao` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º), —Å–∏—Å—Ç–µ–º–∞ –æ–∫–∞–∂–µ—Ç—Å—è –≤ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –õ–æ–≥–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è "–∑–∞–≤–µ—Ä—à–∏—Ç—å –º–∞—Ç—á" –Ω–µ –±—É–¥–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π.

–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π ‚Äî –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –º–µ—Å—Ç–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤—Å—è –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—è –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, –ª–∏–±–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

- –í –º–µ—Ç–æ–¥–∞—Ö `getMatches()` –∏ `getTotalMatchesCount()` –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –±–ª–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ `if (filterByPlayerName != null && !filterByPlayerName.trim().isEmpty())`.

–ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ —Å –ø–æ–Ω—è—Ç–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º:
```java
public List<Match> getMatches(String filterByPlayerName, int offset) {
    if (isPlayerFilterApplied(filterByPlayerName) {
        return matchesDao.findByPlayerName(filterByPlayerName, offset);
    }
    return matchesDao.readAll(offset);
}

public int getTotalMatchesCount(String filterByPlayerName) {
    if (isPlayerFilterApplied(filterByPlayerName) {
        return matchesDao.countByPlayerName(filterByPlayerName);
    }
    return matchesDao.countAll();
}

private boolean isPlayerFilterApplied(String filterByPlayerName) {
    return filterByPlayerName != null && !filterByPlayerName.isBlank();
}
```

- ‚ùó–°–µ–π—á–∞—Å –∫–ª–∞—Å—Å `MatchService` –æ—Ç–≤–µ—á–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞ –¥–≤–µ —Ä–∞–∑–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏:
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏–º–∏ –º–∞—Ç—á–∞–º–∏: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–µ–π –≤ –ø–∞–º—è—Ç–∏ (`currentMatches`), —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç–∞.
    - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –º–∞—Ç—á–µ–π: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º –º–∞—Ç—á–∞–º –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`getMatches`, `getTotalMatchesCount`).

–≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP).

–†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Å –Ω–∞ –¥–≤–∞, –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–µ–π —á—ë—Ç–∫–æ–π –∑–æ–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- `OngoingMatchService` ‚Äî –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ –º–∞—Ç—á–∏ –≤ –ø–∞–º—è—Ç–∏
- `FinishedMatchService` ‚Äî –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ –∑–∞–ø—Ä–æ—Å—ã –∫ DAO

### MatchScoreService
- ‚ùó–ì–ª–∞–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∫–ª–∞—Å—Å–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø–æ –ø–æ–¥—Å—á—ë—Ç—É –æ—á–∫–æ–≤, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç, —á—å—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–Ω –∏–∑–º–µ–Ω—è–µ—Ç (`MatchCurrentState`), —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ "–∞–Ω–µ–º–∏—á–Ω—ã–º" –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö —Å –≥–µ—Ç—Ç–µ—Ä–∞–º–∏ –∏ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏.

    - –°–µ—Ä–≤–∏—Å –∑–Ω–∞–µ—Ç –≤—Å—ë –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ `MatchCurrentState` –∏ –ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ `MatchCurrentState` –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.
    - –î–∞–Ω–Ω—ã–µ (–≤ `MatchCurrentState`) –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–≤ `MatchScoreService`) —Ä–∞–∑–¥–µ–ª–µ–Ω—ã, —Ö–æ—Ç—è –ø–æ —Å—É—Ç–∏ –æ–Ω–∏ –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ —Å–≤—è–∑–∞–Ω—ã.
    - –ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–¥—Å—á—ë—Ç–∞ –≥–µ–π–º–∞, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `MatchScoreService` –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `MatchCurrentState`, —á—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ.

–≠—Ç–æ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É —Å—Ç–∏–ª—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –Ω–µ –û–û–ü.

–†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ "–±–æ–≥–∞—Ç–æ–π" –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `OngoingMatch`). –°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Ç–æ–ª—å–∫–æ –≤—ã–∑—ã–≤–∞—Ç—å –µ–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã (–≤ –∏–¥–µ–∞–ª–µ ‚Äî –æ–¥–∏–Ω –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏—Ç —Ü–µ–ø–æ—á–∫—É –≤—ã—á–∏—Å–ª–µ–Ω–∏–π).

–í —Ç–∞–∫–æ–º –¥—É—Ö–µ:
```java
// "–ë–æ–≥–∞—Ç–∞—è" –¥–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
public class OngoingMatch {
    private Score score;
    // ...
    public void addPointFor(int playerId) {
        // –í—Å—è –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤, –≥–µ–π–º–æ–≤, —Å–µ—Ç–æ–≤ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –∑–¥–µ—Å—å
        this.score = score.incrementFor(playerId);
        // ...
    }
}

// "–¢–æ–Ω–∫–∏–π" —Å–µ—Ä–≤–∏—Å
public class MatchScoreService {
    public void processPoint(OngoingMatch match, int winningPlayerId) {
        match.addPointFor(winningPlayerId); // –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —É –º–æ–¥–µ–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
    }
}
```

- ‚ùó–ö–ª–∞—Å—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ `public` –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –¥–µ—Ç–∞–ª—è–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏. –ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∞—Å—Ç—å—é –ø—É–±–ª–∏—á–Ω–æ–≥–æ API (`countPoints()`, `countGames()`, `countDeuce()`, `countAdvantage()`, `incrementPoints()`, `incrementGames()`, `incrementSets()`, `checkAndFinishMatch()`, `saveSetsResults()`, `resetScore()`, `winGameAndResetPoints()`, `winSetAndResetGames()`, `countTieBreak()`) —Å—Ç–æ–∏—Ç –¥–µ–ª–∞—Ç—å private.

–£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–∞ –≤ —Ç–µ—Å—Ç–∞—Ö –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π, —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ä–∏—Ç—å –µ–≥–æ –≤–∏–¥–∏–º–æ—Å—Ç—å.

–†–µ—à–µ–Ω–∏–µ (–¥–ª—è —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π use case. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–¥–µ–ª–∞—Ç—å `private`.
```java
public class MatchScoreService {
    // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞
    public void processPoint(MatchCurrentState match, int winningPlayerId) {
        if (match.isTieBreak()) {
            countTieBreak(match, winningPlayerId);
        } else {
            countPoints(match, winningPlayerId);
        }
    }
    
    // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏
    private void countPoints() {}
    private void countGames() {}
    // ...
}
```

- ‚ùó–ú–µ—Ç–æ–¥ `countPoints` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ü–µ–ø–æ—á–∫—É –∏–∑ `if-else if-else`, –∫–æ—Ç–æ—Ä–∞—è –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—à–∏–Ω—É —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –≥–µ–π–º–∞.
```java
public void countPoints(MatchCurrentState match, int scoreButtonId) {
    int playerOnePoints = convertPointsFromTennis(match.getPlayerOnePoints());
    int playerTwoPoints = convertPointsFromTennis(match.getPlayerTwoPoints());
    if (playerOnePoints == 3 && playerTwoPoints == 3) {
        countDeuce(match, scoreButtonId);
    } else if (playerOnePoints == 3 && playerTwoPoints == 4) {
        countAdvantage(match, scoreButtonId, 2, 1);
    } else if (playerOnePoints == 4 && playerTwoPoints == 3) {
        countAdvantage(match, scoreButtonId, 1, 2);
    } else if ((playerOnePoints == 3 && scoreButtonId == 1) || (playerTwoPoints == 3 && scoreButtonId == 2)) {
        winGameAndResetPoints(match, scoreButtonId);
    } else {
        incrementPoints(match, scoreButtonId);
    }
}
```
–¢–∞–∫–æ–π –∫–æ–¥ –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å, –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø–æ–∏—Å–∫ –Ω—É–∂–Ω–æ–π –≤–µ—Ç–∫–∏ –≤ —á–µ—Ä–µ–¥–µ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π.

–û–¥–Ω–∏–º –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –±–æ–ª–µ–µ —É–¥–∞—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–°–æ—Å—Ç–æ—è–Ω–∏–µ" (State):
- –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `GameState` —Å –º–µ—Ç–æ–¥–æ–º `addPoint()`.
- –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `RegularState`, `DeuceState`, `TieBreakState`.
- –î–æ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `OngoingMatch` –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–∫—É—â–∏–π –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è.
- –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `OngoingMatch.addPoint()`, –æ–Ω –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤ —Ç–µ–∫—É—â–µ–º—É –æ–±—ä–µ–∫—Ç—É-—Å–æ—Å—Ç–æ—è–Ω–∏—é. –û–±—ä–µ–∫—Ç-—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç-—Å–æ—Å—Ç–æ—è–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –º–∞—Ç—á.

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–≤–µ–¥—ë—Ç—Å—è –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∞ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏.

–î—Ä—É–≥–∏–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å:
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è (Strategy): –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ScoringStrategy` –∏ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `RegularPointStrategy`, `DeuceStrategy`, `TieBreakStrategy`. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "–°–æ—Å—Ç–æ—è–Ω–∏–µ", –∑–¥–µ—Å—å "–∫–æ–Ω—Ç–µ–∫—Å—Ç" (—Å–µ—Ä–≤–∏—Å) —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–∞–∫—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤—ã–±—Ä–∞—Ç—å –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –º–∞—Ç—á–∞.
- –¶–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (Chain of Responsibility): –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (`TieBreakHandler` -> `DeuceHandler` -> `RegularHandler`). –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—Ä–∏–º–µ–Ω–∏–º –ª–∏ –æ–Ω –∫ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏. –ï—Å–ª–∏ –¥–∞ ‚Äî –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É –≤ —Ü–µ–ø–∏.

–í—Å–µ —Ç—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (`State`, `Strategy`, `Chain of Responsibility`) —è–≤–ª—è—é—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏ –¥–ª—è –∑–∞–º–µ–Ω—ã —Å–ª–æ–∂–Ω–æ–π —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏.

- ‚ùó–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ "–º–∞–≥–∏—á–µ—Å–∫–∏—Ö" –∑–Ω–∞—á–µ–Ω–∏–π: –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `int` (1, 2) –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ –∏ `String` ("points", "games") –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–æ–π.

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –ª–µ–≥–∫–æ –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ–ø–µ—á–∞—Ç–∫—É (`"point"` –≤–º–µ—Å—Ç–æ `"points"`) –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `playerId = 3`), –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —ç—Ç–æ–≥–æ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç.

–¢–∞–∫–∂–µ, –∫–æ–¥ `incrementGames(match, 1)` –º–µ–Ω–µ–µ –ø–æ–Ω—è—Ç–µ–Ω, —á–µ–º –Ω–∞–ø—Ä–∏–º–µ—Ä `incrementGames(match, PlayerNumber.ONE)`.

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è `enum` –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–æ–±–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

```java
public enum PlayerNumber {
    ONE,
    TWO;
}

public enum ScoreType {
    POINTS,
    GAMES;
}
```

–¢–æ–≥–¥–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –º–µ—Ç–æ–¥ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ê —Ç–∞–∫–∂–µ –∫–æ–¥ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª–µ–µ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–º ‚Äî `enum`-—ã –¥–µ–ª–∞—é—Ç –∫–æ–¥ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

- ‚ùó–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–Ω–∏—Å–Ω—ã—Ö –æ—á–∫–æ–≤: –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —á–∏—Å–ª–æ–≤–æ–≥–æ —Å—á–µ—Ç–∞ –≤ —Å—Ç—Ä–æ–∫–æ–≤—ã–π ("1" -> "15", "4" -> "AD") —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–∞ –ø–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º `tennisToInt` –∏ `intToTennis`.

–î–∞–Ω–Ω—ã–µ –∏ –ª–æ–≥–∏–∫–∞ –∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω—ã. –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏–¥—ë—Ç—Å—è –ø—Ä–∞–≤–∏—Ç—å –æ–±–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –≠—Ç–æ —Ö—Ä—É–ø–∫–æ.

–†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–Ω–Ω–∏—Å–Ω—ã–º —Å—á—ë—Ç–æ–º –≤ –≥–µ–π–º–µ, –≤ –æ–¥–∏–Ω `enum`.

```java
public enum TennisPoint {
    LOVE("0"),
    FIFTEEN("15"),
    THIRTY("30"),
    FORTY("40"),
    ADVANTAGE("AD");

    private final String displayValue;

    TennisPoint(String displayValue) {
        this.displayValue = displayValue;
    }

    public String getDisplayValue() {
        return displayValue;
    }

    public TennisPoint next() {
        // –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ—á–∫—É
        if (this == ADVANTAGE) { 
            throw new IllegalStateException(...); 
        }
        return values()[this.ordinal() + 1];
    }
}
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã ‚Äî –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—á–∫–∞—Ö (–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è, –ø–æ—Ä—è–¥–æ–∫) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –ò —Å–¥–µ–ª–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω–æ–π.

- ‚ùó–í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã (`countPoints()`, `countGames()` –∏ —Ç.–¥.) –ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ–±—ä–µ–∫—Ç `MatchCurrentState` –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –µ–≥–æ –ø–æ —Å—Å—ã–ª–∫–µ, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–±–æ—á–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º (side effect).

–≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø Command-Query Separation (CQS), –∫–æ—Ç–æ—Ä—ã–π –≥–ª–∞—Å–∏—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–∏–±–æ –∫–æ–º–∞–Ω–¥–æ–π (–≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç), –ª–∏–±–æ –∑–∞–ø—Ä–æ—Å–æ–º (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç). –°–µ–π—á–∞—Å –º–µ—Ç–æ–¥—ã –ø—ã—Ç–∞—é—Ç—Å—è –±—ã—Ç—å –∏ —Ç–µ–º, –∏ –¥—Ä—É–≥–∏–º: –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ä–∞—Å—á—ë—Ç—ã –∏ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –Ω–µ—è–≤–Ω–æ –º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –Ω–µ –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –ø–µ—Ä–µ–¥–∞–ª –≤ –º–µ—Ç–æ–¥, –≤–Ω–µ–∑–∞–ø–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è. –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç—Ä—É–¥–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–æ–≤ –∏–∑–º–µ–Ω–∏–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞, –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ—è–≤–Ω–æ.

–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤ —Å—Ç–æ—Ä–æ–Ω—É "–±–æ–≥–∞—Ç–æ–π" –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –≥–¥–µ –æ–±—ä–µ–∫—Ç —Å–∞–º –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–ï—Å–ª–∏ –∂–µ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–æ –º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–æ–≤—ã–π, –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∞ –Ω–µ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
// –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥
service.countPoints(matchState, 1);
// –ó–¥–µ—Å—å –æ–±—ä–µ–∫—Ç matchState –∏–∑–º–µ–Ω–µ–Ω, –Ω–æ —ç—Ç–æ –Ω–µ –æ—á–µ–≤–∏–¥–Ω–æ –∏–∑ –≤—ã–∑–æ–≤–∞
```

–ß—É—Ç—å –ª—É—á—à–µ —Ç–∞–∫ (—Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏):
```java
// –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥
MatchCurrentState newState = service.calculateNextState(matchState, 1);
// –Ø–≤–Ω–æ –ø–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–æ–∂–Ω–æ —Ä–µ—à–∞—Ç—å, —á—Ç–æ —Å –Ω–∏–º –¥–µ–ª–∞—Ç—å
```

- –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –≤ –∫–æ–¥–µ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.

–ò–¥–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ ‚Äî —ç—Ç–æ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å—Ç–æ–ª—å–∫–æ —è—Å–µ–Ω –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª–µ–Ω, —á—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç, —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∏–∑–ª–∏—à–Ω–∏–º–∏. –ï—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, —á—Ç–æ–±—ã –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ª–æ–≥–∏–∫–∏, —ç—Ç–æ —á–∞—Å—Ç–æ —è–≤–ª—è–µ—Ç—Å—è "–∑–∞–ø–∞—Ö–æ–º" (code smell), —É–∫–∞–∑—ã–≤–∞—é—â–∏–º –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ—Ç —É—á–∞—Å—Ç–æ–∫ –º–æ–∂–Ω–æ –∏ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.

- –ë–ª–æ–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä
```java
if ((playerOnePoints == 3 && scoreButtonId == 1) || (playerTwoPoints == 3 && scoreButtonId == 2))
```
–ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏:
```java
private boolean isGameWinningPoint(int scoreButtonId, int playerOnePoints, int playerTwoPoints) {
    return (playerOnePoints == 3 && scoreButtonId == 1) || (playerTwoPoints == 3 && scoreButtonId == 2);
}
```
–≠—Ç–æ –¥–∞—Å—Ç –∫–æ–¥—É –±–æ–ª—å—à—É—é —á–∏—Ç–∞–µ–º–æ—Å—Ç—å: –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∫–æ–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–≤–∏–¥–Ω—ã–º –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–∞. –ö–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç "–≥–æ–≤–æ—Ä–∏—Ç—å" –Ω–∞ —è–∑—ã–∫–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ("–µ—Å–ª–∏ —ç—Ç–æ –æ—á–∫–æ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –≥–µ–π–º"), –∞ –Ω–µ –Ω–∞ —è–∑—ã–∫–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º (–¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞—Ç—å, —á—Ç–æ –∑–Ω–∞—á–∏—Ç —á–∏—Å–ª–æ 3).

–ê —Ç–∞–∫–∂–µ —Å–Ω–∏–∑–∏—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å: –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–∑–≤–ª–µ–∫–ª–∏ —ç—Ç—É –ª–æ–≥–∏–∫—É, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–æ—Ä–æ—á–µ –∏ –ø—Ä–æ—â–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è. –°–ª–æ–∂–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞ —Å –ø–æ–Ω—è—Ç–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥—á–µ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –æ–±—â–µ–π –ª–æ–≥–∏–∫–æ–π —Ä–∞–±–æ—Ç—ã.

–¢–∞–∫–∂–µ –µ—Å–ª–∏ –ø–æ–¥–æ–±–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–π –º–µ—Ç–æ–¥ `isGameWinningPoint()`, –∞ –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —É—Å–ª–æ–≤–∏–µ.

## Controller
- –°–µ–π—á–∞—Å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∂—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–π –ø—É—Ç—å –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º, –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.

–õ—É—á—à–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –ø—É—Ç—å –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
response.sendRedirect("/match-score?uuid=" + matchId);
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
response.sendRedirect(request.getContextPath() + "/match-score?uuid=" + matchId);
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `request.getContextPath()` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ URL –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –≥–¥–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

- –õ–æ–≥–∏–∫—É —Ñ–æ—Ä–≤–∞—Ä–¥–∞ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –∫–ª–∞—Å—Å–µ, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –æ–±—â–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

<details>

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä –≤ —Ç–∞–∫–æ–º üí°</b></summary>

---

```java
public class BaseController {
    private static final String PATH_DELIMITER = "/";
    private static final String PARAMETER_PREFIX = "?";
    private static final String PARAMETER_EQUAL = "=";
    private static final String PARAMETER_DELIMITER = "&";
    private static final String JSP_SUB_PATH = "/WEB-INF" + PATH_DELIMITER;
    private static final String JSP_EXTENSION = ".jsp";

    protected void forwardTo(
            String pageName,
            HttpServletRequest request,
            HttpServletResponse response
    ) throws ServletException, IOException {

        request.getRequestDispatcher(JSP_SUB_PATH + pageName + JSP_EXTENSION)
                .forward(request, response);
    }

    protected void redirectTo(
            String subPath,
            Map<String, ?> requestParameters,
            HttpServletRequest request,
            HttpServletResponse response
    ) throws IOException {

        String parameters = buildParameters(requestParameters);
        response.sendRedirect(request.getContextPath() + PATH_DELIMITER + subPath + parameters);
    }

    private String buildParameters(Map<String, ?> requestParameters) {
        if (requestParameters.isEmpty()) {
            return "";
        }

        return PARAMETER_PREFIX +
               requestParameters.entrySet().stream()
                       .filter(this::isValidEntry)
                       .map(this::buildParameter)
                       .collect(Collectors.joining(PARAMETER_DELIMITER));
    }

    private boolean isValidEntry(Map.Entry<String, ?> entry) {
        return isNotEmpty(entry.getKey()) && isNotEmpty(entry.getValue());
    }

    private boolean isNotEmpty(Object object) {
        return object != null && !object.toString().isBlank();
    }

    private String buildParameter(Map.Entry<String, ?> parameterEntry) {
        String encodedKey = encodeForUrl(parameterEntry.getKey());
        String encodedValue = encodeForUrl(parameterEntry.getValue().toString());

        return encodedKey + PARAMETER_EQUAL + encodedValue;
    }

    private String encodeForUrl(String raw) {
        return URLEncoder.encode(raw, StandardCharsets.UTF_8);
    }
}
```

–ü–æ—Å–ª–µ —á–µ–≥–æ –∫–∞–∂–¥—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –º–æ–∂–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç BaseController, —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ JSP —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –º–µ—Ç–æ–¥.

---

</details>

–î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–ª–∞—Å—Å `JSPUtil`, –¥–æ–±–∞–≤–∏–≤ –≤ –Ω–µ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã.


### NewMatchController
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchScoreController](#forward-from-matchscorecontroller-1) </div>

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ FinishedMatchesController](#forward-from-finishedmatchescontroller-1) </div>

- ‚ùó–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `PlayerDao` –∏ `MatchService` –ø–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã `ApplicationContext` –Ω–∞–ø—Ä—è–º—É—é –≤ –º–µ—Å—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å—Ç–æ–∏—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `init()` –º–µ—Ç–æ–¥ —Å–µ—Ä–≤–ª–µ—Ç–∞. –≠—Ç–æ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—É –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion).
```java
private PlayerDao playerDao;
private MatchService matchService;

@Override
public void init() throws ServletException {
    this.playerDao = ApplicationContext.playerDao();
    this.matchService = ApplicationContext.matchService();
}
```

- ‚ùó–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `PlayerDao` (–∏–º–µ–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º —Å–ª–æ—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (DAO/Repository), —á—Ç–æ —Å–º–µ—à–∏–≤–∞–µ—Ç —Å–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

–†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —É–±—Ä–∞—Ç—å –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `PlayerDao`.

- ‚ùó–ü–æ–ª–µ `PlayerDao playerDao` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ PlayerService. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ —Å–ª–æ–µ DAO –∏ –∏–º–µ—Ç—å –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å PlayerService –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –Ω–µ–≥–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –≤–Ω–µ–¥—Ä—è—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä PlayerService –≤ –ø–æ–ª–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `init()`.
```java
private PlayerService playerService;
private MatchService matchService;

@Override
public void init() throws ServletException {
    this.playerService = ApplicationContext.playerService();
    this.matchService = ApplicationContext.matchService();
}
```

- ‚ùóÔ∏è–í –º–µ—Ç–æ–¥–µ `doPost()` —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç PlayerService ‚Äî —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –ª–∏—à–Ω–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã. PlayerService –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ —è–≤–ª—è–µ—Ç—Å—è stateless (–Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ) –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å PlayerService –ø–æ–ª–µ–º –∫–ª–∞—Å—Å–∞.

- ‚ùó–ú–µ—Ç–æ–¥ `doPost` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏: –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—á–∞. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–µ–π (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–µ–π) —Ä–∞–±–æ—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—É "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä".

[**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω: "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (Fat Controller)**](#fat-controller) <a id="back-from-fat-controller"></a>

–ò–¥–µ–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞: –≤—ã–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –∏ —Ç–æ–ª—å–∫–æ —É –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –æ—Ç–¥–∞—Ç—å –µ–º—É –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (JSP).

–¢–æ –µ—Å—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞—Ç—å DTO –∏–∑ –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤, –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ —Å–µ—Ä–≤–∏—Å—É –∏ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç –Ω–µ–≥–æ ID c–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞. –ê —Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –∏ –º–∞—Ç—á–∞ –ø—É—Å—Ç—å –±—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –≤ —Å–ª–æ–µ —Å–µ—Ä–≤–∏—Å–æ–≤. –≠—Ç–æ —Å–¥–µ–ª–∞–ª–æ –±—ã –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle, SRP) –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ.

- ‚ùó–í –º–µ—Ç–æ–¥–µ `doPost()` –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ `PlayerNamesValidation.check()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ –∏–ª–∏ `null`.

```java
String checkPlayersNames = PlayerNamesValidation.check(playerOneName, playerTwoName);

if (checkPlayersNames == null) {
    // ...
} else {
    // ...
}
```

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `null` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π. –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `null` –¥–µ–ª–∞—é—Ç –∫–æ–¥ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ `NullPointerException`, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –∑–∞–±—É–¥–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ.

–°—Ç–æ–∏—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –Ω–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –≤–º–µ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ `null` –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –≤ Java.

- ‚ùó–í –º–µ—Ç–æ–¥–µ `doPost` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–æ–ª—å—à–æ–π –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ –∫–æ–¥–∞.
```java
//        if (playerOneName.equalsIgnoreCase(playerTwoName)) {
//            request.setAttribute("errorMessage", "–ò–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏");
//            request.getRequestDispatcher(JSPUtil.getJspPatch("new-match")).forward(request, response);
//        } else {
//            PlayerService playerService = new PlayerService(playerDao);
//            Player playerOne = playerService.getOrCreatePlayer(playerOneName);
//            Player playerTwo = playerService.getOrCreatePlayer(playerTwoName);
//            String matchId = matchService.createMatch(playerOne.getId(), playerTwo.getId()).toString();
//            response.sendRedirect("/match-score?uuid=" + matchId);
//        }
```
–≠—Ç–æ –º–µ—à–∞–µ—Ç —á—Ç–µ–Ω–∏—é –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—é –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏. –î—Ä—É–≥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è, –ø—ã—Ç–∞—è—Å—å –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É —ç—Ç–æ—Ç –∫–æ–¥ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω –≤–∞–∂–Ω—ã–º. –ê —Ç–∞–∫–∂–µ –¥—Ä—É–≥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç (–ø–æ –æ—à–∏–±–∫–µ –∏–ª–∏ –ø–æ—Å—á–∏—Ç–∞–≤ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º) —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –∏ –Ω–∞—Ä—É—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–∏—á–∏–Ω—É —á–µ–≥–æ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å.

- –°–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–∞—Ç—á–∞ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–º—è –ø—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–±–∏—Ä–∞—Ç—å –µ–≥–æ –∑–∞–Ω–æ–≤–æ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–æ–≥–¥–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `new-match.jsp`, –ø–µ—Ä–µ–¥–∞–≤–∞—è —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ. –í–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–º–µ–Ω–∞ –ø—Ä–∏ —ç—Ç–æ–º —Ç–µ—Ä—è—é—Ç—Å—è.

–ß—Ç–æ–±—ã —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥ —Ñ–æ—Ä–≤–∞—Ä–¥–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ `request` –∞—Ç—Ä–∏–±—É—Ç—ã —Å –≤–≤–µ–¥–µ–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ `new-match.jsp` –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∞—Ç—Ä–∏–±—É—Ç—ã, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è–º `input`. –≠—Ç–æ —É–ª—É—á—à–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

- –ò–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ `request.getParameter("playerOne")`, `request.getParameter("playerTwo")` –∏ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —É–ø—Ä–æ—â–∞–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ) –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–∑-–∑–∞ –æ–ø–µ—á–∞—Ç–æ–∫.

### MatchScoreController
- –ü—É–Ω–∫—Ç—ã –ø—Ä–æ:
    - ‚ùó–≤–Ω–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `PlayerDao` –∏ `MatchService`
    - ‚ùó–∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä"
    - ‚ùó—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `null`
    - –≤—ã–Ω–æ—Å –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ [NewMatchController](#newmatchcontroller) –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. <a id="forward-from-matchscorecontroller-1"></a>

- ‚ùó–°–µ–π—á–∞—Å –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–∏–≥—Ä–∞–Ω–Ω–æ–≥–æ –æ—á–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –º–µ—Ç–æ–¥–µ `doGet()`, —Ç–æ–≥–¥–∞ –∫–∞–∫ –ø–æ –¢–ó –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –µ—ë –¥–æ–ª–∂–µ–Ω –º–µ—Ç–æ–¥ `doPost()`. –¢–∞–∫–∂–µ GET-–∑–∞–ø—Ä–æ—Å—ã –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏*, —Ç–æ –µ—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö. –°–µ–π—á–∞—Å –∂–µ –∫–∞–∂–¥—ã–π GET-–∑–∞–ø—Ä–æ—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–∏—Ç—å –µ–≥–æ —Å–Ω–æ–≤–∞.

- ‚ùó–í –º–µ—Ç–æ–¥–µ `doGet()` –ø–æ—Å–ª–µ —Ñ–æ—Ä–≤–∞—Ä–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `matchService.finishMatch(matchId)`.
```java
} else {
    // ...
    request.getRequestDispatcher(JSPUtil.getJspPatch("match-winner")).forward(request, response);
    matchService.finishMatch(matchId);
}
```
–ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ñ–æ—Ä–≤–∞—Ä–¥–∞ –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –∏ –ª–æ–≥–∏–∫–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –ø–æ—Å–ª–µ `forward()`, –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ. –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è–≤–Ω—ã–π `return` –∏–ª–∏ —Ä–∞–∑–º–µ—â–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

- –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –º–∞—Ç—á–µ –ø–æ —á–∞—Å—Ç—è–º <a id="anchor-in-matchscorecontroller-1"></a>

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ FinishedMatchesController](#forward-from-finishedmatchescontroller-2) </div>

```java
request.setAttribute("matchId", matchId.toString());
request.setAttribute("currentMatch", currentMatch);
request.setAttribute("playerOneName", playerOneName);
request.setAttribute("playerTwoName", playerTwoName);
```

–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–π:
```java
public record MatchDto(
        UUID id,
        String firstPlayerName,
        String secondPlayerName,
        ScoreDto firstPlayerScore,
        ScoreDto secondPlayerScore,
        String winnerName,
        boolean finished
) {
}
```

–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ JSP –µ–≥–æ –≤ —Ç–∞–∫–æ–º –¥—É—Ö–µ:
```java
MatchDto matchDto = ongoingMatchesService.updateMatchScore(matchRequestDto);
request.setAttribute(MATCH_FINISHED, matchDto);
```

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º. –ê —Ç–∞–∫–∂–µ, –µ—Å–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–æ–≤–æ–µ –ø–æ–ª–µ, —Ç–æ –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –º–µ–Ω—è—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (–¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç).

- –õ–æ–≥–∏–∫—É –º–µ—Ç–æ–¥–∞ `doGet()` –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é —Ä–∞–Ω–Ω–µ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞.

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ:
```java
public void someMethod() {
    if (isCondition()) {
        executeOneLogic();
    } else {
        executeAnotherLogic();
    }
}
```

–º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ:
```java
public void someMethod() {
    if (isCondition()) {
        executeOneLogic();
        return;
    }
    executeAnotherLogic();
}
```

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
if (!currentMatch.isMatchFinished()) {
    // ... –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞
    request.getRequestDispatcher(JSPUtil.getJspPatch("match-score")).forward(request, response);
} else {
    // ... –ª–æ–≥–∏–∫–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞
    request.getRequestDispatcher(JSPUtil.getJspPatch("match-winner")).forward(request, response);
    matchService.finishMatch(matchId);
}
```

–ª—É—á—à–µ —Ç–∞–∫:
```java
if (currentMatch.isMatchFinished()) {
    String winnerName = playerDao.getPlayerById(currentMatch.getWinnerId()).getName();
    request.setAttribute("winnerName", winnerName);
    // ... –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
    request.getRequestDispatcher(JSPUtil.getJspPatch("match-winner")).forward(request, response);
    return; // –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥
}

// –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–µ–≥–æ—Å—è –º–∞—Ç—á–∞
request.setAttribute("matchId", matchId.toString());
// ... –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—á—ë—Ç–∞
request.getRequestDispatcher(JSPUtil.getJspPatch("match-score")).forward(request, response);
```

–≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –¥–µ–ª–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–æ–ª–µ–µ –ª–∏–Ω–µ–π–Ω—ã–º –∏ –ª—ë–≥–∫–∏–º –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.

- ‚ùó–°–µ–π—á–∞—Å –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∂–¥–æ–≥–æ –æ—á–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ –ë–î:
```sqlite-sql
-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?
```

–ü–æ—Å–∫–æ–ª—å–∫—É —Ç–µ–∫—É—â–∏–µ –º–∞—Ç—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã.

–°—Ç–æ–∏—Ç –æ—Ç –Ω–∏—Ö –∏–∑–±–∞–≤–∏—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∞—Ç—å –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞ (—á—Ç–æ –¥–æ–ª–∂–Ω–æ —Å—Ç–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞ –≤ –≤–∏–¥–µ –±–æ–≥–∞—Ç–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏).

- ‚ùó–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–∞—Ç—á–∞ –∏ –µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î:

<details>

<summary><b>–í–æ—Ç —Ç–∞–∫</b></summary>

---

#### 6 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—á–∞ —Å –¥–≤—É–º—è –Ω–æ–≤—ã–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏:
```sqlite-sql
-- Player player = playerDao.getPlayerByName(playerName); –≤ PlayerService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.name=?

-- playerDao.createPlayer(player); –≤ PlayerService
[Hibernate] 
    insert 
    into
        player
        (name, id) 
    values
        (?, default)

-- Player player = playerDao.getPlayerByName(playerName); –≤ PlayerService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.name=?

-- playerDao.createPlayer(player); –≤ PlayerService
[Hibernate] 
    insert 
    into
        player
        (name, id) 
    values
        (?, default)

-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?
```

#### –ó–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –º–∞—Ç—á–∞:
```sqlite-sql
-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String winnerName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player playerOne = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player playerTwo = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player winner = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- matchesDao.saveFinishedMatch(match); –≤ MatchService
[Hibernate] 
    insert 
    into
        match
        (playerOne, playerTwo, winner, id) 
    values
        (?, ?, ?, default)
```

---

#### 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—á–∞ —Å –æ–¥–Ω–∏–º –Ω–æ–≤—ã–º –∏–≥—Ä–æ–∫–æ–º:
```sqlite-sql
-- Player player = playerDao.getPlayerByName(playerName); –≤ PlayerService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.name=?

-- Player player = playerDao.getPlayerByName(playerName); –≤ PlayerService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.name=?

-- playerDao.createPlayer(player); –≤ PlayerService
[Hibernate] 
    insert 
    into
        player
        (name, id) 
    values
        (?, default)

-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?
```

#### –ó–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –º–∞—Ç—á–∞:
```sqlite-sql
-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String winnerName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player playerOne = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player playerTwo = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player winner = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- matchesDao.saveFinishedMatch(match); –≤ MatchService
[Hibernate] 
    insert 
    into
        match
        (playerOne, playerTwo, winner, id) 
    values
        (?, ?, ?, default)
```

---

#### 4 –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—á–∞ –±–µ–∑ –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤:
```sqlite-sql
-- Player player = playerDao.getPlayerByName(playerName); –≤ PlayerService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.name=?

-- Player player = playerDao.getPlayerByName(playerName); –≤ PlayerService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.name=?

-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?
```

#### –ó–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –º–∞—Ç—á–∞:
```sqlite-sql
-- String playerOneName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String playerTwoName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- String winnerName = playerDao.getPlayerById(currentMatch.getPlayerOneId()).getName(); –≤ MatchScoreController
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player playerOne = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player playerTwo = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- Player winner = playerDao.getPlayerById(currentState.getPlayerOneId()); –≤ MatchService
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        player p1_0 
    where
        p1_0.id=?

-- matchesDao.saveFinishedMatch(match); –≤ MatchService
[Hibernate] 
    insert 
    into
        match
        (playerOne, playerTwo, winner, id) 
    values
        (?, ?, ?, default)
```

---

</details>

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ, –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ–¥–Ω–æ–≥–æ –º–∞—Ç—á–∞ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ **–º–∏–Ω–∏–º—É–º 107 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î**:
- 4 –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—á–∞ –±–µ–∑ –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
- 96 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—á–∫–æ–≤ (2 –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑ 48 –æ—á–∫–æ–≤ ‚Äî –º–∏–Ω–∏–º—É–º –¥–ª—è –ø–æ–±–µ–¥—ã –æ–¥–Ω–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤)
- 7 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞

–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î –∏ —Å–Ω–∏–∂–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

–°—Ç–æ–∏—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏–∫—É —ç—Ç–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ç–∞–∫–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

–ò–¥–µ–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–æ–π –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –≤ –ë–î –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —É–∂–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –∏–≥—Ä–æ–∫–∏, –µ—Å–ª–∏ –∏—Ö –µ—â—ë –Ω–µ—Ç –≤ –ë–î, –∞ —Ç–∞–∫–∂–µ —Å–∞–º –º–∞—Ç—á.

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–∏–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –º–∞—Ç—á–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏–≥—Ä–æ–∫–æ–≤ –∏ –æ—Ç–¥–µ–ª—å–Ω–æ –º–∞—Ç—á (3-5 –∑–∞–ø—Ä–æ—Å–æ–≤).

### FinishedMatchesController
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–±—ã—á–Ω–æ –æ–±—ä—è–≤–ª—è—é—Ç –ø–µ—Ä–≤—ã–º–∏ –≤ –∫–ª–∞—Å—Å–µ (—Ä–∞–∑–º–µ—â–∞—é—Ç –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –∫–ª–∞—Å—Å–∞). –ü–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `private static final int PAGE_SIZE = 5;` –≤ –Ω–∞—á–∞–ª–æ –∫–ª–∞—Å—Å–∞.

- –ü—É–Ω–∫—Ç—ã –ø—Ä–æ:
    - ‚ùó–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `MatchService`
    - ‚ùó–∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ)
    - –≤—ã–Ω–æ—Å –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ [NewMatchController](#newmatchcontroller) –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. <a id="forward-from-finishedmatchescontroller-1"></a>

- –õ–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```java
if (pageParam != null && !pageParam.isEmpty()) {
    try {
        currentPage = Integer.parseInt(pageParam);
        if (currentPage < 1) {
            currentPage = 1;
        }
    } catch (NumberFormatException e) {
        currentPage = 1;
    }
}
```

–º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:
```java
private static int getCurrentPage(String pageParam) {
    int currentPage = 1;

    if (pageParam != null && !pageParam.isEmpty()) {
        try {
            currentPage = Integer.parseInt(pageParam);
            if (currentPage < 1) {
                currentPage = 1;
            }
        } catch (NumberFormatException e) {
            currentPage = 1;
        }
    }
    return currentPage;
}
```

–∏ –Ω–µ–º–Ω–æ–≥–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å:
```java
private static int getCurrentPage(String pageParam) {
    if (pageParam != null && !pageParam.isBlank()) {
        try {
            return Math.max(Integer.parseInt(pageParam), 1);
        } catch (NumberFormatException ignored) {
        }
    }
    return 1;
}
```

- –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `noOfPages` (–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞) –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –¥–æ –∫–æ–Ω—Ü–∞ –æ—á–µ–≤–∏–¥–Ω—ã–º. –û–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç "number of pages" (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü), –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –µ–≥–æ –≤ `totalPages`.

- –í –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö (camelCase, snake_case)
```java
request.setAttribute("currentPage", currentPage);
request.setAttribute("noOfPages", noOfPages);
request.setAttribute("filter_by_player_name", filterByPlayerName != null ? filterByPlayerName : "");
```
–°—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Å—Ç–∏–ª—å –∏ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –µ–≥–æ –≤–æ –≤—Å—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. `camelCase` —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤ Java, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ URL –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–≥–∏—á–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è.

- –ü—É–Ω–∫—Ç –ø—Ä–æ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –æ –º–∞—Ç—á–µ –ø–æ —á–∞—Å—Ç—è–º, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å–∞–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ [MatchScoreController](#anchor-in-matchscorecontroller-1) –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. <a id="forward-from-finishedmatchescontroller-2"></a>

- ‚ùóÔ∏è–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è JPA —Å—É—â–Ω–æ—Å—Ç–∏ (`List<Match> matches`). –ü–µ—Ä–µ–¥–∞—á–∞ Entity –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JSP –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —ç—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DTO (Data Transfer Object) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. DTO –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è.

## Validation
### PlayerNamesValidation
- ‚ùó–ú–µ—Ç–æ–¥ `check()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `String` –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∂–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–µ –∏–ª–∏ `null` –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `null` –∫–∞–∫ –º–∞—Ä–∫–µ—Ä–∞ —É—Å–ø–µ—Ö–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º. –û–Ω –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ `if (result != null)`, —á—Ç–æ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞–µ—Ç –ª–æ–≥–∏–∫—É –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ `NullPointerException`, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–±—É–¥—É—Ç.

–¢–∞–∫–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ø—É—Å—Ç–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Å—Ç–∞–≤–∏–ª –æ–¥–Ω–æ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ü–∏—Ñ—Ä—ã), –æ–Ω —É–≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é –æ—à–∏–±–∫—É. –ü–æ—Å–ª–µ –µ—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–Ω —É–≤–∏–¥–∏—Ç –≤—Ç–æ—Ä—É—é –∏ —Ç–¥. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–Ω—É–∂–¥–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ—Ä–º—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, —á—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏. –≠—Ç–æ —É—Ö—É–¥—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

–†–µ—à–µ–Ω–∏–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å: –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –º–µ—Ç–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–ª —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫. –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ.

```java
public List<String> check(String playerOneName, String playerTwoName) {
    List<String> errors = new ArrayList<>();

    if (playerOneName == null || playerOneName.trim().isEmpty()) {
        errors.add("–ò–º—è –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.");
    }
    // –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–æ—é –æ—à–∏–±–∫—É –≤ —Å–ø–∏—Å–æ–∫

    if (playerOneName.equalsIgnoreCase(playerTwoName)) {
        errors.add("–ò–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏.");
    }

    return errors; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
}
```

–¢–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É —É–≤–∏–¥–∏—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –∏ –º–æ–∂–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑. –ê –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `if (errors.isEmpty())`, —á—Ç–æ –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º `if (result == null)`.

- –ù–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –∏ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö. –ù–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ (–ø–æ–ª–µ —Ä–∞–≤–Ω–æ `null`, –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ, –ø–æ–ª–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `"Names must be 2 to 30 characters long, using only Latin letters"`.

–ö–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —Å–≤–æ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ, —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, –∏–Ω–∞—á–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω —Å–¥–µ–ª–∞–ª –Ω–µ —Ç–∞–∫. –ï—Å–ª–∏ –æ–Ω –≤–≤–µ–ª –∏–º—è `"Player1"`, –æ–Ω –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ –¥–ª–∏–Ω—É –∏ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, —Ö–æ—Ç—è –µ–≥–æ –æ—à–∏–±–∫–∞ ‚Äî –≤ –Ω–∞–ª–∏—á–∏–∏ —Ü–∏—Ñ—Ä—ã ‚Äî —ç—Ç–æ —Å–±–∏–≤–∞–µ—Ç —Å —Ç–æ–ª–∫—É.

- –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, —Ç–µ–∫—Å—Ç—ã –æ—à–∏–±–æ–∫) –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫ –∏ —á–∏—Å–µ–ª –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `check()`. –ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –∏–º–µ–Ω–∏ —Å 2 –Ω–∞ 3, –ø—Ä–∏–¥—ë—Ç—Å—è –∏—Å–∫–∞—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–¥–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏, –ø—Ä–∏–¥–µ—Ç—Å—è –∏—Å–∫–∞—Ç—å –µ–≥–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö `return`.

–°—Ç–æ–∏—Ç –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ "–º–∞–≥–∏—á–µ—Å–∫–∏–µ" –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏.

- ‚ùó–ö–æ–¥ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–º–µ–Ω–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å –ø–æ–º–æ—â—å—é `trim().isEmpty()`, –Ω–æ –∑–∞—Ç–µ–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –≤ –∫–æ–Ω—Ü–µ. –ò–º–µ–Ω–∞ `"Single Player"` –∏ `"Single Player  "` –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è —Ä–∞–∑–Ω—ã–º–∏, –Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –∏—Ö –±—É–¥–µ—Ç –Ω–µ –æ—Ç–ª–∏—á–∏—Ç—å:

–Ω–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞

![](images/tttraderrr-phoboy725/Screenshot_04.png)

–Ω–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π

![](images/tttraderrr-phoboy725/Screenshot_05.png)

–Ω–∏ –≤ –ë–î

![](images/tttraderrr-phoboy725/Screenshot_06.png)

–ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, —Å—Ç–æ–∏—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å `trim()` –æ–¥–∏–Ω —Ä–∞–∑ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

–ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫:
```java
public static String check(String playerOneName, String playerTwoName) {
    if (playerOneName == null || playerTwoName == null) {
        return "Names must not be null";
    }

    String nameOneTrimmed = playerOneName.trim();
    String nameTwoTrimmed = playerTwoName.trim();

    if (nameOneTrimmed.isEmpty() || nameTwoTrimmed.isEmpty()) {
        return "Names must not be empty";
    }
    if (nameOneTrimmed.equalsIgnoreCase(nameTwoTrimmed)) {
        return "Names must be different";
    }
    if (!NAME_PATTERN.matcher(nameOneTrimmed).matches() || !NAME_PATTERN.matcher(nameTwoTrimmed).matches()) {
        return "Names must be 2 to 30 characters long, using only Latin letters";
    }
    return null;
}
```

- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ 
```regexp
^[\sa-zA-Z]{2,30}$
```

—Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –∏ –ø—Ä–æ–±–µ–ª—ã. –†–µ–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ª—é–¥–µ–π –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–µ—Ñ–∏—Å—ã (Jean-Claude), –∞–ø–æ—Å—Ç—Ä–æ—Ñ—ã (O'Neill) –∏ –±—É–∫–≤—ã –¥—Ä—É–≥–∏—Ö –∞–ª—Ñ–∞–≤–∏—Ç–æ–≤ (–≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü—É).

–°—Ç–æ–∏—Ç –æ—Å–ª–∞–±–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –¥–æ–±–∞–≤–∏–≤ –≤ –Ω–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã. –ù–∞–ø—Ä–∏–º–µ—Ä –¥–æ 
```regexp
^[a-zA-Z–∞-—è–ê-–Ø'\\-\\s]{2,30}$
```

## Util
### JSPUtil
- –û–ø–µ—á–∞—Ç–∫–∏:
    - –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã: `String JSP_PATCH` ‚Äî> `String JSP_PATH`
    - –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞: `getJspPatch()` ‚Äî> `getJspPath()`

- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–µ `String JSP_PATCH` –º–æ–∂–Ω–æ –¥–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –∏–º—è ‚Äî `String JSP_PATH_TEMPLATE`, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—É—Ç—å, –∞ —à–∞–±–ª–æ–Ω –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–∏.

### RequestParamUtil
- ‚ùó–ù–∞—Ä—É—à–µ–Ω–∏–µ –ü—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP):

–ú–µ—Ç–æ–¥—ã —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç –¥–≤–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- –ü–∞—Ä—Å–∏–Ω–≥: –∏–∑–≤–ª–µ–∫–∞—é—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –µ–≥–æ –≤ –Ω—É–∂–Ω—ã–π —Ç–∏–ø (`UUID`, `Integer`).
- –û—Ç–ø—Ä–∞–≤–∫–∞ HTTP-–æ—Ç–≤–µ—Ç–∞: –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –æ–Ω–∏ –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—é—Ç —Å `HttpServletResponse` –∏ –≤—ã–∑—ã–≤–∞—é—Ç `response.sendError()`.

–£—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∏—á–µ–≥–æ –∑–Ω–∞—Ç—å –æ HTTP-–æ—Ç–≤–µ—Ç–∞—Ö. –ï–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –ø–∞—Ä—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –æ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç —ç—Ç–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ HTTP-–æ—Ç–≤–µ—Ç–∞ –ª–µ–∂–∏—Ç –Ω–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ ‚Äî –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –∏–ª–∏, –µ—â—ë –ª—É—á—à–µ, –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Ñ–∏–ª—å—Ç—Ä–µ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

- ‚ùó–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç) –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `null`.

–≠—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã) –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–µ –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞.

```java
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
UUID matchId = RequestParamUtil.getRequiredUuid(request, response, "uuid");
if (matchId == null) {
    return;
}
```

–ï—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–±—É–¥–µ—Ç —ç—Ç—É –ø—Ä–æ–≤–µ—Ä–∫—É, –æ–Ω –ø–æ–ª—É—á–∏—Ç `NullPointerException` –ø–æ–∑–∂–µ, –∏ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –µ—Å–ª–∏ –æ–Ω –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–æ –æ–Ω –≤–µ—Ä–Ω—É–ª –≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ï—Å–ª–∏ –≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–ª—å–∑—è ‚Äî –æ–Ω –¥–æ–ª–∂–µ–Ω –±—Ä–æ—Å–∏—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

```java
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
try {
    UUID matchId = RequestParamUtil.getRequiredUuid(request, "uuid");
    // –ª–æ–≥–∏–∫–∞, –µ—Å–ª–∏ matchId –Ω–µ null
    matchService.updateScore(matchId, ...);
} catch (MissingParameterException | InvalidParameterException e) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
    response.sendError(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());
}
```

- –î—É–±–ª–∏—Ä—É—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É:
```java
String value = request.getParameter(paramName);
if (value == null) {
    response.sendError(HttpServletResponse.SC_BAD_REQUEST,
            "Missing " + paramName);
    return null; // –ª—É—á—à–µ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å null
}
```

–º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ (—Å—Ä–∞–∑—É —É—á—Ç—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã—à–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏):
```java
private static String getRequiredParameter(HttpServletRequest request, String paramName) {
    String value = request.getParameter(paramName);
    if (value == null || value.isBlank()) {
        throw new MissingParameterException("Missing " + paramName);
    }
    return value;
}
```
–≠—Ç–æ –∏–∑–±–∞–≤–∏—Ç –∫–ª–∞—Å—Å –æ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ DRY (Don't Repeat Yourself).

## Mapper
- ‚ùó–í—Å—è –ø–æ–ª–µ–∑–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –º–∞–ø–ø–µ—Ä–∞ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ: `new Player(object.name())`.

–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Mapper` –∏ –∫–ª–∞—Å—Å–∞-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `CreatePlayerMapper` –¥–ª—è —Ç–∞–∫–æ–π —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–æ–º –∏–∑–ª–∏—à–Ω–µ–≥–æ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è (over-engineering). –≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç –¥–≤–∞ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ —Å—É—Ç–∏ –Ω–µ –Ω–µ—Å—É—Ç –Ω–∏–∫–∞–∫–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –∫—Ä–æ–º–µ –æ–±–µ—Ä—Ç–∫–∏ –Ω–∞–¥ –≤—ã–∑–æ–≤–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –∫–æ–¥—É –∏ –µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ.

–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–æ–∏—Ç —É–¥–∞–ª–∏—Ç—å –∫–ª–∞—Å—Å—ã `CreatePlayerMapper` –∏ `Mapper` –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –≤ —Ç–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ –æ–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ (–≤ `PlayerService`).

### Mapper
- –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–º–µ–Ω–∞ generic-—Ç–∏–ø–æ–≤ `F` –∏ `T`: `Mapper<F, T>`.

```java
public interface Mapper<F, T> {
    T mapFrom(F object);
}
```
–•–æ—Ç—è `F` (From) –∏ `T` (To) –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã, —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç –º–µ—Ç–æ–¥–∞: `T mapFrom(F from);`.

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è: `R mapFrom(T type);`.

- –ú–µ—Ç–æ–¥ `mapFrom()` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `map()` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞.

- ‚ùó–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —è–≤–ª—è–µ—Ç—Å—è –º—ë—Ä—Ç–≤—ã–º –∫–æ–¥–æ–º ‚Äî CreatePlayerMapper (–∏ –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –∫–ª–∞—Å—Å) –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ü–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

### CreatePlayerMapper
- ‚ùó–ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Singleton: –∫–ª–∞—Å—Å –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ `enum` —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º `INSTANCE`, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥—ë–∂–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Singleton –≤ Java. –û–¥–Ω–∞–∫–æ, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ, `mapFrom`, –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ `static`.
```java
public enum CreatePlayerMapper {
    INSTANCE;

    public static Player mapFrom(PlayerRequestDto object) {
        return new Player(object.name());
    }
}
```

–≠—Ç–æ —Å–º–µ—à–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞:
- `static` –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å–∞–º–æ–º—É –∫–ª–∞—Å—Å—É, –∞ –Ω–µ –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—É –∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ `CreatePlayerMapper.mapFrom()`. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Ç–∏–ª–∏—Ç–Ω–æ–º—É –∫–ª–∞—Å—Å—É.
- –≠–∫–∑–µ–º–ø–ª—è—Ä `INSTANCE` –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É —Å–∏–Ω–≥–ª—Ç–æ–Ω.

–°—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

#### 1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Singleton

–°–¥–µ–ª–∞—Ç—å –º–µ—Ç–æ–¥ `mapFrom()` –º–µ—Ç–æ–¥–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ (—É–±—Ä–∞—Ç—å `static`):
```java
public enum CreatePlayerMapper {
    INSTANCE;

    public Player mapFrom(PlayerRequestDto object) {
        return new Player(object.name());
    }
}
```
–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `INSTANCE`:
```java
CreatePlayerMapper.INSTANCE.mapFrom(dto);
```

#### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å

–°–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å `final` –∏ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, —á—Ç–æ–±—ã –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –µ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ.
```java
public final class CreatePlayerMapper {
    private CreatePlayerMapper() {
    }

    public static Player mapFrom(PlayerRequestDto object) {
        return new Player(object.name());
    }
}
```
–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –Ω–∞–ø—Ä—è–º—É—é:
```java
CreatePlayerMapper.mapFrom(dto);
```

- –ú–µ—Ç–æ–¥ `mapFrom` –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞–µ—Ç `object.name()`, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—è, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–∞–º `object` —Ä–∞–≤–Ω—ã–º `null`. –ï—Å–ª–∏ –≤ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω `null`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç —Å `NullPointerException`.

–õ—é–±–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –æ—Å–æ–±–µ–Ω–Ω–æ —É—Ç–∏–ª–∏—Ç–Ω—ã–π, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—â–∏—â—ë–Ω –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ `null` –≤ –Ω–∞—á–∞–ª–æ –º–µ—Ç–æ–¥–∞.

## Config
### ApplicationContext
- ‚ùóEntityManagerFactory –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. `EntityManagerFactory` ‚Äî —ç—Ç–æ "—Ç—è–∂–µ–ª–æ–≤–µ—Å–Ω—ã–π" —Ä–µ—Å—É—Ä—Å, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î. –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–µ—Ç–æ–¥ `entityManagerFactory.close()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–°—Ç–æ–∏—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ApplicationContext –≤ –≤–∏–¥–µ ServletContextListener –∏
- –≤ –º–µ—Ç–æ–¥–µ `contextInitialized(ServletContextEvent sce)` —Å–æ–∑–¥–∞–≤–∞—Ç—å `EntityManagerFactory`
- –≤ –º–µ—Ç–æ–¥–µ `contextDestroyed(ServletContextEvent sce)` –≤—ã–∑—ã–≤–∞—Ç—å `entityManagerFactory.close()`
```java
@WebListener
public class AppContextListener implements ServletContextListener {
    private EntityManagerFactory entityManagerFactory;
          
    @Override
    public void contextInitialized(ServletContextEvent sce) {
        this.entityManagerFactory = Persistence.createEntityManagerFactory("Tennis");
        // ...
    }

    @Override
    public void contextDestroyed(ServletContextEvent sce) {
        if (entityManagerFactory != null && entityManagerFactory.isOpen()) {
          entityManagerFactory.close();
        }
    }
}
```

- –°–µ–π—á–∞—Å –∫–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Service Locator, –ø—Ä–∏—á—ë–º –≤ –µ–≥–æ –Ω–∞–∏–º–µ–Ω–µ–µ –≥–∏–±–∫–æ–π —Ñ–æ—Ä–º–µ ‚Äî —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã.

<details>

<summary><b>üí° –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ üí°</b></summary>

---

```java
public class ApplicationContext {
    private final Map<Class<?>, Object> beans = new ConcurrentHashMap<>();

    protected ApplicationContext(EntityManagerFactory entityManagerFactory) {
        initializeBeans(entityManagerFactory);
    }

    public <T> T getBean(Class<T> beanClass) {
        if (!beans.containsKey(beanClass)) {
            throw new BeanNotFoundException("Bean not found for: " + beanClass);
        }

        return beanClass.cast(beans.get(beanClass));
    }

    public <T> void registerBean(Class<T> beanClass, T beanInstance) {
        beans.put(beanClass, beanInstance);
    }

    public void shutdown() {
        beans.clear();
    }

    private void initializeBeans(EntityManagerFactory entityManagerFactory) {
        PlayerDao playerDao = new PlayerDao(entityManagerFactory);
        MatchesDao matchesDao = new MatchesDao(entityManagerFactory);

        PlayerService playerService = new PlayerService(playerDao);
        registerBean(PlayerService.class, playerService);

        MatchService matchService = new MatchService(matchesDao, playerDao);
        registerBean(MatchService.class, matchService);

        MatchScoreService matchScoreService = new MatchScoreService();
        registerBean(MatchScoreService.class, matchScoreService);

        // —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    }
}

@WebListener
public class AppInitializer implements ServletContextListener {
  private EntityManagerFactory entityManagerFactory;

  @Override
  public void contextInitialized(ServletContextEvent sce) {
    entityManagerFactory = Persistence.createEntityManagerFactory("Tennis");
    ApplicationContext applicationContext = new ApplicationContext(entityManagerFactory);
    sce.getServletContext().setAttribute(ApplicationContext.class.getSimpleName(), applicationContext);
  }

  @Override
  public void contextDestroyed(ServletContextEvent sce) {
    ApplicationContext applicationContext = (ApplicationContext) sce.getServletContext().getAttribute(ApplicationContext.class.getSimpleName());
    applicationContext.shutdown();

    if (entityManagerFactory != null && entityManagerFactory.isOpen()) {
      entityManagerFactory.close();
    }
  }
}
```

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—Å–µ—Ö DAO –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ —Ç–∏–ø—É –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ:
1. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `AppInitializer` —Å–æ–∑–¥–∞–µ—Ç `EntityManagerFactory`.
2. –ó–∞—Ç–µ–º –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –æ–¥–∏–Ω-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `ApplicationContext`, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`EntityManagerFactory`).
3. –≠—Ç–æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `ApplicationContext` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `ServletContext`.
4. –õ—é–±–æ–π –¥—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É —á–µ—Ä–µ–∑ `servletContext.getAttribute()`.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —Å–æ–±–ª—é–¥–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle, SRP) –∏ —á—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- `AppInitializer`: –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ "—Å–±–æ—Ä–∫—É" –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∏ —Å–≤—è–∑–∞—Ç—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- `ApplicationContext`: –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∏–Ω–æ–≤ –∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è (`initializeBeans()`).

---

</details>

## JSP
- `index.html` –º–æ–∂–Ω–æ —Ç–æ–∂–µ —Å–¥–µ–ª–∞—Ç—å JSP-c—Ç—Ä–∞–Ω–∏—Ü–µ–π

- –ß—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–æ –ø—Ä–∏ —Ä–∞–∑–≤—ë—Ç—ã–≤–∞–Ω–∏–∏ –ø–æ –ª—é–±–æ–º—É –ø—É—Ç–∏ —Å—Ç–æ–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å —Å –ø–æ–º–æ—â—å—é `${pageContext.request.contextPath}` –≤–æ –≤—Å–µ—Ö —Å—Å—ã–ª–∫–∞—Ö.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```html
<a class="nav-link" href="/matches">Matches</a>
```

–ª—É—á—à–µ —Ç–∞–∫:
```html
<a class="nav-link" href="${pageContext.request.contextPath}/matches">Matches</a>
```

–°—Å—ã–ª–∫–∏ –≤–Ω—É—Ç—Ä–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—É—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

- –ö–∞–∫ –∏ –∏–∑ java –∫–æ–¥–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ JSP —Å—Ç–æ–∏—Ç —É–¥–∞–ª—è—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

- ‚ùó–í –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `matches.jsp` –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ –±—É–¥–µ—Ç –ø–ª–æ—Ö–æ –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü.

![](images/tttraderrr-phoboy725/Screenshot_07.png)

–õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∏ +- 2 —Å—Ç—Ä–∞–Ω–∏—Ü –≤–æ–∫—Ä—É–≥ –Ω–µ—ë.

## Pom.xml
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ —á–µ—Ä–µ–∑ `<properties>` ‚Äî –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –≤–µ—Ä—Å–∏—è Java –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≤—Å–µ–º—É —Ñ–∞–π–ª—É.

–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å —ç—Ç–∏–º –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ, –Ω–æ –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –±–ª–æ–∫ `<properties>`:
```xml
<properties>
    <java.version>21</java.version>
    <maven.compiler.source>${java.version}</maven.compiler.source>
    <maven.compiler.target>${java.version}</maven.compiler.target>
    <h2.version>2.4.240</h2.version>
    <junit.jupiter.version>5.10.3</junit.jupiter.version>
    <!--  –≤–µ—Ä—Å–∏–∏ –¥—Ä—É–≥–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π -->
</properties>
```

- ‚ùó–í –≤–µ—Ä—Å–∏–∏ `<version>2.1.214</version>` –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `com.h2database` –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é `<version>2.4.240</version>`.

- ‚ùó–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç `junit:junit:3.8.1` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å `org.junit.jupiter:junit-jupiter` (JUnit 5).

```xml
<dependency>
  <groupId>junit</groupId>
  <artifactId>junit</artifactId>
  <version>3.8.1</version>
  <scope>test</scope>
</dependency>

<!--...-->

<dependency>
  <groupId>org.junit.jupiter</groupId>
  <artifactId>junit-jupiter</artifactId>
  <version>5.10.3</version>
  <scope>test</scope>
</dependency>
```
–ò—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (–∫–ª–∞—Å—Å—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö, —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ junit.jar –≤ classpath, Maven –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤) –∏ –∑–∞–ø—É—Ç–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —Å–±–æ—Ä–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ê —Ç–∞–∫–∂–µ –ø–æ –¢–ó –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è JUnit 5, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç —É–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `junit:junit:3.8.1`.

## Tests
### MatchScoreServiceTest
- ‚ùó–í –∫–ª–∞—Å—Å–µ –≤—Å–µ–≥–æ 6 —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –¢–µ–∫—É—â–∏–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–≥–µ–π–º-–ø–æ–π–Ω—Ç, –Ω–∞—á–∞–ª–æ —Ç–∞–π-–±—Ä–µ–π–∫–∞), –Ω–æ —É–ø—É—Å–∫–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –æ–±—ã—á–Ω—ã—Ö –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –≤ –ª–æ–≥–∏–∫–µ –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤. –°—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

## –í —Ü–µ–ª–æ–º –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- –ú–µ—Å—Ç–∞–º–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –Ω–µ–º–Ω–æ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ª–∏—à–Ω–∏–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏. –ü–µ—Ä–µ–¥ `git commit` –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å (`cmd + alt + l` –≤ Idea –Ω–∞ mac os)

- ‚ùóÔ∏è–í –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞—Ä—É—à–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion). –ë—ã–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –Ω–∏—Ö. –¢–∞–∫–∂–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏.

- –ù–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: –æ–¥–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ ApplicationContext, –¥—Ä—É–≥–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã. –õ—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ–º–µ—â–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

- ‚ùóÔ∏è–ù–µ –≤—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ—Ç Hibernate –∏ –ë–î (–∞ —Ç–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—ç—Ç–æ–º—É, –ø—Ä–∏ –ª—é–±–æ–π —Ç–∞–∫–æ–π –æ—à–∏–±–∫–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –°–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –Ω–∏—Ö –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –æ—à–∏–±–∫–∏ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∏–ª—å—Ç—Ä–µ (–∏–ª–∏ –¥—Ä—É–≥–æ–º –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ), —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç, –¥–æ—Å—Ç—É–ø–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—è –æ —Ç–æ–º, —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.


## –î—Ä—É–≥–æ–µ
- –ß—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π –Ω–∞–¥–æ –≤—Ä—É—á–Ω—É—é –∑–∞–≤–µ—Å—Ç–∏ –º–Ω–æ–≥–æ –º–∞—Ç—á–µ–π. –ò –µ—â—ë –±–æ–ª—å—à–µ ‚Äî —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞. –ü–æ—ç—Ç–æ–º—É –±—ã–ª–æ –±—ã —Ö–æ—Ä–æ—à–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–ª–∏ –¥–µ–ø–ª–æ–µ) –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –ë–î.

- ‚ùóÔ∏è–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `persistence.xml`
```xml
<property name="jakarta.persistence.jdbc.user" value="sa"/>
<property name="jakarta.persistence.jdbc.password" value=""/>
```
–Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ github

- –ø–∞–ø–∫–∞ `.idea` –Ω–µ –Ω—É–∂–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ github

## –ü–ª—é—Å—ã
- —Ä–∞–±–æ—Ç–∞—é—â–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- —Ä–∞–±–æ—Ç–∞—é—â–∞—è –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
- –¥–µ—Ç–∞–ª–∏ —Å—á—ë—Ç–∞ (–∏—Å—Ç–æ—Ä–∏—è –ø–æ —Å–µ—Ç–∞–º) –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ç—á–∞
- —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ç—á–µ–π –ø–æ —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
- –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- —Å—Ç—Ä–∞–Ω–∏—Ü—ã JSP –ª–µ–∂–∞—Ç –≤ `/WEB-INF`
- —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (Servlet -> Service -> Repository)
- –¥–æ–≤–æ–ª—å–Ω–æ —Ö–æ—Ä–æ—à–æ —á–∏—Ç–∞–µ–º–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ –º–µ—Ç–æ–¥—ã
- –ª–æ–≥–∏—á–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –ø–∞–∫–µ—Ç–∞–º
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î
- –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞ N+1 –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –ë–î
- —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ConcurrentHashMap –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –º–∞—Ç—á–µ–π
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–∞–ø–ø–µ—Ä—ã
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
- –Ω–∞–ª–∏—á–∏–µ —Ç–µ—Å—Ç–æ–≤
- —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∑–∞–ø–∏—Å–∏ —Å—Ç—Ä–∏–º–æ–≤ –ø–æ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –≤ –û–û–ü (–Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å—Ç—Ä–∏–º –ø–æ –∏–≥—Ä–µ –û—Ä—ë–ª –∏ —Ä–µ—à–∫–∞)
- –î–µ—Ç–∞–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è null –∏–∑ –º–µ—Ç–æ–¥–æ–≤, –∞ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è null –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Hibernate, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `persistence.xml` –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```xml
<property name="hibernate.format_sql" value="true"/>
<property name="hibernate.highlight_sql" value="true"/>
```
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ ServletContextListener
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ Hibernate Validator
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ MapStruct
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ Lombok
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DTO
- –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ Idea CE –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–≥–∏–Ω—ã Smart Tomcat –∏–ª–∏ Jetty (–¥–ª—è Maven –ø—Ä–æ–µ–∫—Ç–∞)/Gretty (–¥–ª—è Gradle)
- –ü–æ—á–∏—Ç–∞—Ç—å –≥–ª–∞–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∂—É—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏, –∏–∑ –∫–Ω–∏–≥–∏ "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥" –ú–∞—Ä—Ç–∏–Ω–∞ –§–∞—É–ª–µ—Ä–∞

## –°–Ω–æ—Å–∫–∏

<details>

<summary><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –ë–î</b></summary>

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –ë–î <a id="sql-keywords"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-from-sql-keywords) </div>

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `USER`, `ORDER`, `GROUP`) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ä—è–¥—É –ø—Ä–æ–±–ª–µ–º.

–í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑ –Ω–∏—Ö:

### 1. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

–≠—Ç–æ —Å–∞–º–∞—è –≥–ª–∞–≤–Ω–∞—è –∏ —á–∞—Å—Ç–∞—è –ø—Ä–æ–±–ª–µ–º–∞. SQL-–ø–∞—Ä—Å–µ—Ä –≤–∏–¥–∏—Ç –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –∏ –æ–∂–∏–¥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∞ –Ω–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã.

**–ü—Ä–∏–º–µ—Ä:**
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `ORDER`.
```sql
SELECT * FROM ORDER;
```
—ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É, –ø–æ—Ç–æ–º—É —á—Ç–æ `ORDER` ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è `ORDER BY` (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞). –ü–∞—Ä—Å–µ—Ä –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å –ø–æ—Å–ª–µ –Ω–µ–≥–æ `BY` –∏ –Ω–µ –ø–æ–π–º—ë—Ç, —á—Ç–æ `ORDER` ‚Äî —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

### 2. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (Quoting)

–ß—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–∫–ª—é—á–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –°–£–ë–î:

* **MySQL / MariaDB:** –æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ (`` ` ``)
    ```sql
    SELECT * FROM `ORDER`;
    ```
* **PostgreSQL / –°—Ç–∞–Ω–¥–∞—Ä—Ç SQL:** –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ (`" "`)
    ```sql
    SELECT * FROM "ORDER";
    ```
* **SQL Server:** –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ (`[ ]`)
    ```sql
    SELECT * FROM [ORDER];
    ```

### 3. –°–Ω–∏–∂–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞

–ò–∑-–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ª–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–≤—ã—á–∫–∏, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–∞–º, –Ω–∞ –ø–æ–∏—Å–∫ –∫–æ—Ç–æ—Ä—ã—Ö —É–π–¥—ë—Ç –≤—Ä–µ–º—è.

### 4. –ü—Ä–æ–±–ª–µ–º—ã —Å ORM –∏ –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Hibernate, JPA, SQLAlchemy –∏ –¥—Ä—É–≥–∏–µ ORM), –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ GUI-–∫–ª–∏–µ–Ω—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏, –º–æ–≥—É—Ç –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —Ç–∞–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏. –û–Ω–∏ –º–æ–≥—É—Ç –Ω–µ –∑–Ω–∞—Ç—å, —á—Ç–æ `ORDER` –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å, –∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Ä–∞–±–æ—á–∏–π SQL-–∫–æ–¥. –≠—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

### 5. –ü–æ—Ç–µ—Ä—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏

–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î. –°–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –≤ –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –≤ –¥—Ä—É–≥–æ–π. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å–º–µ–Ω–∏—Ç –°–£–ë–î, –ø—Ä–æ–µ–∫—Ç —Å —Ç–∞–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ç–∞–±–ª–∏—Ü –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏.

---

**–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:**

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∞–±–ª–∏—Ü, —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ë–î.**

–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –°–£–ë–î. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, –º–æ–∂–Ω–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã: `tbl_order`.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ (–µ—Å–ª–∏ —Å–ª–æ–≤–æ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ –Ω–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ): `orders` (—Å–ª–æ–≤–æ `orders` –Ω–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ).
* –î–æ–±–∞–≤–ª—è—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å—ã: `order_data`.

---

</details>

<details>

<summary><b>–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</b></summary>

---

### –ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ <a id="reach-anemic-model"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-from-reach-anemic-model) </div>

> **–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å** –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ), —Ç–∞–∫ –∏ –≤—Å—é —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–∏–º–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
>
> **–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å**, –Ω–∞–ø—Ä–æ—Ç–∏–≤, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞ (–¥–∞–Ω–Ω—ã–µ), –∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å–µ—Ä–≤–∏—Å—ã).
>
> **–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å (Rich Domain Model / Fat Model):**
> - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ (–≤ –∫–ª–∞—Å—Å–∞—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π).
> - –û–±—ä–µ–∫—Ç—ã —è–≤–ª—è—é—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ –∏ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏, –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
> - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á–µ–≤–æ–π –∏–¥–µ–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
> - –û—Å–Ω–æ–≤–∞ Domain-Driven Design (DDD) –∏ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
>
> **–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å (Anemic Model):**
> - –•—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–≤–æ–π—Å—Ç–≤–∞/–ø–æ–ª—è).
> - –ü–æ–≤–µ–¥–µ–Ω–∏–µ (–º–µ—Ç–æ–¥—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π) –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Å–≤–µ–¥–µ–Ω–æ –∫ –º–∏–Ω–∏–º—É–º—É (—Å–µ—Ç—Ç–µ—Ä—ã/–≥–µ—Ç—Ç–µ—Ä—ã).
> - –ö–ª–∞—Å—Å—ã –±–æ–ª—å—à–µ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (DTO) –∏–ª–∏ –∑–∞–ø–∏—Å–∏ (record), –∞ –Ω–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.
> - –ß–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ "–°–µ—Ä–≤–∏—Å–Ω–æ–º—É —Å–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥—É" (Service Layer Spaghetti), –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–∑—Ä–∞—Å—Ç–∞—é—Ç—Å—è, —É–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–º–∏ –∏–∑–≤–Ω–µ.

---

</details>


<details>

<summary><b>"–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</b></summary>

---

#### <center>**"–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**</center> <a id="model-types"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-from-model-types) </div>

| –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–Ω—Ç–µ–∫—Å—Ç |
|---|---|--- |
| Entity (–°—É—â–Ω–æ—Å—Ç—å) | –û–±—ä–µ–∫—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö| –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (JPA/Hibernate) | 
| Domain Model (–î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å) | –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏| –ë–∏–∑–Ω–µ—Å-—É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| DTO (Data Transfer Object) | –û–±—ä–µ–∫—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ª–æ—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è| –£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, API |

---

</details>

<details>

<summary><b>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω: "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (Fat Controller)</b></summary>

---

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω: "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (Fat Controller) <a id="fat-controller"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-from-fat-controller) </div>

"–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ MVC (Model-View-Controller). –û–Ω –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å–ª–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –±—ã—Ç—å —Ç–æ–Ω–∫–∏–º —Å–≤—è–∑—É—é—â–∏–º –∑–≤–µ–Ω–æ–º, –æ–Ω —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è –∏ –≤–±–∏—Ä–∞–µ—Ç –≤ —Å–µ–±—è –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥—Ä—É–≥–∏—Ö —Å–ª–æ—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### –ö–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å

–í –∏–¥–µ–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **"–•—É–¥—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Ç–æ–ª—Å—Ç—ã–µ –º–æ–¥–µ–ª–∏" (Thin Controllers, Fat Models)**, –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã:

| –°–ª–æ–π  | –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ |
|:---|:---|
| **–•—É–¥–æ–π –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** (Thin Controller) | - –ü—Ä–∏–Ω—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.<br>- –í—ã–∑–≤–∞—Ç—å **–æ–¥–∏–Ω** –º–µ—Ç–æ–¥ –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ (–º–æ–¥–µ–ª–∏), –ø–µ—Ä–µ–¥–∞–≤ –µ–º—É —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.<br>- –ü–æ–ª—É—á–∏—Ç—å –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. <br>- –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (View) –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. |
| **–¢–æ–ª—Å—Ç–∞—è –ú–æ–¥–µ–ª—å (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π)** (Fat Model) | - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–µ–π.<br>- –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º: –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ DAO –∏–ª–∏ EntityManager).<br>- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–π –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏.<br>- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.|

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç –≤–µ–±-—Å–ª–æ—è, –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≥–¥–µ —É–≥–æ–¥–Ω–æ.

"–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" –Ω–∞—Ä—É—à–∞–µ—Ç —ç—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ. –û–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –¥–∞–∂–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

#### –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è "–¢–æ–ª—Å—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞"

1. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ü—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP): –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–µ–ª–∞—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º –∏ —Å–ª–æ–∂–Ω—ã–º –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.

2. **–ù–∏–∑–∫–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –≤–µ–±-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

3. **–ü–ª–æ—Ö–∞—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏–∫–∞, "–∑–∞–ø–µ—Ä—Ç–∞—è" –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö –∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ API).

4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (–Ω–∞—Ä—É—à–µ–Ω–∏–µ DRY):** –ï—Å–ª–∏ –ø–æ—Ö–æ–∂–∞—è –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ, –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–µ—Ç –∫—É—Å–æ–∫ –∫–æ–¥–∞, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ –æ–±—â–∏–π —Å–µ—Ä–≤–∏—Å.

5. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ:** –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º, –∞ –µ–≥–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ ‚Äî —Ä–∞–∑–º—ã—Ç—ã–º–∏, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

#### –†–µ—à–µ–Ω–∏–µ

–†–µ—à–µ–Ω–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ª–æ–≥–∏–∫—É –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π **—Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π**. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è "—Ö—É–¥—ã–º" ‚Äî –µ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –±—ã—Ç—å –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º –º–µ–∂–¥—É –º–∏—Ä–æ–º HTTP –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

---

</details>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π. –¢–∞–∫–∂–µ –≤–∏–¥–Ω–æ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–º–µ—á–∞–Ω–∏–π, –º–Ω–æ–≥–∏–µ –∏–∑ –Ω–∏—Ö —è–≤–ª—è—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏, –ø–æ—ç—Ç–æ–º—É –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª–∏—Ç —Ä–µ—à–∏—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–º–µ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

–†–∞–±–æ—Ç–∞ –Ω–∞–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–º–µ—á–∞–Ω–∏–π (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ —á–∞—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã) –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –æ—Ç–ª–∏—á–Ω–æ–π —É—á–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π, —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—â–µ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º—É —Ä–æ—Å—Ç—É –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. 

