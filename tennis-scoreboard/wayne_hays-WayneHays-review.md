# Review –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç [@wayne_hays](https://github.com/WayneHays/scoreboard) –ø—Ä–æ–µ–∫—Ç–∞ [–¢–∞–±–ª–æ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞](https://zhukovsd.github.io/java-backend-learning-course/projects/tennis-scoreboard/)

```text
1. –ó–Ω–∞–∫–æ–º ‚ùóÔ∏è –ø–æ–º–µ—á–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –º–µ—Å—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –¢–ó.
2. –ï—Å–ª–∏ ‚ùóÔ∏è —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –∑–Ω–∞—á–∏—Ç –æ–Ω –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º –ø—É–Ω–∫—Ç–∞–º —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.
3. –ó–∞–º–µ—á–∞–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø—É–Ω–∫—Ç–µ —Å –∏–º–µ–Ω–µ–º –ø–∞–∫–µ—Ç–∞, –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ —Å–ª–æ—è.
4. –ó–Ω–∞–∫–æ–º üí° –ø–æ–º–µ—á–µ–Ω—ã –±–ª–æ–∫–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –ø—Ä–∏—ë–º–∞ –∏–ª–∏ —á–∞—Å—Ç–∏ –∫–æ–¥–∞. 
   –¢–∞–∫–∏–µ –ø—É–Ω–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–º –±–ª–æ–∫–µ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é. 
   –ü–µ—Ä–µ–¥ –∏—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º —Å—Ç–æ–∏—Ç –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –ø—Ä–∏–¥—É–º–∞—Ç—å –∏–ª–∏ –ø–æ–∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. 
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä
- –µ—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∏–≥—Ä–æ–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–ª–∏–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º, —Ç–æ –∫–æ–ª–æ–Ω–∫–∏ –æ—á–∫–æ–≤ —Å–¥–≤–∏–Ω—É—Ç—Å—è –≤–±–æ–∫ ![](images/wayne_hays-WayneHays/Screenshot_01.png)
- –µ—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–ª–∏–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏, –ø—Ä–∏ —ç—Ç–æ–º —É –æ–¥–Ω–æ–≥–æ —Å–¥–µ–ª–∞—Ç—å –∏–º—è —Å–ø–ª–æ—à–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π, –∞ —É –¥—Ä—É–≥–æ–≥–æ –≤—Å–µ —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏ –ø–∏—Å–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª (–¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ), —Ç–æ (–ø–æ–º–∏–º–æ —Å—ä–µ—Ö–∞–≤—à–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ —Å –æ—á–∫–∞–º–∏) –∫–Ω–æ–ø–∫–∏ –±—É–¥—É—Ç —Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ ![](images/wayne_hays-WayneHays/Screenshot_02.png)

## Model
### domain.OngoingMatch <a id="ongoing-match"></a>
- –ù–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –∏–º–µ–Ω–∞—Ö –ø–æ–ª–µ–π —Å–µ–π—á–∞—Å –ø–æ–ª—è –∏–≥—Ä–æ–∫–æ–≤ –≤ –∫–ª–∞—Å—Å–µ Match ‚Äî `firstPlayer` –∏ `secondPlayer`, –∞ –≤ OngoingMatch ‚Äî `player1` –∏ `player2`. –õ—É—á—à–µ –≤–µ–∑–¥–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≥–æ —Å—Ç–∏–ª—è –∏ –≤—ã–±—Ä–∞—Ç—å `firstPlayer` –∏ `secondPlayer`.
- –¶–∏—Ñ—Ä—ã –≤ –∏–º–µ–Ω–∞—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –∏–º–µ–Ω–∞–º–∏ `player1Score` –∏ `player2Score` –ø—Ä–æ—â–µ –ø–µ—Ä–µ–ø—É—Ç–∞—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏ —á—Ç–µ–Ω–∏–∏, —á–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `firstPlayerScore` –∏ `secondPlayerScore`. –í—Ç–æ—Ä–∞—è –ø—Ä–∏—á–∏–Ω–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏—Ñ—Ä—ã –≤ –∏–º–µ–Ω–∞—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–æ—Å–æ–±–µ–Ω–Ω–æ –ø–∞—Ä–Ω—ã—Ö) –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –≤–≤–æ–¥–∞ –≤ Idea –∏–º–µ–Ω–∏ –≤ –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ (`player1Score` –∏ `player2Score`) –æ–Ω–∞ –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –Ω—É–∂–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (—á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∞—Ç—å Enter –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –≤–≤–æ–¥–∞), –∞ –≤ –¥—Ä—É–≥–æ–º —Å–ª—É—á–∞–µ (`firstPlayerScore` –∏ `secondPlayerScore`) –ø—Ä–µ—Ñ–∏–∫—Å—ã –∏–º—ë–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —è–≤–Ω–æ ‚Äî —ç—Ç–æ –Ω–µ–º–Ω–æ–≥–æ —É—Å–∫–æ—Ä—è–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞.
- –°–µ—Ç—Ç–µ—Ä –¥–ª—è –ø–æ–ª—è `winner` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –º–∞—Ç—á–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã, –∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ç—á–∞ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º. –ù–∞–ª–∏—á–∏–µ —Å–µ—Ç—Ç–µ—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤ –æ–±—Ö–æ–¥ –ø—Ä–∞–≤–∏–ª, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–ø—Ç–æ–º–æ–º –∞–Ω–µ–º–∏—á–Ω–æ–π –º–æ–¥–µ–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–ª–∞—Å—Å–∞, –∞ –∫–ª–∞—Å—Å OngoingMatch –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ. –ü–æ–±–µ–¥–∏—Ç–µ–ª—è –º–æ–∂–Ω–æ –≤–æ–æ–±—â–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–æ–ª–µ –∏ —Å–¥–µ–ª–∞—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è.
  –ï—â—ë, –ø—Ä–∏ —Ç–µ–∫—É—â–µ–º –ø–æ–¥—Ö–æ–¥–µ, –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç "–ø–æ–±–µ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –º–∞—Ç—á–∞ –∏ –º–∞—Ç—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω" –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è.
- –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞—Ç—á–∞ (`isFinished()`) –ø–æ –Ω–∞–ª–∏—á–∏—é –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º—ã–º, –Ω–æ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ —É –ø–æ–ª—è `winner` —Å–µ–π—á–∞—Å –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ç—Ç–µ—Ä, —Ç–∞–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å. –¢–∞–∫–∂–µ, —ç—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã ([Single Source of Truth](#ssot-principle)), —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å. <a id="back-1"></a>
- –°–µ–π—á–∞—Å –ø–æ–ª–µ `advantage` –∏–º–µ–µ—Ç —Ç–∏–ø Player –∏ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º –∫–æ–¥–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—Ç—á–∞. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ null –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å null –∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.
  –¢–∞–∫–∂–µ, —ç—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã ([Single Source of Truth](#ssot-principle)), —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å.
  –£—á–∏—Ç—ã–≤–∞—è —Ç–æ, –∫–∞–∫ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ (`if (player.equals(ongoingMatch.getAdvantage()))`), –º–æ–∂–Ω–æ –≤–º–µ—Å—Ç–æ –ø–æ–ª—è `advantage` —Å–¥–µ–ª–∞—Ç—å –º–µ—Ç–æ–¥
```java
public boolean hasAdvantage(Player player) {
    return getPlayerScore(player).getPoints() == Points.ADVANTAGE;
}
```
–∏ –≤ –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ (`if (ongoingMatch.hasAdvantage(player))`)
- ‚ùóÔ∏è–∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ç—á–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤–Ω—É—Ç—Ä—å –∫–ª–∞—Å—Å–∞ OngoingMatch, —á—Ç–æ–±—ã –æ–Ω —Å–∞–º —É–ø—Ä–∞–≤–ª—è–ª —Å–≤–æ–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –≠—Ç–æ —Å–¥–µ–ª–∞–ª–æ –±—ã –º–æ–¥–µ–ª—å –±–æ–ª–µ–µ –±–æ–≥–∞—Ç–æ–π –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –±—ã –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –û–û–ü.
- –¥–ª—è –º–µ—Ç–æ–¥–∞ `resetPointsToForty()` –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `loseAdvantage()`, `cancelAdvantage()` –∏–ª–∏ `resetToDeuce()`.
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –∫–ª–∞—Å—Å –∫–æ–¥–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –º–∞—Ç—á–∞: –±–æ–ª–µ–µ —è–≤–Ω–æ —á–µ—Ä–µ–∑ `boolean tieBreak` –∏ –º–µ–Ω–µ–µ —è–≤–Ω–æ —á–µ—Ä–µ–∑ `Player advantage` –∏ `Player winner`. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ç–∞–π-–±—Ä–µ–π–∫–∞, –∏–º–µ—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —É –æ–¥–Ω–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –∏ –±—ã—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º (–∏–º–µ—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è). –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –¥–∞—ë—Ç –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å–≤–æ–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑–≤–Ω–µ. –ë–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –±—ã–ª–æ –±—ã –Ω–µ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö —è–≤–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (enum).

  –°–∫–∞–∂–µ–º, —Ç–∞–∫–æ–≥–æ:
```java
public enum OngoingMatchState {
    REGULAR,
    ADVANTAGE,
    TIEBREAK,
    FINISHED;
}
```
–ï—â—ë –±–æ–ª–µ–µ —É–¥–∞—á–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –±—ã–ª–æ –±—ã —Å–æ–∑–¥–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–µ–π–º–∞ (–∏–ª–∏ –º–∞—Ç—á–∞ –≤ —Ü–µ–ª–æ–º). –†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ö –≤ –≤–∏–¥–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö (–±–æ–≥–∞—Ç—ã—Ö) –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.

  [–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏](#reach-anemic-model) <a id="back-2"></a>

- –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø "Tell, Don't Ask". –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≥–æ–≤–æ—Ä–∏—Ç—å –º–∞—Ç—á—É "–æ–±—Ä–∞–±–æ—Ç–∞–π –æ—á–∫–æ", –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –º–∞—Ç—á–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–∞–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è. –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–æ–≥–∞—Ç–æ–π –º–æ–¥–µ–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç —ç—Ç–æ.
- ‚ùóÔ∏è–°–µ–π—á–∞—Å –æ–±—ä–µ–∫—Ç—ã Player –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ ‚Äî —ç—Ç–æ JPA Entity. –≠—Ç–æ —Å–º–µ—à–∏–≤–∞–µ—Ç —Å–ª–æ–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏ (JPA/Hibernate) —Å–æ —Å–ª–æ–µ–º –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ (–ø—Ä–∞–≤–∏–ª–∞ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞). –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ—ë–≤ –±—É–¥–µ—Ç —á–∏—â–µ, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫–∏ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –±—É–¥—É—Ç Value Object-–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä
```java
public record TennisPlayer(String name) {
}
```
- –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –≤ –º–µ—Ç–æ–¥–∞—Ö `resetPointsForBoth()`, `resetGamesForBoth()`, `resetTieBreakPointsForBoth()` –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å —Ç–∞–∫:
```java
private void resetPointsForBoth() {
    forBothScores(PlayerScore::resetPoints);
}

private void resetGamesForBoth() {
    forBothScores(PlayerScore::resetGames);
}

private void resetTieBreakPointsForBoth() {
    forBothScores(PlayerScore::resetTieBreakPoints);
}

private void forBothScores(Consumer<PlayerScore> action) {
    action.accept(player1Score);
    action.accept(player2Score);
}
```
- –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥ `getPlayerScore()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—á—ë—Ç –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –≤ –Ω–µ–≥–æ –ø–µ—Ä–µ–¥–∞–ª–∏ null –∏–ª–∏ –∏–≥—Ä–æ–∫–∞ –Ω–µ –æ—Ç–Ω–æ—Å—è—â–µ–µ—Å—è –∫ —ç—Ç–æ–º—É –º–∞—Ç—á—É:
```java
private PlayerScore getPlayerScore(Player player) {
    return player.equals(player1) ? player1Score : player2Score;
}
```
–æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ ‚Äî —Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –∏ —Å—á—ë—Ç –≤ Map:
```java
public class OngoingMatch { 
    // ...
    private final Map<Player, PlayerScore> scores;
    public OngoingMatch(Player player1, Player player2) {
        // ...
        this.scores = Map.of(
                player1, player1Score,
                player2, player2Score
        );
    }
    // ...
}
```
–∏ —Å—á—ë—Ç –∏–≥—Ä–æ–∫–∞ –ø–æ–ª—É—á–∞—Ç—å —Ç–∞–∫: `scores.get(player)` (–ø—Ä–æ–≤–µ—Ä—è—è –Ω–∞ null).

–ß—É—Ç—å –ª—É—á—à–µ (–≤ —Ç–µ–∫—É—â–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ) ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—è –∏–≥—Ä–æ–∫–æ–≤ –∏ –æ—á–∫–æ–≤ –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –º–µ—Ç–æ–¥:
```java
private PlayerScore getPlayerScore(Player player) {
    Objects.requireNonNull(player, "Player cannot be null");
    
    if (player.equals(player1)) {
        return player1Score;
    }
    if (player.equals(player2)) {
        return player2Score;
    }
    
    throw new IllegalArgumentException("There is no player in this match: " + player);
}
```

–ò–¥–µ–∞–ª—å–Ω–æ ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –¥–∏–∑–∞–π–Ω, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ `getPlayerScore()`

### domain.PlayerScore
- –∫–ª–∞—Å—Å –∑–∞–∫—Ä—ã—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑–≤–Ω–µ –ø–∞–∫–µ—Ç–∞, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ï—â—ë –ª—É—á—à–µ –±—ã–ª–æ –±—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—á—ë—Ç–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—Ç—á–∞.
- –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—á–∫–æ–≤ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- —É –∫–ª–∞—Å—Å–∞ –Ω–µ—Ç (–∏ –Ω–µ –ø—Ä–µ–¥–≤–∏–¥–∏—Ç—Å—è) –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤, —á—Ç–æ –¥–∞–≤–∞–ª–æ –±—ã –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—è–≤–Ω—ã–π package-private –≤–º–µ—Å—Ç–æ protected, –ø–æ—ç—Ç–æ–º—É –º–µ—Ç–æ–¥–∞–º –ª—É—á—à–µ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–∞ protected.
- –°–µ–π—á–∞—Å –∫–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—á—ë—Ç –¥–ª—è —Ç–∞–π-–±—Ä–µ–π–∫–∞ `int tieBreakPoints` –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç —Ç–∞–π-–±—Ä–µ–π–∫–∞. –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ —Å—á—ë—Ç —Ç–∞–π-–±—Ä–µ–π–∫–∞ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è —Ç–∞–π-–±—Ä–µ–π–∫–∞. –ù–∞–ª–∏—á–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä–æ–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ –ª–∏—à—å –∏–Ω–æ–≥–¥–∞, –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –æ—à–∏–±–∫–∞–º. –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.
- –∫–ª–∞—Å—Å –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Value Object (–ø—Ä–∏—Ç–æ–º, —è–≤–ª—è–µ—Ç—Å—è –∏–∑–º–µ–Ω—è–µ–º—ã–º (mutable)), —á–µ–º –æ–±—ä–µ–∫—Ç—É –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É —Å—Ç–∏–ª—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –Ω—ë–º –∏—Å—á–µ–∑–Ω–µ—Ç.

### service.scorecalculation.Points
- –°–µ–π—á–∞—Å Points –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ `service.scorecalculation`. –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —É—Ä–æ–≤–Ω—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è, —á—Ç–æ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω–æ. –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ Points –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (–æ—á–∫–∏ –≤ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–º –≥–µ–π–º–µ) –∏ –¥–æ–ª–∂–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Å–ª–æ–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å Points –≤ `model.domain`.
- –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –º–µ—Ç–æ–¥–∞ `next()` –Ω–∏–≥–¥–µ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Å—Ç–µ–∫—É –≤—ã–∑–æ–≤–æ–≤ –∏ –µ—Å–ª–∏ –æ–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 500-–æ–π –æ—à–∏–±–∫–∏ ![](images/wayne_hays-WayneHays/Screenshot_03.png)

  –í–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª–æ –±—ã –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–∞—Ç—á–∞ –∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—á–∫–æ.
- –º–µ—Ç–æ–¥ `canAdvance()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Å—Ç–∞—Ö ‚Äî —ç—Ç–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –¥–ª—è –µ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –µ–≥–æ —É–¥–∞–ª–∏—Ç—å.
  –ï—Å–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω—É–∂–µ–Ω –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∫–ª–∞—Å—Å–µ –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–º –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.
  –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ PointsTest –≤–º–µ—Å—Ç–æ —Ç–∞–∫–æ–≥–æ –≤—ã–∑–æ–≤–∞
```java
@Test
void someMethod() {
    assertTrue(Points.ZERO.canAdvance())
}
```
–±—É–¥–µ—Ç —Ç–∞–∫–æ–π
```java
@Test
void someMethod() {
    assertTrue(canAdvance(Points.ZERO));
}
        
private boolean canAdvance(Points points) {
    return points != Points.ADVANTAGE;
}
```
- –≤–æ–∑–º–æ–∂–Ω–æ, –ª—É—á—à–µ –≤–º–µ—Å—Ç–æ –º–µ—Ç–æ–¥–∞ `getValue()` (–∫–æ—Ç–æ—Ä—ã–π —Å–µ–π—á–∞—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è Lombok) —Å–¥–µ–ª–∞—Ç—å `getDisplayValue()`, –ø–æ—Ç–æ–º—É —á—Ç–æ `value` - —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### model.entity
- Hibernate –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—Ä–æ–≤–Ω–µ–º –¥–æ—Å—Ç—É–ø–∞ protected ‚Äî –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏: `@NoArgsConstructor(access = AccessLevel.PROTECTED)`
- –µ—Å–ª–∏ –∏–º—è –ø–æ–ª—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ–ª–æ–Ω–∫–∏, —Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä name –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Column` –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å: `@Column(name = "id")` -> `@Column`
### Player
- –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Column` –ø–∞—Ä–∞–º–µ—Ç—Ä `columnDefinition = "VARCHAR"` –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ. –ù–æ –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, —Ç–æ –Ω–∞–¥–æ –≤ –Ω—ë–º –∂–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –¥–ª–∏–Ω—É —ç—Ç–æ–≥–æ –ø–æ–ª—è: `columnDefinition = "VARCHAR (30)"`, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î.
- –¢–∞–∫–∂–µ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Column` —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `length = 30`, —á—Ç–æ–±—ã Hibernate —Ç–æ–∂–µ –≤—ã–ø–æ–ª–Ω—è–ª –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ –ë–î. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã `length = 30` –∏ `columnDefinition = "VARCHAR (30)"` –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞: –ø–µ—Ä–≤—ã–π ‚Äî –∑–∞–¥–∞—ë—Ç –∫—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–º–µ–Ω–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ Hibernate (–≤–ª–∏—è–µ—Ç –Ω–∞ DDL —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç `columnDefinition`), –≤—Ç–æ—Ä–æ–π –≤–ª–∏—è–µ—Ç –Ω–∞ DDL –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã (–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `length`, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å).

<details>

---

<summary><b>–í–æ—Ç –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–ª–∏—è—é—Ç –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã</b></summary>

–±–µ–∑ `columnDefinition` –∏ –±–µ–∑ `length`
```java
@Column(
        nullable = false,
        unique = true
)
```
```sqlite-sql
create table Players (
    id bigint generated by default as identity,
    name varchar(255) not null unique,
    primary key (id)
)
```

—Å `columnDefinition` (–±–µ–∑ —è–≤–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è) –∏ –±–µ–∑ `length`
```java
@Column(
        nullable = false,
        unique = true,
        columnDefinition = "VARCHAR"
)
```
```sqlite-sql
create table Players (
    id bigint generated by default as identity,
    name VARCHAR not null unique,
    primary key (id)
)
```

—Å `columnDefinition` (–∏ —è–≤–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º) –∏ –±–µ–∑ `length`
```java
@Column(
        nullable = false,
        unique = true,
        columnDefinition = "VARCHAR(30)"
)
```
```sqlite-sql
create table Players (
    id bigint generated by default as identity,
    name VARCHAR(30) not null unique,
    primary key (id)
)
```

–±–µ–∑ `columnDefinition` –∏ —Å `length` ‚Äî –æ–¥–∏–Ω –∏–∑ –ª—É—á—à–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
```java
@Column(
        nullable = false,
        unique = true,
        length = 30
)
```
```sqlite-sql
create table Players (
    id bigint generated by default as identity,
    name varchar(30) not null unique,
    primary key (id)
)
```

—Å `columnDefinition` (–±–µ–∑ —è–≤–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è) –∏ —Å `length`
```java
@Column(
        nullable = false,
        unique = true,
        columnDefinition = "VARCHAR",
        length = 30
)
```
```sqlite-sql
create table Players (
    id bigint generated by default as identity,
    name VARCHAR not null unique,
    primary key (id)
)
```

—Å `columnDefinition` (–∏ —è–≤–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º) –∏ —Å `length` ‚Äî –æ–¥–∏–Ω –∏–∑ –ª—É—á—à–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
```java
@Column(
        nullable = false,
        unique = true,
        columnDefinition = "VARCHAR(30)",
        length = 30
)
```
```sqlite-sql
create table Players (
    id bigint generated by default as identity,
    name VARCHAR(30) not null unique,
    primary key (id)
)
```

---

</details>

### Match
- ‚ùóÔ∏è–¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å `optional = false` –≤ `@ManyToOne` –∏–ª–∏ `nullable = false` –≤ `@JoinColumn`. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è) –∏ –≤ –ë–î (constraints). –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –ë–î –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω—ã –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –ë–î.

  –ü—Ä–∏ `optional = false` –∏–ª–∏ `nullable = false` ‚Äî Hibernate –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `NOT NULL` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ë–î –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ –ë–î (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è null, —Ç–æ Hibernate –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –ë–î –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏ —Å–∞–º –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ PropertyValueException)
- –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ, —á—Ç–æ –∏–≥—Ä–æ–∫–∏ —Ä–∞–∑–Ω—ã–µ –∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–∞—Ç—á–∞

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

```java
@Table(name = "Matches",
        check = {
                @CheckConstraint(constraint = "firstPlayer != secondPlayer"),
                @CheckConstraint(constraint = "winner = firstPlayer OR winner = secondPlayer")
        }
)
public class Match { 
    // ...
}
```

---

</details>

- ‚ùóÔ∏è—Å–µ–π—á–∞—Å —É –ø–æ–ª—è `winner` –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ç—Ç–µ—Ä. Match –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç —É–∂–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è. –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–µ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã —ç—Ç–æ—Ç —Å–µ—Ç—Ç–µ—Ä –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª—Å—è –∏ —É–¥–∞–ª–∏—Ç—å –µ–≥–æ
- –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø–∏—Å–∞—Ç—å –≤ —Å—Ç–∏–ª–µ snake_case ‚Äî —ç—Ç–æ —á–∞—Å—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–µ-—Ñ–∞–∫—Ç–æ, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏ nativeQuery –∑–∞–ø—Ä–æ—Å–∞—Ö —ç—Ç–æ –±—É–¥–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞—Ç—å, —á—Ç–æ –∏–¥—ë—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –∫–æ–ª–æ–Ω–∫–µ –ë–î, –∞ –Ω–µ –ø–æ–ª—é —Å—É—â–Ω–æ—Å—Ç–∏ (–∫–∞–∫ –≤ hql –∑–∞–ø—Ä–æ—Å–∞—Ö).
```java
// camelCase –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å:
getCurrentSession().createQuery("SELECT p.firstName, p.lastName FROM Player p", Player.class); // HQL
getCurrentSession().createNativeQuery("SELECT firstName, lastName FROM players", Player.class); // SQL

// snake_case –æ—Ç–ª–∏—á–∏–µ —è–≤–Ω–æ:
getCurrentSession().createQuery("SELECT p.firstName, p.lastName FROM Player p", Player.class); // HQL
getCurrentSession().createNativeQuery("SELECT first_name, first_name FROM players", Player.class); // SQL
```

## Dao
- –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π `save(Player player)` –∏ `save(Match match)` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç void. –≠—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ, –Ω–æ –æ–±—ã—á–Ω–æ –≤ —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —É –Ω–µ—ë –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ID) –∏–ª–∏, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –±–æ–ª–µ–µ —è–≤–Ω–æ:
  –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ FinishedMatchPersistenceService —Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
private Player savePlayer(Player player) {
    // ...
    playerDao.save(player);
    return player;
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
private Player savePlayer(Player player) {
    // ...
    Player savedPlayer = playerDao.save(player);
    return savedPlayer;
}
```
–∏–ª–∏ —Ç–∞–∫:
```java
private Player savePlayer(Player player) {
    // ...
    return playerDao.save(player);
}
```

### MatchDao
- –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ `getTotalCountOfMatches()` –∏ `getTotalCountOfMatchesByPlayerName(String name)` –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞: 
  
  `getTotalCountOfMatches()` ‚Äî> `countTotal()`, 

  `getTotalCountOfMatchesByPlayerName(String name)` ‚Äî> `countWithPlayer(String name)`

### BaseDao
- –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ –º–µ—Ç–æ–¥–∞ `createPaginatedQuery()`
```java
if (pageNumber < 1) {
    throw new IllegalArgumentException("Page number must be positive");
}
```
–ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–ª–µ—Ç–æ–≤ (–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã) –∏–ª–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–∏—Å–∞ (–≥–¥–µ –æ–Ω–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ PaginationValidator) ‚Äî —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–ª–æ–µ DAO –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º.

–ê —Ç–∞–∫–∂–µ –≤–º–µ—Å—Ç–æ IllegalArgumentException –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ ValidationException, –∫–æ—Ç–æ—Ä–æ–µ —É–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ.
- —Ä–∞—Å—á—ë—Ç —Å–º–µ—â–µ–Ω–∏—è –∏–∑ –º–µ—Ç–æ–¥–∞ `createPaginatedQuery()` –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–∏—Å–∞ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Å–¥–µ–ª–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–ª–æ–µ DAO –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º

### PlayerDaoImpl
- —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ —É–¥–æ–±–Ω–µ–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏:

```sqlite-sql
SELECT p 
FROM Player p 
WHERE p.name = :name
```
–¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏:
```java
private static final String FIND_BY_NAME = """
        FROM Player 
        WHERE LOWER(name) = LOWER(:name)
        """;
```
- –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `"name"` –≤ `setParameter("name", name)` –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –∫–∞–∫ –≤ MatchDaoImpl
- –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `String FIND_BY_NAME` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `HQL` –∏–ª–∏ `JPQL`

### MatchDaoImpl
- —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ —É–¥–æ–±–Ω–µ–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏:

```sqlite-sql
FROM Match
ORDER BY id DESC
```
- –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º –≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞
```java
private static final String FIND_BY_PLAYER_NAME =
        "SELECT DISTINCT m FROM Match m " +
        "WHERE LOWER(m.firstPlayer.name) LIKE LOWER(:namePattern) " +
        "   OR LOWER(m.secondPlayer.name) LIKE LOWER(:namePattern) " + // –≤ –Ω–∞—á–∞–ª–µ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
        "ORDER BY m.id DESC";
```
- –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–æ–∫–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –≤–º–µ—Å—Ç–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫:
  —Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
private static final String FIND_BY_PLAYER_NAME =
        "SELECT DISTINCT m FROM Match m " +
        "WHERE LOWER(m.firstPlayer.name) LIKE LOWER(:namePattern) " +
        "   OR LOWER(m.secondPlayer.name) LIKE LOWER(:namePattern) " +
        "ORDER BY m.id DESC";
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
private static final String FIND_BY_PLAYER_NAME_HQL = """
        SELECT DISTINCT m
        FROM Match m
        WHERE LOWER(m.firstPlayer.name) LIKE LOWER(:namePattern)
            OR LOWER(m.secondPlayer.name) LIKE LOWER(:namePattern)
        ORDER BY m.id DESC
        """;
```
- —É—Å–ª–æ–≤–∏—è
```sqlite-sql
WHERE LOWER(m.firstPlayer.name) LIKE LOWER(:namePattern)
    OR LOWER(m.secondPlayer.name) LIKE LOWER(:namePattern)
```
–∏
```sqlite-sql
ORDER BY m.id DESC
```
–¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö ‚Äî –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```java
private static final String FILTER_BY_NAME_HQL = """
        WHERE LOWER(m.firstPlayer.name) LIKE LOWER(:namePattern)
           OR LOWER(m.secondPlayer.name) LIKE LOWER(:namePattern)
        """;

private static final String ORDER_HQL = """
        ORDER BY m.id DESC
        """;
```
- –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ `LOWER()` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `ILIKE` ‚Äî —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫
```sqlite-sql
WHERE m.firstPlayer.name ILIKE :namePattern
    OR m.secondPlayer.name ILIKE :namePattern
```

- ‚ùóÔ∏è–í –∑–∞–ø—Ä–æ—Å–∞—Ö –Ω–∞ –≤—ã–±–æ—Ä–∫—É —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ Match, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑–∞–Ω—ã —Å Player –æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º –º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–¥–Ω–æ–≥–æ –º–∞—Ç—á–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –µ—â—ë –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º –∏–≥—Ä–æ–∫–æ–≤ (–ø—Ä–æ–±–ª–µ–º–∞ N+1):

```sqlite-sql
-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Ç—á–∞
[Hibernate] 
    select
        distinct m1_0.id,
        m1_0.firstPlayer,
        m1_0.secondPlayer,
        m1_0.winner 
    from
        Matches m1_0 
    join
        Players fp1_0 
            on fp1_0.id=m1_0.firstPlayer 
    join
        Players sp1_0 
            on sp1_0.id=m1_0.secondPlayer 
    where
        lower(fp1_0.name) like lower(?) escape '' 
        or lower(sp1_0.name) like lower(?) escape '' 
    order by
        m1_0.id desc 
    offset
        ? rows 
    fetch
        first ? rows only
        
-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        Players p1_0 
    where
        p1_0.id=?

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
[Hibernate] 
    select
        p1_0.id,
        p1_0.name 
    from
        Players p1_0 
    where
        p1_0.id=?
```

–°–ª–µ–¥—É–µ—Ç —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏.

<details>

---

<summary><b>üí° –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ üí°</b></summary>

–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å—ã —Å –ø–æ–º–æ—â—å—é JOIN FETCH
```java
String FIND_BY_NAME_HQL = """
        SELECT m FROM Match m
        LEFT JOIN FETCH m.firstPlayer
        LEFT JOIN FETCH m.secondPlayer
        LEFT JOIN FETCH m.winner
        WHERE m.firstPlayer.name LIKE :namePattern OR m.secondPlayer.name LIKE :namePattern
        """;
```

---

</details>

## Dto
### MatchesPageContext
- –≤–æ–∑–º–æ–∂–Ω–æ, –ª—É—á—à–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `MatchesPageData`

### MatchResult
- ‚ùóÔ∏è–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ `firstPlayerRowClass` –∏ `secondPlayerRowClass` –≤ DTO ‚Äî —ç—Ç–æ —Å–º–µ—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –¥–∞–Ω–Ω—ã—Ö. DTO –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ –¥–µ—Ç–∞–ª—è—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (CSS –∫–ª–∞—Å—Å–∞—Ö). –õ—É—á—à–µ –≤—ã—á–∏—Å–ª—è—Ç—å CSS –∫–ª–∞—Å—Å—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (JSP) –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ.
- –∏–Ω—Ñ–∏–∫—Å `Final` –∏–∑–±—ã—Ç–æ—á–µ–Ω –≤ `int firstPlayerFinalSets` –∏ `int secondPlayerFinalSets`

### MatchesPage
- ‚ùóÔ∏è–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ DTO ‚Äî –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥, –Ω–æ —Å–µ–π—á–∞—Å —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –æ—Ç–¥–∞—ë—Ç –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (JSP-—Ñ–∞–π–ª—ã) —Å–ø–∏—Å–æ–∫ –∏–∑ Entity (`List<Match> matches` —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ë–î). –≠—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —ç—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö, –Ω–∞—Ä—É—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ DTO, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. [(–ø–µ—Ä–µ–π—Ç–∏ –≤ MatchesServlet)](#matchesservlet)
- –º–æ–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—é `String validationError` ‚Äî> `String validationErrorMessage`
- –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è: boolean ‚Äî `hasFilter`, `shouldShowPagination`, `hasPrevious`, `hasNext` –∏ long ‚Äî `previousPage`, `nextPage`. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç DTO –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –ø–µ—Ä–µ–¥–∞—á–∏ ‚Äî –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å –∏—Ö –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –∏–∑ `filterByPlayerName`, `pageNumber` –∏ `totalPages`
- –ª–æ–≥–∏–∫—É –∏–∑ –º–µ—Ç–æ–¥–æ–≤
```java
public boolean hasMatches() {
    return matches != null && !matches.isEmpty();
}

public boolean hasValidationError() {
    return validationError != null;
}
```
—Ç–æ–∂–µ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å –≤ JSP. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç DTO –±–æ–ª–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –¥–∞–Ω–Ω—ã—Ö.

### MatchLiveView
- –ø–æ–ª—è `String firstPlayerId` –∏ `String secondPlayerId` –º–æ–≥—É—Ç –±—ã—Ç—å long

## Service
### BaseTransactionalService
- ‚ùóÔ∏è–Ω–∞—á–∏–Ω–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ª—É—á—à–µ –≤ –±–ª–æ–∫–µ try
  –°–µ–π—á–∞—Å —Ç–∞–∫:
```java
private <T> T executeCommon(Supplier<T> operation, String errorMessage) {
    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    Transaction transaction = session.beginTransaction();

    try {
        // ...
    }
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
private <T> T executeCommon(Supplier<T> operation, String errorMessage) {
    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    Transaction transaction = null;

    try {
        transaction = session.beginTransaction();
        // ...
    }
}
```
—á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ `beginTransaction()` –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∫–∞–∫ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞.
- ‚ùóÔ∏è–ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –±–ª–æ–∫–∞—Ö catch —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞
```java
if (transaction != null && transaction.isActive()) {
    transaction.rollback();
}
```
–∏–Ω–∞—á–µ –≤—ã–∑–æ–≤ `transaction.rollback()` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—é IllegalStateException
- ‚ùóÔ∏è—Ç–∞–∫–∂–µ –≤—ã–∑–æ–≤ `transaction.rollback()` —Å—Ç–æ–∏—Ç –æ–±–µ—Ä–Ω—É—Ç—å –≤ try, –∏–Ω–∞—á–µ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –æ–Ω–æ –∑–∞–º–∞—Å–∫–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ try.
  –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```java
private <T> T executeCommon(Supplier<T> operation, String errorMessage) {
    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    Transaction transaction = null;

    try {
        transaction = session.beginTransaction();
        
        T result = operation.get();
        
        transaction.commit();
        return result;

    } catch (NotFoundException | ValidationException e) {
        safeRollback(transaction, e);
        throw e;

    } catch (RuntimeException e) {
        safeRollback(transaction, e);
        throw new ScoreboardServiceException(errorMessage, e);
    }
}

private void safeRollback(Transaction transaction, Exception originalException) {
    try {
        if (transaction != null && transaction.isActive()) {
            transaction.rollback();
        }
    } catch (Exception rollbackException) {
        originalException.addSuppressed(rollbackException);
    }
}
```

### FinishedMatchPersistenceService
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –º–∞—Ç—á–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç 4-—Ö –¥–æ 6-—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î

<details>

---

<summary><b>–í–æ—Ç —Ç–∞–∫</b></summary>

#### 6 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞ —Å –¥–≤—É–º—è –Ω–æ–≤—ã–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏ (–æ–±–æ–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ—Ç –≤ –ë–î):

```sqlite-sql
-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–µ—Ä–≤–æ–≥–æ)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–µ—Ä–≤–æ–≥–æ)
[Hibernate]
    insert
    into
        Players
        (name, id)
    values
        (?, default)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–≤—Ç–æ—Ä–æ–≥–æ)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–≤—Ç–æ—Ä–æ–≥–æ)
[Hibernate]
    insert
    into
        Players
        (name, id)
    values
        (?, default)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–æ–±–µ–¥–∏—Ç–µ–ª—è)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–∞
[Hibernate]
    insert
    into
        Matches
        (firstPlayer, secondPlayer, winner, id)
    values
        (?, ?, ?, default)
```

#### 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞ —Å –æ–¥–Ω–∏–º –Ω–æ–≤—ã–º –∏–≥—Ä–æ–∫–æ–º (–æ–¥–Ω–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ (–≤—Ç–æ—Ä–æ–≥–æ) –Ω–µ—Ç –≤ –ë–î):

```sqlite-sql
-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–µ—Ä–≤–æ–≥–æ)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–≤—Ç–æ—Ä–æ–≥–æ)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–≤—Ç–æ—Ä–æ–≥–æ)
[Hibernate]
    insert
    into
        Players
        (name, id)
    values
        (?, default)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–æ–±–µ–¥–∏—Ç–µ–ª—è)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–∞
[Hibernate]
    insert
    into
        Matches
        (firstPlayer, secondPlayer, winner, id)
    values
        (?, ?, ?, default)
```

#### 4 –∑–∞–ø—Ä–æ—Å–∞ –≤ –ë–î –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞ –±–µ–∑ –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ (–æ–±–∞ –∏–≥—Ä–æ–∫–∞ –µ—Å—Ç—å –≤ –ë–î):

```sqlite-sql
-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–µ—Ä–≤–æ–≥–æ)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–≤—Ç–æ—Ä–æ–≥–æ)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ (–ø–æ–±–µ–¥–∏—Ç–µ–ª—è)
[Hibernate]
    select
        p1_0.id,
        p1_0.name
    from
        Players p1_0
    where
        lower(p1_0.name)=lower(?)

-- –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–∞
[Hibernate]
    insert
    into
        Matches
        (firstPlayer, secondPlayer, winner, id)
    values
        (?, ?, ?, default)
```

---

</details>

–°—Ç–æ–∏—Ç –ø–æ–∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–∞—Ç—á —Å –∏–≥—Ä–æ–∫–∞–º–∏ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ ‚Äî —ç—Ç–æ —Å–Ω–∏–∑–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î.

- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `savePlayer()` –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–∞ —Å—Ç–æ–∏—Ç –ø—ã—Ç–∞—Ç—å—Å—è –µ–≥–æ –Ω–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –æ—à–∏–±–∫–∞ –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏–º—ë–Ω, –∞ –Ω–µ –≤–æ–æ–±—â–µ –ª—é–±–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

—Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
catch (Exception e) {
    return playerDao.find(player.getName())
            .orElseThrow(() -> new RuntimeException(
                    "Failed to save player: " + player.getName(), e
            ));
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
// ...
catch (Exception e) {
    if (isConstraintViolation(e)) {
        return playerDao.find(player.getName())
                .orElseThrow(() -> new RuntimeException(
                        "Failed to save player: " + player.getName(), e
                ));
    }
    throw new ScoreboardServiceException("Failed to save player: " + player.getName(), e);
}
// ...

private boolean isConstraintViolation(Exception e) {
    Throwable cause = e;
    while (cause != null) {
        if (cause instanceof ConstraintViolationException) {
            return true;
        }
        cause = cause.getCause();
    }
    return false;
}
```

- –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤ –±–ª–æ–∫–µ catch –≤ –º–µ—Ç–æ–¥–µ `savePlayer()` –ª—É—á—à–µ –≤–º–µ—Å—Ç–æ RuntimeException –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä ScoreboardServiceException
- –º–µ—Ç–æ–¥ `save()` –±—É–¥–µ—Ç –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å—Å—è, –µ—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ–≥–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
private Player savePlayer(Player player) {
    return playerDao.find(player.getName())
            .orElseGet(() -> {
                try {
                    playerDao.save(player);
                    return player;
                } catch (Exception e) {
                    return playerDao.find(player.getName())
                            .orElseThrow(() -> new RuntimeException(
                                    "Failed to save player: " + player.getName(), e
                            ));
                }
            });
}
```
–ª—É—á—à–µ —á–∏—Ç–∞–µ—Ç—Å—è —Ç–∞–∫:
```java
private Player savePlayer(Player player) {
    return tryFind(player)
            .orElseGet(() -> trySave(player));
}

private Optional<Player> tryFind(Player player) {
    return playerDao.find(player.getName());
}

private Player trySave(Player player) {
    try {
        playerDao.save(player);
        return player;
    } catch (Exception e) {
        if (isConstraintViolation(e)) {
            return tryFind(player)
                    .orElseThrow(() -> getException(player, e));
        }
        throw getException(player, e);
    }
}

private boolean isConstraintViolation(Exception e) {
    Throwable cause = e;
    while (cause != null) {
        if (cause instanceof ConstraintViolationException) {
            return true;
        }
        cause = cause.getCause();
    }
    return false;
}

private ScoreboardServiceException getException(Player player, Exception e) {
    return new ScoreboardServiceException("Failed to save player: " + player.getName(), e);
}
```

### MatchesPageService
- –¥—É–±–ª–∏—Ä—É—é—â—É—é—Å—è –≤ –º–µ—Ç–æ–¥–∞—Ö `getPage()` –∏ `getPageByPlayerName` –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `PaginationValidator.validatePageNumber(pageNumber)` –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –º–µ—Ç–æ–¥ `buildPage()`
- –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –±—ã–ª–∞ –±—ã —É–º–µ—Å—Ç–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å–º–µ—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π (–∫–æ—Ç–æ—Ä–∞—è —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ DAO)
- –≤ —ç—Ç–æ–º —Å–µ—Ä–≤–∏—Å–µ –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ‚Äî –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é (—á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä) Entity-–º–∞—Ç—á–µ–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ –ë–î –≤ –º–∞—Ç—á–∏-DTO, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–¥–∞–Ω—ã —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–ª–µ—Ç—ã –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (JSP).

### service.matchprocess
- ‚ùóÔ∏è–ª–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—á—ë—Ç–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –≥–ª–∞–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—á—ë—Ç–∞ –Ω–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –º–æ–¥–µ–ª—è—Ö, –ø–æ–Ω–∞–¥–æ–±–∏–ª–∏—Å—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –ü–æ–¥–æ–±–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω—ã –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏ –∏–∑–ª–∏—à–Ω–µ —É—Å–ª–æ–∂–Ω—è—é—Ç –∫–æ–¥.
  –•–æ—Ä–æ—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–∏–≥—Ä–∞–Ω–Ω–æ–≥–æ –æ—á–∫–∞ –≤ –∫–ª–∞—Å—Å–∞—Ö –º–æ–¥–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω Chain of responsibility) –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –µ—ë –≤ –º–µ—Ç–æ–¥–µ `ConcurrentHashMap.compute()` –≤–Ω—É—Ç—Ä–∏ OngoingMatchesService. –ü–æ–¥–æ–±–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏–ª–æ –±—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —ç—Ç–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### service.scorecalculation.handler
- ‚ùóÔ∏è–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Chain of responsibility –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤ ‚Äî —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ò–¥–µ–∞–ª—å–Ω–æ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–µ–π, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ –¥–µ–ª–∏–ª–∏—Å—å –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –±—ã–ª–∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –≠—Ç–æ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –±—ã –û–û–ü —Å—Ç–∏–ª—é –∏ –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

## Servlet
### BaseServlet

<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –≤ JspPaths](#jsppaths)</div>

- –ª–æ–≥–∏–∫—É –º–µ—Ç–æ–¥–æ–≤ `forwardToJsp()` –∏ `redirect()` –∏–∑ —É—Ç–∏–ª–∏—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ ServletHelper –±—É–¥–µ—Ç —É–º–µ—Å—Ç–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–º BaseServlet

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

```java
private static final String PATH_DELIMITER = "/";
private static final String PARAMETER_PREFIX = "?";
private static final String PARAMETER_EQUAL = "=";
private static final String PARAMETER_DELIMITER = "&";
private static final String JSP_SUB_PATH = "/WEB-INF" + PATH_DELIMITER;
private static final String JSP_EXTENSION = ".jsp";

protected void forwardTo(
        String pageName,
        HttpServletRequest request,
        HttpServletResponse response
) throws ServletException, IOException {

    request.getRequestDispatcher(JSP_SUB_PATH + pageName + JSP_EXTENSION)
            .forward(request, response);
}

protected void redirectTo(
        String subPath,
        Map<String, ?> requestParameters,
        HttpServletRequest request,
        HttpServletResponse response
) throws IOException {

    String parameters = buildParameters(requestParameters);
    response.sendRedirect(request.getContextPath() + PATH_DELIMITER + subPath + parameters);
}

private String buildParameters(Map<String, ?> requestParameters) {
    if (requestParameters.isEmpty()) {
        return "";
    }

    return PARAMETER_PREFIX +
           requestParameters.entrySet().stream()
                   .filter(this::isValidEntry)
                   .map(this::buildParameter)
                   .collect(Collectors.joining(PARAMETER_DELIMITER));
}

private boolean isValidEntry(Map.Entry<String, ?> entry) {
    return isNotEmpty(entry.getKey()) && isNotEmpty(entry.getValue());
}

private boolean isNotEmpty(Object object) {
    return object != null && !object.toString().isBlank();
}

private String buildParameter(Map.Entry<String, ?> parameterEntry) {
    String encodedKey = encodeForUrl(parameterEntry.getKey());
    String encodedValue = encodeForUrl(parameterEntry.getValue().toString());

    return encodedKey + PARAMETER_EQUAL + encodedValue;
}

private String encodeForUrl(String raw) {
    return URLEncoder.encode(raw, StandardCharsets.UTF_8);
}
```

–¢–∞–∫–∂–µ, –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–ª–µ—Ç –º–æ–∂–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç BaseServlet –∏ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ JSP —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–∏—Å—á–µ–∑–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ JspPaths).

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ:
```java
@WebServlet ("/home")
public class HomeServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        getServletContext().getRequestDispatcher(JspPaths.HOME_JSP).forward(req, resp);
    }
}
```
–±—É–¥–µ—Ç:
```java
@WebServlet ("/home")
public class HomeServlet extends BaseServlet {
    private static final String JSP_NAME = "home";

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        forwardTo(JSP_NAME, req, resp);
    }
}
```

---

</details>

### NewMatchServlet
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –∏–º–µ–Ω–∞—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–∂–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞:
```java
private UUID createMatch(String player1name, String player2name) {
    String player1ValidName = PlayerNameValidator.validate(player1name); // –∑–¥–µ—Å—å —á–∏—Å–ª–∞–º–∏
    String player2ValidName = PlayerNameValidator.validate(player2name);
        
    // ...

    Player firstPlayer = new Player(player1ValidName); // –∑–¥–µ—Å—å —Å–ª–æ–≤–∞–º–∏
    Player secondPlayer = new Player(player2ValidName);

    // ...
}
```
–ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Å—Ç–∏–ª—å –∏ –≤–µ–∑–¥–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ `firstPlayer` –∏ `secondPlayer`
- –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –∫–ª–∞—Å—Å Player, –ø–æ—ç—Ç–æ–º—É —á–∏—Å—Ç—ã–µ –∏–º–µ–Ω–∞ `player` –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —ç—Ç–æ–≥–æ —Ç–∏–ø–∞, –∞ –¥–ª—è —Å—Ç—Ä–æ–∫ `String player1 = (String) session.getAttribute(PLAYER_1_INPUT_ATTR);` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä `firstPlayerAttributeValue`
- –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –º–µ—Ç–æ–¥–µ `doGet()`

—Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
@Override
protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    HttpSession session = req.getSession(false);

    if (session != null) {
        String error = (String) session.getAttribute(ERROR_ATTR);
        if (error != null) {
            req.setAttribute(ERROR_ATTR, error);
            session.removeAttribute(ERROR_ATTR);
        }

        String player1 = (String) session.getAttribute(PLAYER_1_INPUT_ATTR);
        if (player1 != null) {
            req.setAttribute(PLAYER_1_INPUT_ATTR, player1);
            session.removeAttribute(PLAYER_1_INPUT_ATTR);
        }

        String player2 = (String) session.getAttribute(PLAYER_2_INPUT_ATTR);
        if (player2 != null) {
            req.setAttribute(PLAYER_2_INPUT_ATTR, player2);
            session.removeAttribute(PLAYER_2_INPUT_ATTR);
        }
    }

    ServletHelper.forwardToJsp(req, resp, JspPaths.NEW_MATCH_JSP);
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
@Override
protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    HttpSession session = req.getSession(false);

    if (session != null) {
        setAttribute(ERROR_ATTR, req, session);
        setAttribute(PLAYER_1_INPUT_ATTR, req, session);
        setAttribute(PLAYER_2_INPUT_ATTR, req, session);
    }

    ServletHelper.forwardToJsp(req, resp, JspPaths.NEW_MATCH_JSP);
}

private void setAttribute(String attr, HttpServletRequest req, HttpSession session) {
    String playerAttributeValue = (String) session.getAttribute(attr);
    if (playerAttributeValue != null) {
        req.setAttribute(attr, playerAttributeValue);
        session.removeAttribute(attr);
    }
}
```
- —Å–µ–π—á–∞—Å –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É —Å–µ—Ä–≤–ª–µ—Ç–æ–º –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–º
```java
private UUID createMatch(String player1name, String player2name) {
    String player1ValidName = PlayerNameValidator.validate(player1name); // –∑–¥–µ—Å—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
    String player2ValidName = PlayerNameValidator.validate(player2name); // –∑–¥–µ—Å—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä

    if (player1ValidName.equalsIgnoreCase(player2ValidName)) { // —ç—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Å–µ—Ä–≤–ª–µ—Ç–µ
        throw new ValidationException(DUPLICATE_PLAYERS_NAME_MESSAGE);
    }

    Player firstPlayer = new Player(player1ValidName);
    Player secondPlayer = new Player(player2ValidName);

    return ongoingMatchesService.createMatch(firstPlayer, secondPlayer);
}
```
–ª—É—á—à–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –µ—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (–≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–µ). –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å DTO
```java
public record CreateMatchDto(String firstPlayerName, String secondPlayerName) {
}
```
–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –µ–≥–æ.
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ `createMatch()` —Å–æ–∑–¥–∞—é—Ç—Å—è JPA —Å—É—â–Ω–æ—Å—Ç–∏ Player ‚Äî —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Å–º–µ—à–µ–Ω–∏–µ —Å–ª–æ—ë–≤. –°–µ—Ä–≤–ª–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ DTO ‚Äî c–µ—Ä–≤–ª–µ—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∏—Ö —Å –ø–æ–º–æ—â—å—é –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –∏ –æ—Ç–¥–∞—ë—Ç –≤ —Å–ª–æ–π —Å–µ—Ä–≤–∏—Å–æ–≤. –ê JPA Entity –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ DAO.
- ‚ùóÔ∏è–ø–æ –¢–ó HttpSession –Ω–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ
- –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ `req.getParameter("player1name")` –∏ `req.getParameter("player2name")` –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ —Å–µ—Å—Å–∏–∏

### ErrorServlet
- —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –∏–∑ –º–µ—Ç–æ–¥–∞ `getDefaultMessage()` –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å NewMatchServlet

### MatchScoreServlet
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `doGet()` —Å–µ—Ä–≤–ª–µ—Ç –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ –æ–±—ä–µ–∫—Ç –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ OngoingMatch ‚Äî —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Å–º–µ—à–µ–Ω–∏–µ —Å–ª–æ—ë–≤. –ë—É–¥–µ—Ç –ª—É—á—à–µ, –µ—Å–ª–∏ —Å–µ—Ä–≤–ª–µ—Ç –ø–æ–ª—É—á–∏—Ç –∏–∑ —Å–ª–æ—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å—Ä–∞–∑—É –æ–±—ä–µ–∫—Ç view (`Object view`), –∞ MatchViewResolver —É–∂–µ –ø–æ –Ω–µ–º—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—É—Ç—å –¥–ª—è —Ñ–æ—Ä–≤–∞—Ä–¥–∞ –∏ –∏–º—è –∞—Ç—Ä–∏–±—É—Ç–∞.

### MatchesServlet
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `doGet()` MatchesPage –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è JPA —Å—É—â–Ω–æ—Å—Ç–∏ (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º —Å–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [MatchesPage](#matchespage))
- –≤ —ç—Ç–æ–º —Å–µ—Ä–≤–ª–µ—Ç–µ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∏–º–µ–Ω–∏. –î–∞–ª—å—à–µ –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ –≤ —Å–ª–æ–π —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –µ–º—É –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –º–∞—Ç—á–µ–π (—Å —Ñ–∏–ª—å—Ç—Ä–æ–º –∏–ª–∏ –±–µ–∑). –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º –≤ —ç—Ç–æ–º —Å–µ—Ä–≤–ª–µ—Ç–µ.

## Util
### ServletHelper
- –≤ –º–µ—Ç–æ–¥–µ `parseUuid()` –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–ª–∏–Ω—É uuid –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –≤–≤–æ–¥–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ‚Äî –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –µ–≥–æ –≤ UUID –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è
```java
public static UUID parseUuid(String uuidStr, String paramName) {
    if (uuidStr == null || uuidStr.isBlank()) {
        throw new ValidationException("Parameter '" + paramName + "' is required");
    }

    String trimmedUuid = uuidStr.trim();

    // —ç—Ç–æ—Ç if –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
    if (trimmedUuid.length() != UUID_REQUIRED_LENGTH) {
        logger.warn("Invalid UUID length for parameter '{}': {} (expected exactly 36 characters)",
                paramName, trimmedUuid.length());
        throw new ValidationException("Invalid UUID format for parameter '" + paramName + "'");
    }

    try {
        return UUID.fromString(trimmedUuid);
    } catch (IllegalArgumentException e) {
        logger.warn("Invalid UUID format for parameter '{}': {}", paramName, trimmedUuid);
        throw new ValidationException("Invalid UUID format for parameter '" + paramName + "'");
    }
}
```
- –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–∑ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `parseUuid()` –∏ `parsePageNumber()` –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã (–ø–æ—Å–ª–µ —á–µ–≥–æ –≤ —Å–µ—Ä–≤–ª–µ—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä—è–º–æ–π –ø–∞—Ä—Å–∏–Ω–≥), –∞ `forwardToJsp()` –∏ `redirect()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –±–∞–∑–æ–≤–æ–º —Å–µ—Ä–≤–ª–µ—Ç–µ, —Ç–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –∏—Å—á–µ–∑–Ω–µ—Ç.

### ErrorHandler
- –ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏–Ω—è—Ç–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ) —Ä–µ—à–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–∏—Ç—å "–º–∞–≥–∏—á–µ—Å–∫–∏–µ" —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ç–æ –ª—É—á—à–µ —Å–ª–µ–¥–æ–≤–∞—Ç—å –µ–º—É –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ. –¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö, –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –∏–∫–æ–Ω–∫–∏, –∞ —Ç–∞–∫–∂–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å—Ç–æ–∏—Ç –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏, –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π ErrorDto
```java
public record ErrorDto(
        int statusCode,
        String errorIcon,
        String errorTitle,
        String defaultMessage,
        String message,
        String requestedUrl
) {
}
```
—Ç–æ–≥–¥–∞ –≤–º–µ—Å—Ç–æ:
```java
req.setAttribute("statusCode", statusCode);
req.setAttribute("errorIcon", errorIcon);
req.setAttribute("errorTitle", errorTitle);
req.setAttribute("defaultMessage", defaultMessage);
req.setAttribute("errorMessage", message);
req.setAttribute("requestedUrl", requestedUrl);
```
–±—É–¥–µ—Ç:
```java
req.setAttribute("errorDto", errorDto);
```
- 

## Constant
### JspPaths
- ‚ùóÔ∏è–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `String APPLICATION_CONTEXT_ATTR = "applicationContext"` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—É—Ç—ë–º –∫ JSP, –ø–æ—ç—Ç–æ–º—É –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ
- –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [BaseServlet](#baseservlet), –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –∏—Å—á–µ–∑–Ω–µ—Ç –∏ –µ–≥–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å

### AppDefaults
- –æ–±—â–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ –º–∞–ª–æ, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–ª—è –Ω–∏—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã ‚Äî –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö —Ç–∞–º, –≥–¥–µ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –≤ –∏–¥–µ–∞–ª–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–ª–∂–µ–Ω –≤—ã–±–∏—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —ç—Ç–æ –≤ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ), –ø–æ—ç—Ç–æ–º—É –±—É–¥–µ—Ç —É–º–µ—Å—Ç–Ω—ã–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É `int DEFAULT_MATCHES_PER_PAGE` —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–ª–∞—Å—Å–µ MatchesServlet. –¢–∞–º –∂–µ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å `int DEFAULT_PAGE_NUMBER`
- `String DEFAULT_INITIAL_PLAYERS_FILE` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ TextFileDataSourceProvider
- `String HIBERNATE_CONFIG` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ HibernateConfigManager

### ConfigKeys
- —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ –æ–ø—Ä–∞–≤–¥–∞–Ω–Ω—ã–º, –µ—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º (enum) –∏ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ —Ä—è–¥—É —Å –∫–ª—é—á–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫ üí°</b></summary>

```java
public enum ConfigurationKeys {
    MATCHES_PER_PAGE("matches.per.page", "10", Integer.class, Integer::parseInt),
    INITIAL_PLAYERS_FILE("files.initial.players", "/initial-players.txt", String.class, String::valueOf),
    HIBERNATE_CONFIG_FILE("hibernate.config", "hibernate.properties", String.class, String::valueOf);
    private final String key;
    private final Class<?> type;
    private final Supplier<?> source;

    <T> ConfigurationKeys(String key, String defaultValue, Class<T> type, Function<String, T> parser) {
        this.key = key;
        this.type = type;
        this.source = () -> parser.apply(defaultValue);
    }

    public String key() {
        return key;
    }

    public <T> T getDefaultTypedValue(Class<T> targetType) {
        if (!targetType.equals(type)) {
            throw new InitializationException("Type: %s is unsupported for key: %s\n".formatted(targetType, key));
        }
        return targetType.cast(source.get());
    }
}
```

---

</details>

## Config
### ApplicationContext
- –≤ –º–µ—Ç–æ–¥–µ `get()` –≤–º–µ—Å—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ `T service = (T) services.get(type)` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `T service = type.cast(services.get(type))`, —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è `@SuppressWarnings("unchecked")`

### ApplicationContextListener
- –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –∏–º—è –∫–ª–∞—Å—Å–∞ (–∏–ª–∏ –ø–æ–ª–Ω–æ–µ, –µ—Å–ª–∏ –∫–ª–∞—Å—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö). –≠—Ç–æ –∏–∑–±–∞–≤–∏—Ç –æ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç.
  –í–º–µ—Å—Ç–æ:
```java
servletContext.setAttribute(JspPaths.APPLICATION_CONTEXT_ATTR, context);
```
–±—É–¥–µ—Ç:
```java
servletContext.setAttribute(ServletContext.class.getSimpleName(), context);
```
–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:
```java
private ApplicationContext getApplicationContext() {
    ServletContext servletContext = getServletContext();
ApplicationContext context = (ApplicationContext) servletContext.getAttribute(ServletContext.class.getSimpleName());

    // ...
}
```

### PropertiesConfig
- –≤ –º–µ—Ç–æ–¥–µ `loadProperties()` –∫–∞–∂–µ—Ç—Å—è, –≤–º–µ—Å—Ç–æ `PropertiesConfig.class.getClassLoader()` –ª—É—á—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–ª–∞—Å—Å–æ–≤ `Thread.currentThread().getContextClassLoader()`.

  `Thread.currentThread().getContextClassLoader()` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö (—Å–µ—Ä–≤–µ—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π), –∞ `MyClass.class.getClassLoader()` ‚Äì –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. `getContextClassLoader()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Tomcat), –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ `getClassLoader()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥—Ä—É–∑—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∑–∏–ª –¥–∞–Ω–Ω—ã–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å.

  [1. Difference Between Thread‚Äôs Context Class Loader and Normal Class Loader](https://www.baeldung.com/java-class-loader-thread-context-vs-normal)

  [2. Difference between Thread.currentThread() classLoader and normal classLoader](https://stackoverflow.com/questions/40303433/difference-between-thread-currentthread-classloader-and-normal-classloader)

- –≤ –º–µ—Ç–æ–¥–µ `getInt()` –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NumberFormatException –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `Integer.parseInt(value.trim())`

### servicediscovery
- —Ö–æ—Ä–æ—à–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ SPI (Service Provider Interface). –ú–æ–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–∏ —ç—Ç–æ–º —É–ª—É—á—à–∏—Ç—å –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —Å–µ–π—á–∞—Å –µ—Å—Ç—å –º–Ω–æ–≥–æ –∫–ª–∞—Å—Å–æ–≤-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ —Ü–µ–ª—å—é –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –Ω–∏—Ö.

<details>
<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫ üí°</b></summary>

–¶–µ–Ω–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω —Å–æ–æ–±—â–∞–µ—Ç –∫–∞–∫ (—Å –∫–∞–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏) —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π –æ–±—ä–µ–∫—Ç –∏ —Å –∫–∞–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (—Ç–∏–ø–æ–º) –µ–≥–æ —Å–≤—è–∑—ã–≤–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –ü—Ä–∏ —ç—Ç–æ–º –µ—Å—Ç—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç —á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞. –ë—ã–ª–æ –±—ã –æ—Ç–ª–∏—á–Ω–æ ‚Äî –∏–º–µ—Ç—å —Ç–µ –∂–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –∏–∑–±–∞–≤–∏—Ç—å—Å—è (–∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å) boilerplate-–∫–æ–¥ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤.

–¢–æ –µ—Å—Ç—å, —á—Ç–æ–±—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª–æ —á–µ—Ä–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ classpath, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å, –∏ –Ω–µ –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å —ç—Ç–æ –∫–æ–¥–æ–º.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
#### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

1. –°–æ–∑–¥–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@RegisterAs`, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∫–∞–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç —ç—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤.

3. –£–ø–æ—Ä—è–¥–æ—á–∏–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ priority –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏.

#### –ü—Ä–∏–º–µ—Ä –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –∏ –ø–æ–º–µ—á–∞—Ç—å –µ—é –∫–ª–∞—Å—Å, —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–¥–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç. –î–æ–±–∞–≤–∏—Ç—å –µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä `type`, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —Å –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–¥–æ —Å–≤—è–∑–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–æ–º–µ—á–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞. –¢–∞–∫–∂–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫-—Ç–æ —É–∫–∞–∑–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞—é—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `priority`.

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
public @interface RegisterAs {
    Class<?> type();

    RegistrationPriority priority() default RegistrationPriority.DEFAULT;
}
```

#### –ü—Ä–∏–º–µ—Ä —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

Enum, —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–ª–æ—ë–≤

```java
public enum RegistrationPriority {
    DEFAULT(0),
    CONFIGURATION(100),
    INFRASTRUCTURE(200),
    DAO(300),
    BUSINESS_SERVICE(400),
    COMPOSITE_SERVICE(500),
    TEST_INFRASTRUCTURE(100_300),
    TEST_SERVICE(100_400),
    TEST_COMPOSITE_SERVICE(100_500),
    TEST_LIFECYCLE(100_600);
    private final int value;

    RegistrationPriority(int value) {
        this.value = value;
    }

    public int value() {
        return value;
    }
}
```

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

–î–æ–±–∞–≤–∏—Ç—å `@RegisterAs` –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (priority)

```java
@RegisterAs(type = Config.class, priority = RegistrationPriority.CONFIGURATION)
public class PropertiesConfig implements Config {
    // ...
}

@RegisterAs(type = PlayerDao.class, priority = RegistrationPriority.DAO)
public class PlayerDaoImpl extends BaseDao<Player> implements PlayerDao {
    // ...
}

@RegisterAs(type = OngoingMatchesService.class, priority = RegistrationPriority.BUSINESS_SERVICE)
public class OngoingMatchesService {
    // ...
}
```

–ò –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–ª–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

#### –ü—Ä–∏–º–µ—Ä —Å–∫–∞–Ω–µ—Ä–∞

–°–∫–∞–Ω–µ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É Reflections –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏).

```xml
<dependency>
    <groupId>org.reflections</groupId>
    <artifactId>reflections</artifactId>
    <version>0.10.2</version>
</dependency>
```

–û–Ω –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã.

–í–æ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

<table style="width:200%;">

<tr>
<td style="width:50%;" align="center">
< &nbsp; < &nbsp; < &nbsp;–î–í–ò–ì–ê–ô–¢–ï –ö–û–î –í–õ–ï–í–û, –ß–¢–û–ë–´ –£–í–ò–î–ï–¢–¨ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò&nbsp; < &nbsp; < &nbsp; <
</td>
<td style="width:50%;" align="center">
> &nbsp; > &nbsp; > &nbsp;–î–í–ò–ì–ê–ô–¢–ï –ö–û–î –í–ü–†–ê–í–û, –ß–¢–û–ë–´ –°–ö–†–´–¢–¨ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò&nbsp; > &nbsp; > &nbsp; >
</td>
</tr>

<tr>
<td style="width:50%;">

```java

@NoArgsConstructor(access = AccessLevel.PRIVATE)
public class ServiceScanner {
    public static void scanAndRegister(String basePackage, ApplicationContext context) {
        List<ClassRegistrationInfo> classInfos = scan(basePackage);

        classInfos.sort(Comparator.comparingInt(ClassRegistrationInfo::order));

        classInfos.forEach(info -> register(info, context));
    }

    private static List<ClassRegistrationInfo> scan(String basePackage) {
        Reflections reflections = new Reflections(basePackage, Scanners.TypesAnnotated);

        Set<Class<?>> classes = reflections.getTypesAnnotatedWith(RegisterAs.class);

        return new ArrayList<>(
                classes.stream()
                        .map(ServiceScanner::getClassRegistrationInfo)
                        .toList()
        );
    }

    private static ClassRegistrationInfo getClassRegistrationInfo(Class<?> clazz) {
        RegisterAs annotation = clazz.getAnnotation(RegisterAs.class);
        Class<?> serviceInterface = annotation.type();

        checkAssignable(clazz, serviceInterface);

        return create(clazz, serviceInterface, annotation);
    }

    private static void checkAssignable(Class<?> clazz, Class<?> serviceInterface) {
        if (!serviceInterface.isAssignableFrom(clazz)) {
            String message = "Class " + clazz.getName() +
                             " does not implement " + serviceInterface.getName();
            throw new IllegalStateException(message);
        }
    }

    private static ClassRegistrationInfo create(Class<?> clazz, Class<?> serviceInterface, RegisterAs annotation) {
        return new ClassRegistrationInfo(
                clazz,
                serviceInterface,
                annotation.order().value()
        );
    }

    private static void register(ClassRegistrationInfo info, ApplicationContext context) {
        context.register(info.serviceInterface(), create(info, context));
    }

    private static Object create(ClassRegistrationInfo info, ApplicationContext context) {
        return createWithArgs(info.clazz(), context)
                .orElseGet(() -> createWithoutArgs(info.clazz()));
    }

    private static Optional<Object> createWithArgs(Class<?> clazz, ApplicationContext context) {
        return Arrays.stream(clazz.getDeclaredConstructors())
                .map(constructor -> createBy(constructor, context))
                .filter(Optional::isPresent)
                .findFirst()
                .orElse(Optional.empty());
    }

    private static Optional<Object> createBy(Constructor<?> constructor, ApplicationContext context) {
        try {
            Class<?>[] paramTypes = constructor.getParameterTypes();
            Object[] params = new Object[paramTypes.length];

            if (fillAllParams(params, paramTypes, context)) {
                constructor.setAccessible(true);
                return Optional.of(constructor.newInstance(params));
            }
            return Optional.empty();
        } catch (Exception e) {
            throw new RuntimeException("Failed to create instance of " + constructor.getDeclaringClass().getName(), e);
        }
    }

    private static boolean fillAllParams(Object[] params, Class<?>[] paramTypes, ApplicationContext context) {
        boolean allParamsResolved = true;
        for (int i = 0; i < paramTypes.length; i++) {
            try {
                params[i] = context.get(paramTypes[i]);
            } catch (IllegalStateException e) {
                allParamsResolved = false;
                break;
            }
        }
        return allParamsResolved;
    }

    private static Object createWithoutArgs(Class<?> clazz) {
        try {
            Constructor<?> constructor = clazz.getDeclaredConstructor();
            constructor.setAccessible(true);
            return constructor.newInstance();
        } catch (Exception e) {
            throw new RuntimeException("Failed to create instance of " + clazz.getName(), e);
        }
    }

    private record ClassRegistrationInfo(
            Class<?> clazz,
            Class<?> serviceInterface,
            int order
    ) {
    }
}
```

</td>
<td style="width:50%;">

```java
/**
 * –°–∫–∞–Ω–µ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 * –ö–ª–∞—Å—Å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –≤ –ø–æ–∏—Å–∫–µ –∫–ª–∞—Å—Å–æ–≤, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö @RegisterAs,
 * –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Ö –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º ApplicationContext.
 */
@NoArgsConstructor(access = AccessLevel.PRIVATE)
public class ServiceScanner {

    /**
     * –û—Å–Ω–æ–≤–Ω–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
     *
     * @param basePackage –±–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
     * @param context –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–Ω–æ–≤
     */
    public static void scanAndRegister(String basePackage, ApplicationContext context) {
        // 1. –°–∫–∞–Ω–∏—Ä—É–µ–º –ø–∞–∫–µ—Ç –∏ –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∞—Å—Å–∞—Ö
        List<ClassRegistrationInfo> classInfos = scan(basePackage);

        // 2. –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å—ã –ø–æ –ø–æ—Ä—è–¥–∫—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–∑–Ω–∞—á–µ–Ω–∏–µ priority –∏–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)
        classInfos.sort(Comparator.comparingInt(ClassRegistrationInfo::order));

        // 3. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
        classInfos.forEach(info -> register(info, context));
    }

    /**
     * –°–∫–∞–Ω–∏—Ä—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –≤ –ø–æ–∏—Å–∫–µ –∫–ª–∞—Å—Å–æ–≤ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @RegisterAs.
     *
     * @param basePackage –ø–∞–∫–µ—Ç –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
     * @return —Å–ø–∏—Å–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∞—Å—Å–∞—Ö –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
     */
    private static List<ClassRegistrationInfo> scan(String basePackage) {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º Reflections –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª–∞—Å—Å–æ–≤ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
        Reflections reflections = new Reflections(basePackage, Scanners.TypesAnnotated);

        // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ @RegisterAs
        Set<Class<?>> classes = reflections.getTypesAnnotatedWith(RegisterAs.class);

        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –≤ ClassRegistrationInfo –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ø–∏—Å–æ–∫
        return new ArrayList<>(
                classes.stream()
                        .map(ServiceScanner::getClassRegistrationInfo)
                        .toList()
        );
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç ClassRegistrationInfo –¥–ª—è –∫–ª–∞—Å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @RegisterAs.
     *
     * @param clazz –∫–ª–∞—Å—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
     * @return –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞
     * @throws IllegalStateException –µ—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
     */
    private static ClassRegistrationInfo getClassRegistrationInfo(Class<?> clazz) {
        // –ü–æ–ª—É—á–∞–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @RegisterAs
        RegisterAs annotation = clazz.getAnnotation(RegisterAs.class);
        // –ò–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å
        Class<?> serviceInterface = annotation.type();

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–ª–∞—Å—Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        checkAssignable(clazz, serviceInterface);

        // –°–æ–∑–¥–∞–µ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        return create(clazz, serviceInterface, annotation);
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
     *
     * @param clazz –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–π –∫–ª–∞—Å—Å
     * @param serviceInterface –æ–∂–∏–¥–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
     * @throws IllegalStateException –µ—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
     */
    private static void checkAssignable(Class<?> clazz, Class<?> serviceInterface) {
        if (!serviceInterface.isAssignableFrom(clazz)) {
            String message = "Class " + clazz.getName() +
                             " does not implement " + serviceInterface.getName();
            throw new IllegalStateException(message);
        }
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç ClassRegistrationInfo.
     *
     * @param clazz —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã–π –∫–ª–∞—Å—Å
     * @param serviceInterface –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
     * @param annotation –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @RegisterAs
     * @return –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
     */
    private static ClassRegistrationInfo create(Class<?> clazz, Class<?> serviceInterface, RegisterAs annotation) {
        return new ClassRegistrationInfo(
                clazz,
                serviceInterface,
                annotation.order().value() // –ü–æ–ª—É—á–∞–µ–º —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞
        );
    }

```

<details>
<summary>

<div align="center">

‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî

&gt; &nbsp; &gt; &nbsp; –ù–ê–ñ–ú–ò–¢–ï –ó–î–ï–°–¨, –ß–¢–û–ë–´ –£–í–ò–î–ï–¢–¨/–°–ö–†–´–¢–¨ –ü–†–û–õ–û–î–ñ–ï–ù–ò–ï &nbsp; < &nbsp; <

‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî
</div>

</summary>

```java
    /**
     * –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–¥–∏–Ω –∫–ª–∞—Å—Å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
     *
     * @param info –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞
     * @param context –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     */
    private static void register(ClassRegistrationInfo info, ApplicationContext context) {
        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -> —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞
        context.register(info.serviceInterface(), create(info, context));
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞, –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
     *
     * @param info –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞
     * @param context –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
     * @return —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞
     */
    private static Object create(ClassRegistrationInfo info, ApplicationContext context) {
        // –ü—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)
        // –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è - —Å–æ–∑–¥–∞–µ–º —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        return createWithArgs(info.clazz(), context)
                .orElseGet(() -> createWithoutArgs(info.clazz()));
    }

    /**
     * –ü—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
     * –ò—â–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
     *
     * @param clazz –∫–ª–∞—Å—Å –¥–ª—è –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è
     * @param context –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
     * @return Optional —Å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–ª–∞—Å—Å–∞, –µ—Å–ª–∏ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å
     */
    private static Optional<Object> createWithArgs(Class<?> clazz, ApplicationContext context) {
        // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–∞
        return Arrays.stream(clazz.getDeclaredConstructors())
                .map(constructor -> createBy(constructor, context))
                .filter(Optional::isPresent)
                .findFirst()
                .orElse(Optional.empty());
    }

    /**
     * –ü—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
     *
     * @param constructor –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
     * @param context –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
     * @return Optional —Å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–ª–∞—Å—Å–∞, –µ—Å–ª–∏ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å
     * @throws RuntimeException –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
     */
    private static Optional<Object> createBy(Constructor<?> constructor, ApplicationContext context) {
        try {
            // –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
            Class<?>[] paramTypes = constructor.getParameterTypes();
            Object[] params = new Object[paramTypes.length];

            // –ï—Å–ª–∏ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
            if (fillAllParams(params, paramTypes, context)) {
                // –î–µ–ª–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã–º (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –æ–Ω private)
                constructor.setAccessible(true);
                // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä
                return Optional.of(constructor.newInstance(params));
            }
            return Optional.empty();
        } catch (Exception e) {
            throw new RuntimeException("Failed to create instance of " + constructor.getDeclaringClass().getName(), e);
        }
    }

    /**
     * –ó–∞–ø–æ–ª–Ω—è–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
     *
     * @param params –º–∞—Å—Å–∏–≤ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
     * @param paramTypes —Ç–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
     * @param context –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     * @return true –µ—Å–ª–∏ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã, false –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
     */
    private static boolean fillAllParams(Object[] params, Class<?>[] paramTypes, ApplicationContext context) {
        boolean allParamsResolved = true;
        for (int i = 0; i < paramTypes.length; i++) {
            try {
                // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –±–∏–Ω –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ —Ç–∏–ø—É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
                params[i] = context.get(paramTypes[i]);
            } catch (IllegalStateException e) {
                // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –ø—Ä–µ—Ä—ã–≤–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
                allParamsResolved = false;
                break;
            }
        }
        return allParamsResolved;
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
     *
     * @param clazz –∫–ª–∞—Å—Å –¥–ª—è –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è
     * @return —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
     * @throws RuntimeException –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä
     */
    private static Object createWithoutArgs(Class<?> clazz) {
        try {
            // –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            Constructor<?> constructor = clazz.getDeclaredConstructor();
            // –î–µ–ª–∞–µ–º –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º
            constructor.setAccessible(true);
            // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä
            return constructor.newInstance();
        } catch (Exception e) {
            throw new RuntimeException("Failed to create instance of " + clazz.getName(), e);
        }
    }

    /**
     * –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∑–∞–ø–∏—Å—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞.
     *
     * @param clazz —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã–π –∫–ª–∞—Å—Å
     * @param serviceInterface –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∫–ª–∞—Å—Å
     * @param order –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)
     */
    private record ClassRegistrationInfo(
            Class<?> clazz,
            Class<?> serviceInterface,
            int order
    ) {
    }
}
```

</details>

</td>
</tr>

<tr>
<td style="width:50%;" align="center">
< &nbsp; < &nbsp; < &nbsp;–î–í–ò–ì–ê–ô–¢–ï –ö–û–î –í–õ–ï–í–û, –ß–¢–û–ë–´ –£–í–ò–î–ï–¢–¨ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò&nbsp; < &nbsp; < &nbsp; <
</td>
<td style="width:50%;" align="center">
> &nbsp; > &nbsp; > &nbsp;–î–í–ò–ì–ê–ô–¢–ï –ö–û–î –í–ü–†–ê–í–û, –ß–¢–û–ë–´ –°–ö–†–´–¢–¨ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò&nbsp; > &nbsp; > &nbsp; >
</td>
</tr>

</table>

> –ü—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–π –∫–æ–¥ ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –∞ –Ω–µ production-ready —Ä–µ—à–µ–Ω–∏–µ

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ ApplicationContextInitializer –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ —Å `ServiceDiscovery.discoverAndRegister(context)` –Ω–∞ `ServiceScanner.scanAndRegister(basePackage, context)`.

–í —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –æ–¥–∏–Ω —Ä–∞–∑ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –∏ —Å–∫–∞–Ω–µ—Ä, –∞ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É DRY (Don't Repeat Yourself), –Ω–æ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏.

</details>

## JSP
- –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ JSP —Å—Ç–æ–∏—Ç —É–¥–∞–ª—è—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –í —Ü–µ–ª–æ–º –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ final –ø–æ–ª—è, —Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ "—É–∑–∫—É—é" –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@RequiredArgsConstructor` –≤–º–µ—Å—Ç–æ `@AllArgsConstructor`. –ß—Ç–æ–±—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö non-final –ø–æ–ª–µ–π –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
- –º–µ—Å—Ç–∞–º–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –Ω–µ–º–Ω–æ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ª–∏—à–Ω–∏–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏. –ü–µ—Ä–µ–¥ `git commit` –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å (`cmd + alt + l` –≤ Idea –Ω–∞ mac os)
- ‚ùóÔ∏è–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω Overengineering ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —á—Ä–µ–∑–º–µ—Ä–Ω–æ —Å–ª–æ–∂–Ω–æ–≥–æ –∏ –∑–∞–ø—É—Ç–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–≥–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Å—Ç–æ–º–Ω—ã–π DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å–∏—Å—Ç–µ–º–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–∫–æ–≤. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã KISS –∏ YAGNI, —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.

> **KISS (Keep It Short and Simple)** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–∑—ã–≤–∞—é—â–∏–π –¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã, –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –∫–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏, –∏–∑–±–µ–≥–∞—è –Ω–µ–Ω—É–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ü—Ä–æ—Å—Ç—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ, –Ω–∞–¥–µ–∂–Ω–µ–µ –∏ –ª–µ–≥—á–µ –ø–æ–¥–¥–∞—é—Ç—Å—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ.
> 
> **YAGNI (You Aren't Gonna Need It)** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ü–û, –≥–ª–∞—Å—è—â–∏–π: ¬´–í–∞–º —ç—Ç–æ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è¬ª –∏ –ø—Ä–∏–∑—ã–≤–∞—é—â–∏–π –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π¬ª, –∞ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–µ–π—á–∞—Å. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —Ç–µ–∫—É—â–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö.

  –í –¢–ó –ø—Ä–æ–µ–∫—Ç–∞ —É–∂–µ –∑–∞–ª–æ–∂–µ–Ω—ã –ø–æ–¥–∑–∞–¥–∞—á–∏, —É–º–µ–ª–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤—ã–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

  –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ö–æ–¥—è—â–∏—Ö –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, –ª—É—á—à–µ –ø–æ–¥–æ—à–ª–∏ –±—ã –∑–∞–¥–∞—á–∏, –≥–¥–µ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±—ã–ª–æ –±—ã –æ–ø—Ä–∞–≤–¥–∞–Ω–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ—à–∞–µ–º—ã—Ö –ø—Ä–æ–±–ª–µ–º.

  –£–º–µ–Ω–∏–µ —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –Ω–µ –ø—Ä–∏–≤–Ω–æ—Å—è –≤ –ø—Ä–æ–µ–∫—Ç –∏–∑–±—ã—Ç–æ—á–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å ‚Äî —Ç–æ–∂–µ –≤–∞–∂–Ω—ã–π –Ω–∞–≤—ã–∫.

  –¢–∞–∫–∂–µ, –∑–∞ –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –±—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ —Ä–∞–∑–≥–ª—è–¥–µ—Ç—å –Ω–∞—Ö–æ–¥—á–∏–≤—ã–µ –ø—Ä–∏—ë–º—ã –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–º–µ—Å—Ç–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö.

  –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–µ —É–º–µ–Ω—å—à–∏—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞, –Ω–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –ª–µ–≥—á–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ.

<details>

---

<summary><b>üí° –í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∏ –ø–æ –æ—Ç–∫–∞—Ç—É –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è üí°</b></summary>


  - IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å–µ—Ä–≤–∏—Å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–∏–Ω–æ–≤ –≤ –º–µ—Ç–æ–¥–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫–ª–∞—Å—Å–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

  - –°–∏—Å—Ç–µ–º—É –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π Hibernate –≤ ServletContextListener –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.

  - –õ–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—á—ë—Ç–∞ –∏–∑ `service.scorecalculation` ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤ –º–æ–¥–µ–ª—è—Ö —Ç–∞–∫, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –º–∞—Ç—á–∞.

  - –°–∏—Å—Ç–µ–º—É –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ ‚Äî —É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Chain of responsibility –≤ –∫–ª–∞—Å—Å–∞—Ö —Å–∞–º–∏—Ö –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (–∏ –¥—Ä—É–≥–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –º–æ–¥–µ–ª—è–º).

---

</details>

## –î—Ä—É–≥–æ–µ
- —á—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π –Ω–∞–¥–æ –≤—Ä—É—á–Ω—É—é –∑–∞–≤–µ—Å—Ç–∏ –º–Ω–æ–≥–æ –º–∞—Ç—á–µ–π. –ò –µ—â—ë –±–æ–ª—å—à–µ ‚Äî —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞. –ü–æ—ç—Ç–æ–º—É –±—ã–ª–æ –±—ã —Ö–æ—Ä–æ—à–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–ª–∏ –¥–µ–ø–ª–æ–µ) –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –ë–î.

## –ü–ª—é—Å—ã
- —Ö–æ—Ä–æ—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (Servlet -> Service -> DAO)
- —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- —Ö–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã Service Provider Interface –∏ Lifecycle Component
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–∞–ø–ø–µ—Ä—ã
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
- —Ö–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω Chain of responsibility –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
- –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã
- —á–∏—Å—Ç—ã–µ JSP –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ —Ñ–∞–π–ª—ã (+ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- —Ä–∞–±–æ—Ç–∞—é—â–∞—è –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- —Ö–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å–µ—Å—Å–∏—è–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

## –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ –ü—Ä–æ–±–ª–µ–º–∞ N+1 –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –ë–î –∏ —Å–ø–æ—Å–æ–±—ã –µ—ë —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ Hibernate Validator
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ MapStruct

## –°–Ω–æ—Å–∫–∏

<details>

---

### –ü—Ä–∏–Ω—Ü–∏–ø Single Source of Truth <a id="ssot-principle"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-1) </div>

<summary><b>–ü—Ä–∏–Ω—Ü–∏–ø Single Source of Truth (SSOT)</b></summary>

–ü—Ä–∏–Ω—Ü–∏–ø Single Source of Truth (SSOT), –∏–ª–∏ "–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã", –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ–∑–Ω–∞—á–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º, –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ.

–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –µ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö, –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ä–∏—Å–∫ –∏—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º, –ø—É—Ç–∞–Ω–∏—Ü–µ –∏ –Ω–µ–≤–µ—Ä–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º.

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–º–µ—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º.
- –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏: —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—ã—à–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

#### –í–æ–∑–º–æ–∂–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Ä–æ–∂–µ, —á–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—è.
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π: –∏–Ω–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–µ.

–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—É SSOT –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º, –Ω–∞–¥—ë–∂–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.

---

</details>

<details>

---

### –ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ <a id="reach-anemic-model"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-2) </div>

<summary><b>–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</b></summary>

> **–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å** –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ), —Ç–∞–∫ –∏ –≤—Å—é —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–∏–º–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
>
> **–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å**, –Ω–∞–ø—Ä–æ—Ç–∏–≤, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞ (–¥–∞–Ω–Ω—ã–µ), –∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å–µ—Ä–≤–∏—Å—ã).
>
> **–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å (Rich Domain Model / Fat Model):**
> - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ (–≤ –∫–ª–∞—Å—Å–∞—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π).
> - –û–±—ä–µ–∫—Ç—ã —è–≤–ª—è—é—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ –∏ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏, –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
> - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á–µ–≤–æ–π –∏–¥–µ–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
> - –û—Å–Ω–æ–≤–∞ Domain-Driven Design (DDD) –∏ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
>
> **–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å (Anemic Model):**
> - –•—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–≤–æ–π—Å—Ç–≤–∞/–ø–æ–ª—è).
> - –ü–æ–≤–µ–¥–µ–Ω–∏–µ (–º–µ—Ç–æ–¥—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π) –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Å–≤–µ–¥–µ–Ω–æ –∫ –º–∏–Ω–∏–º—É–º—É (—Å–µ—Ç—Ç–µ—Ä—ã/–≥–µ—Ç—Ç–µ—Ä—ã).
> - –ö–ª–∞—Å—Å—ã –±–æ–ª—å—à–µ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (DTO) –∏–ª–∏ –∑–∞–ø–∏—Å–∏ (record), –∞ –Ω–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.
> - –ß–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ "–°–µ—Ä–≤–∏—Å–Ω–æ–º—É —Å–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥—É" (Service Layer Spaghetti), –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–∑—Ä–∞—Å—Ç–∞—é—Ç—Å—è, —É–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–º–∏ –∏–∑–≤–Ω–µ.

---

</details>


## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ Java-—ç–∫–æ—Å–∏—Å—Ç–µ–º—ã, –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

–ï—Å—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (overengineering), –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –æ—Ç–ª–∏—á–Ω—ã–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ–º –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Å–¥–µ—Ä–∂–∞–Ω–Ω–æ—Å—Ç–∏.
