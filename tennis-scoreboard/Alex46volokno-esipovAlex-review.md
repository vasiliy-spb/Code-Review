# Review –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç [@Alex46volokno ](https://github.com/esipovAlex/tennis-scope-board) –ø—Ä–æ–µ–∫—Ç–∞ [–¢–∞–±–ª–æ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞](https://zhukovsd.github.io/java-backend-learning-course/projects/tennis-scoreboard/)

```text
1. –ó–Ω–∞–∫–æ–º ‚ùóÔ∏è –ø–æ–º–µ—á–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –º–µ—Å—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –¢–ó.
2. –ï—Å–ª–∏ ‚ùóÔ∏è —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –∑–Ω–∞—á–∏—Ç –æ–Ω –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º –ø—É–Ω–∫—Ç–∞–º —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.
3. –ó–∞–º–µ—á–∞–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø—É–Ω–∫—Ç–µ —Å –∏–º–µ–Ω–µ–º –ø–∞–∫–µ—Ç–∞, –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ —Å–ª–æ—è.
4. –ó–Ω–∞–∫–æ–º üí° –ø–æ–º–µ—á–µ–Ω—ã –±–ª–æ–∫–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –ø—Ä–∏—ë–º–∞ –∏–ª–∏ —á–∞—Å—Ç–∏ –∫–æ–¥–∞. 
   –¢–∞–∫–∏–µ –ø—É–Ω–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–º –±–ª–æ–∫–µ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é. 
   –ü–µ—Ä–µ–¥ –∏—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º —Å—Ç–æ–∏—Ç –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –ø—Ä–∏–¥—É–º–∞—Ç—å –∏–ª–∏ –ø–æ–∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. 
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä <a id="functional-overview"></a>

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª MatchesServlet](#matchesservlet)

- –Ω–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤ ‚Äî —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –¥–ª–∏–Ω—É, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–∏—Ñ—Ä, –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã
- –µ—Å–ª–∏ –∏–º—è –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –±—É–¥–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª–∏–Ω–Ω–µ–µ –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–≥–æ, —Ç–æ —Ç–∞–±–ª–æ —Å–æ —Å—á—ë—Ç–æ–º —Å–º–µ—Å—Ç–∏—Ç—Å—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞ —Ç–∞–∫–∂–µ –∫–Ω–æ–ø–∫–∞ –∏–≥—Ä–æ–∫–∞ —Å –¥–ª–∏–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º –±—É–¥–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ –∫–Ω–æ–ø–∫–∏ –∏–≥—Ä–æ–∫–∞ —Å –∫–æ—Ä–æ—Ç–∫–∏–º –∏–º–µ–Ω–µ–º ![](images/Alex46volokno-esipovAlex/Screenshot_01.png)
- ‚ùóÔ∏è–∫–æ–≥–¥–∞ —Å—á—ë—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `40:40`, —Ç–æ –Ω–∞ —Ç–∞–±–ª–æ –æ—á–∫–∏ –æ–±–Ω—É–ª—è—é—Ç—Å—è –∏ –≤–º–µ—Å—Ç–æ `40:40` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `0:0`. –î–∞–ª—å—à–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–µ `40:AD -> 40:40 -> AD:40`, –∞ `1:0 -> 0:0 -> 0:1`. –°–∞–º –ø–æ–¥—Å—á—ë—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ —Ç–∞–∫–æ–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–±–∏–≤–∞–µ—Ç —Å —Ç–æ–ª–∫—É
- –≤ —Ç–∞–±–ª–∏—Ü–µ –∏—Ç–æ–≥–æ–≤—ã—Ö –º–∞—Ç—á–µ–π, –µ—Å–ª–∏ —É –æ–¥–Ω–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ –∏–º, —Ç–æ —Ç–µ–∫—Å—Ç –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ç–∞–±–ª–∏—Ü—ã ![](images/Alex46volokno-esipovAlex/Screenshot_02.png)
- –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ—à–∏–±–∫–æ–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–µ—Ä–Ω—É—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. ![](images/Alex46volokno-esipovAlex/Screenshot_03.png) –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
- –Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∏–º–µ–Ω–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π, –µ—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç—ã–º –∏ –Ω–∞–∂–∞—Ç—å `–Ω–∞–π—Ç–∏` (–ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä), —Ç–æ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞ ![](images/Alex46volokno-esipovAlex/Screenshot_04.png) –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π (–Ω–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π) —Å–ø–∏—Å–æ–∫ –º–∞—Ç—á–µ–π 
- –Ω–æ–º–µ—Ä –º–∞—Ç—á–∞ –≤ –≤–∏–¥–µ UUID –Ω–µ –∏–º–µ–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–∑–¥–∞—ë—Ç –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ "—Ç–æ—Ä—á–∞—â–∏—Ö –Ω–∞—Ä—É–∂—É –ø—Ä–æ–≤–æ–¥–æ–≤" ‚Äî –ª—É—á—à–µ –∏–ª–∏ —É–±—Ä–∞—Ç—å —ç—Ç—É –∫–æ–ª–æ–Ω–∫—É –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —á–∏—Å–ª–∞
- –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏—Ç–æ–≥–∞–º–∏ –º–∞—Ç—á–µ–π –≤—ã—Å–∫–∞–∫–∏–≤–∞–µ—Ç –æ–∫–Ω–æ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ" ![](images/Alex46volokno-esipovAlex/Screenshot_05.png)
- –ø—Ä–∏ –≤–≤–æ–¥–µ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞ –¥–ª–∏–Ω–Ω–µ–µ 255 —Å–∏–º–≤–æ–ª–æ–≤ (—Å—Ç–æ–ª—å–∫–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ë–î H2) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ![](images/Alex46volokno-esipovAlex/Screenshot_06.png) –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞–¥ –ø–æ–ª–µ–º –∏–º–µ–Ω–∏), —á—Ç–æ –∏–º—è —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ
- –ø—Ä–∏ –≤–≤–æ–¥–µ –∏–≥—Ä–æ–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω–Ω–æ–π –∏–º–µ–Ω–∏ (255 —Å–∏–º–≤–æ–ª–æ–≤) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–∞—Ç—á–∞ (–µ—Å–ª–∏ –Ω–µ –º–µ–Ω—è—Ç—å –º–∞—Å—à—Ç–∞–± –¥–æ ~35%) –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—á–∫–æ–≤ ‚Äî –¥–ª—è –Ω–µ–≥–æ. –ê –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω –≤—ã–∏–≥—Ä–∞–µ—Ç —ç—Ç–æ—Ç –º–∞—Ç—á, –≤ —Ç–∞–±–ª–∏—Ü–µ –º–∞—Ç—á–µ–π –Ω–µ —Ö–≤–∞—Ç–∏—Ç –º–∞—Å—à—Ç–∞–±–∞ –±—Ä–∞—É–∑–µ—Ä–∞, —á—Ç–æ–±—ã —É–º–µ—Å—Ç–∏—Ç—å –¥–≤–∞–∂–¥—ã –µ–≥–æ –∏–º—è (–≤ –≥—Ä–∞—Ñ–µ –∏–≥—Ä–æ–∫–∞ –∏ –≤ –≥—Ä–∞—Ñ–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è). –≠—Ç–æ —Ä–µ—à–∏—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –∏–º—ë–Ω (–≤ —Ç–æ–º —á–∏—Å–ª–µ –Ω–∞ –¥–ª–∏–Ω—É).
- –µ—Å–ª–∏ –¥–≤–∞ –∏–≥—Ä–æ–∫–∞ —Å—ã–≥—Ä–∞—é—Ç –¥–≤–∞ –º–∞—Ç—á–∞ –∏ –ø–æ–æ—á–µ—Ä–µ–¥–∏ –≤ –Ω–∏—Ö –ø–æ–±–µ–¥—è—Ç, —Ç–æ –≤ —Å–ø–∏—Å–∫–µ –º–∞—Ç—á–µ–π —Å—á—ë—Ç –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ `2 - 0` –∏ `2 - 0`, –≤–º–µ—Å—Ç–æ `2 - 0` –∏ `0 - 2` ![](images/Alex46volokno-esipovAlex/Screenshot_07.png)
- –µ—Å–ª–∏ id –º–∞—Ç—á–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–ª–æ–Ω–∫–µ `‚Ññ –ú–∞—Ç—á–∞`, —Ç–æ —Ä–∞–∑–º–µ—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ç—á–µ–π —Ç–æ–∂–µ –ª–æ–º–∞–µ—Ç—Å—è ![](images/Alex46volokno-esipovAlex/Screenshot_10.png)

## Model
- —Ö–æ—Ç—è –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å DTO, –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ Entity —Ç—Ä–µ–º—è –≤–∏–¥–∞–º–∏ –º–æ–¥–µ–ª–µ–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Java –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –º–æ–¥–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç —É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å –∏—Ö –ø–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –ø–∞–∫–µ—Ç–∞–º –∏ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —ç—Ç–∏ –ø–∞–∫–µ—Ç—ã –≤ –∫–æ—Ä–µ–Ω—å –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ. –¢–∞–∫ –∫–∞–∂–¥—ã–π —Å–ª–æ–π, —Ä–µ—à–∞—é—â–∏–π —Å–≤–æ–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏, –±—É–¥–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –¥—Ä—É–≥–∏—Ö.

#### <center>"–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</center>
| –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–Ω—Ç–µ–∫—Å—Ç |
|---|---|--- |
| Entity (–°—É—â–Ω–æ—Å—Ç—å) | –û–±—ä–µ–∫—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö| –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (JPA/Hibernate) | 
| Domain Model (–î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å) | –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏| –ë–∏–∑–Ω–µ—Å-—É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| DTO (Data Transfer Object) | –û–±—ä–µ–∫—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ª–æ—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è| –£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, API |

### Match
- ‚ùóÔ∏è—Ç–∏–ø UUID –¥–ª—è –ø–æ–ª—è `id` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó. –ü–æ –¢–ó —Ç–∏–ø –∫–æ–ª–æ–Ω–∫–∏ Int. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–æ–π —Ç–æ–≥–æ, —á—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –Ω–æ–º–µ—Ä–æ–≤ –º–∞—Ç—á–µ–π
- ‚ùóÔ∏è–¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å `optional = false` –≤ `@ManyToOne` –∏–ª–∏ `nullable = false` –≤ `@JoinColumn`. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è) –∏ –≤ –ë–î (constraints). –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –ë–î –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω—ã –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –ë–î.

  –°–µ–π—á–∞—Å —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Ç—á–µ–π —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∞–∫:
```sqlite-sql
create table matches (
    id uuid not null,
    firstPlayerSets integer,
    score varchar(255),
    secondPlayerSets integer,
    player1 integer,
    player2 integer,
    winner integer,
    primary key (id)
)
```

–ü—Ä–∏ `optional = false` –∏–ª–∏ `nullable = false` ‚Äî Hibernate –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `NOT NULL` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ë–î –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ –ë–î (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è null, —Ç–æ Hibernate –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –ë–î –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏ —Å–∞–º –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ PropertyValueException)

- –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ç—Ç–µ—Ä—ã —ç—Ç–æ–º—É –∫–ª–∞—Å—Å—É –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Å–µ–π—á–∞—Å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –º–∞—Ç—á–∏ —Ç–æ–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î. –î–∞–∂–µ –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ —É–¥–∞–ª–∏—Ç—å —Å–µ—Ç—Ç–µ—Ä—ã.

  –¢–∞–∫–∂–µ —Å–µ—Ç—Ç–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö, –Ω–æ —ç—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–µ—Å–æ–º–æ–π –ø—Ä–∏—á–∏–Ω–æ–π –¥–ª—è –∏—Ö —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è, –∫ —Ç–æ–º—É –∂–µ –∏—Ö —Ç–∞–º –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å:

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
private Match createMatch(Player firstPlayer, Player secondPlayer, Player winner) {
    Match match = new Match();
    match.setId(UUID.randomUUID());
    match.setFirstPlayer(firstPlayer);
    match.setSecondPlayer(secondPlayer);
    match.setWinner(winner);

    ScoreShort score = new ScoreShort(2, 1, "6-3, 4-6, 6-2");
    match.setScore(score);

    return match;
}
```
–ú–æ–∂–Ω–æ —Ç–∞–∫:
```java
private Match createMatch(Player firstPlayer, Player secondPlayer, Player winner) {
    ScoreShort score = new ScoreShort(2, 1, "6-3, 4-6, 6-2");
    return new Match(
            UUID.randomUUID(),
            firstPlayer,
            secondPlayer,
            score,
            winner
    );
}
```
- Hibernate –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—Ä–æ–≤–Ω–µ–º –¥–æ—Å—Ç—É–ø–∞ protected ‚Äî –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏: `@NoArgsConstructor(access = AccessLevel.PROTECTED)`
- –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@ToString` –ª—É—á—à–µ —É–¥–∞–ª–∏—Ç—å 

[**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @ToString (Lombok) –∏ @Entity (JPA) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ**](#tostring-entity)

- –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ `ScoreShort score` –º–æ–∂–Ω–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ ‚Äî –æ–Ω–æ –≤—Å–µ–≥–¥–∞ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ, —á—Ç–æ –∏–≥—Ä–æ–∫–∏ —Ä–∞–∑–Ω—ã–µ –∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–∞—Ç—á–∞

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

```java
@Table(name = "matches",
        check = {
                @CheckConstraint(constraint = "player1 != player2"),
                @CheckConstraint(constraint = "winner = player1 OR winner = player2")
        })
public class Match { 
    // ...
}
```

---

</details>

### Player
- `@EqualsAndHashCode` (–∫–æ—Ç–æ—Ä–∞—è –≤—Ö–æ–¥–∏—Ç –≤ `@Data`) –æ–±—ã—á–Ω–æ [**–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ jpa —Å—É—â–Ω–æ—Å—Ç—è—Ö**](#data-entity). –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∑–¥–µ—Å—å –ø—Ä–æ–±–ª–µ–º –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –≤–º–µ—Å—Ç–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.
- Hibernate –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—Ä–æ–≤–Ω–µ–º –¥–æ—Å—Ç—É–ø–∞ protected ‚Äî –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏: `@NoArgsConstructor(access = AccessLevel.PROTECTED)`, –∞ —Ç–∞–∫–∂–µ —Å–¥–µ–ª–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –ø–æ–ª–µ–º `name` –¥–ª—è –º–∞–ø–ø–µ—Ä–∞.
- ‚ùóÔ∏è`@AllArgsConstructor` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç Player c —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º id. –î–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –ë–î, –ª—É—á—à–µ –Ω–µ –¥–∞–≤–∞—Ç—å —Ç–∞–∫—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å. –¢–∞–∫–∂–µ –¥–ª—è id –Ω–µ –Ω—É–∂–µ–Ω —Å–µ—Ç—Ç–µ—Ä.
- —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç `@AllArgsConstructor` –Ω–∞–¥–æ –≤ –º–µ—Ç–æ–¥–µ `winProcess()` –≤ MatchService –≤–º–µ—Å—Ç–æ –ø–æ–∏—Å–∫–∞ —Ç–æ–ª—å–∫–æ id –∏–≥—Ä–æ–∫–∞ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞—Ç—å –≤—Å—é —Å—É—â–Ω–æ—Å—Ç—å:
–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
public WinnerResponse winProcess(MatchResponse match) {
    WinnerResponse winner = checkWin(match);
    // ...
    int winnerId = playerService.findIdByName(winner.getWinnerName());
    // ...
    matchRepository.updateMatchScoreAndWinner(id, new Player(winnerId, winner.getWinnerName()), scoreShort);
    // ...
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
public WinnerResponse winProcess(MatchResponse match) {
    WinnerResponse winner = checkWin(match);
    // ...
    Player pointWinner = playerService.findByName(winner.getWinnerName());
    // ...
    matchRepository.updateMatchScoreAndWinner(id, pointWinner, scoreShort);
    // ...
}
```
- —Ö–æ—Ä–æ—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –¥–ª—è JPA Entity:
```java
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@Entity
@Table(name = "Entities")
public class JpaEntity { 
    // ...
}
```

&#43; –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏, –∫—Ä–æ–º–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (id), –∏ equals/hashCode, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —è–≤–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.

### ScoreShort
- –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Getter` –∏ `@Setter` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å ‚Äî –æ–Ω–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ `@Data`
- —Å–µ–π—á–∞—Å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—á—ë—Ç–∞ (—á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥–µ `checkWin()` –≤ MatchService. –ú–æ–∂–Ω–æ –ø–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–±–∏—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å–ª–æ—é –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (JSP) –∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –Ω–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ.

### model.dto
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–ª–∞—Å—Å–æ–≤: –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `PlayerDtoRequest` –µ—Å—Ç—å –∏–Ω—Ñ–∏–∫—Å `Dto`, –∞ –≤ `PageParam` ‚Äî –Ω–µ—Ç. –õ—É—á—à–µ –Ω–∞–∑—ã–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã –≤ –æ–¥–Ω–æ–º —Å—Ç–∏–ª–µ ‚Äî —ç—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞, –∞ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–Ω–∞–ø–æ–º–∏–Ω–∞—è –æ–± –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞).

### PageParam
- –¥–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ –ª–æ–≥–∏–∫–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å null, –ª—É—á—à–µ –≤ record –∫–ª–∞—Å—Å–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã. –ò–Ω–∞—á–µ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º NullPointerException.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
public record PageParam(Integer pageNumber, Integer size) {
}
```
–õ—É—á—à–µ —Ç–∞–∫ (–Ω–æ–º–µ—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ä–∞–∑–º–µ—Ä—É –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ null):
```java
public record PageParam(int pageNumber, int size) {
}
```

### PlayerDtoRequest
- –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `PlayerRequestDto`, —á—Ç–æ–±—ã –æ —Å–ª–æ–µ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —ç—Ç–æ—Ç –∫–ª–∞—Å—Å, —Å–æ–æ–±—â–∞–ª –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å—É—Ñ—Ñ–∏–∫—Å ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å—Å—è
- –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å DTO –∏–∑ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω–æ

### Score
- –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—á–µ—Ç–∞ –≤–æ –≤—Ä–µ–º—è –º–∞—Ç—á–∞), –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–∞–∫–µ—Ç model
- –ø–æ–ª—è `int firstPlayerPoints` –∏ `int secondPlayerPoints` –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ int, —Ö–æ—Ç—è –≤ –Ω–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π. –ü–æ—Å–∫–æ–ª—å–∫—É –∫–ª–∞—Å—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π —Å–µ–π—á–∞—Å –≤ –Ω–∏—Ö –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª—é–±–æ–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è. –°–µ–π—á–∞—Å —Ç–∞–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ `100`, –∫–æ—Ç–æ—Ä–æ–µ –∫–æ–¥–∏—Ä—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º —Å—á—ë—Ç–æ–º. –í–º–µ—Å—Ç–æ int –∑–¥–µ—Å—å –±–æ–ª—å—à–µ –ø–æ–¥–æ—à–ª–æ –±—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ (enum). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –±–æ–ª–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–º –æ—à–∏–±–∫–∞–º.

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–π üí°</b></summary>

```java
enum Point {
    LOVE,
    FIFTEEN,
    THIRTY,
    FORTY,
    ADVANTAGE;
}
```

---

</details>

- –ø–æ–ª–µ `UUID id` —Å–æ–¥–µ—Ä–∂–∏—Ç id –º–∞—Ç—á–∞, –ø–æ—ç—Ç–æ–º—É –≤ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî `matchId`
- –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ "–∞–Ω–µ–º–∏—á–Ω–æ–π –º–æ–¥–µ–ª–∏" ‚Äî –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –ª–∏—à—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ. –ï—Å–ª–∏ –±—ã —É –∫–ª–∞—Å—Å–∞ –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç—ã—Ö —Å–µ—Ç—Ç–µ—Ä–æ–≤ –±—ã–ª–∏ –º–µ—Ç–æ–¥—ã, —Å–æ–≤–µ—Ä—à–∞—é—â–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø–æ–ª—è–º–∏, —ç—Ç–æ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –±—ã –û–û–ü —Å—Ç–∏–ª—é –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ (–≤ —Ä–æ–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏). –¢–∞–∫–∂–µ, —ç—Ç—É —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –±—ã–ª–æ –±—ã –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

<details>

---

<summary><b>üí° –í–æ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ üí°</b></summary>

```java
public class MatchScore {
    private static final Point INITIAL_POINTS = Point.LOVE;
    private static final int VICTORY_TIEBREAK_POINTS = 7;
    private static final int VICTORY_SET_POINTS = 6;
    private static final int MIN_ADVANTAGE_TO_WIN = 2;
    private Point points;
    private int games = 0;
    private int sets = 0;
    private int tieBreakPoints = 0;

    public MatchScore() {
        this.points = INITIAL_POINTS;
    }

    public void increment() {
        // –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—á–∫–æ–≤
    }

    public boolean hasAdvantage() {
        return points == Point.ADVANTAGE;
    }

    public String getPointsValue() {
        return points.value();
    }

    private void incrementGamePoints() {
        games++;
    }

    private void incrementSetPoints() {
        sets++;
    }

    private void incrementTieBreakPoints() {
        tieBreakPoints++;
    }

    private void resetPoints() {
        points = INITIAL_POINTS;
    }

    enum Point {
        LOVE("0"),
        FIFTEEN("15"),
        THIRTY("30"),
        FORTY("40"),
        ADVANTAGE("AD");

        private final String value;

        Point(String value) {
            this.value = value;
        }

        public Point next() {
            if (this == ADVANTAGE) {
                throw new IllegalStateException("Has no points after advantage.");
            }
            return values()[ordinal() + 1];
        }

        public String value() {
            return value;
        }
    }
}
```

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –æ—Ç —Å–µ—Ç—Ç–µ—Ä–æ–≤ —Å—Ç–æ–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è, —á—Ç–æ–±—ã —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á—ë—Ç–∞ —É–ø—Ä–∞–≤–ª—è–ª–æ—Å—å —Ç–æ–ª—å–∫–æ —è–≤–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–º–∏ –¥–ª—è —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞–º–∏.

---

</details>

- –≤ –∫–ª–∞—Å—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–æ 4 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ ‚Äî –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ —Ç–∞–∫–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, —Å—Ç–æ–∏—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –ò–Ω–∞—á–µ, —ç—Ç–æ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–ª–µ `UUID id` –±—É–¥–µ—Ç null ‚Äî —Å—Ç–æ–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ. –ï—Å–ª–∏ —Ç–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–ª–∞—Å—Å—É, —Ç–æ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–ª–¥–µ—Ä–∞ (Builder).
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π: –ø–æ–ª–µ `boolean tieBreak` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è `false` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ –ø–æ–ª–µ `boolean needGame = false` ‚Äî —è–≤–Ω–æ. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä —è–≤–Ω—ã–π, –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤). 
- —Å–µ–π—á–∞—Å –ø–æ–ª–µ `boolean deuce` –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º `true`. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–æ –ª–æ–≥–∏–∫–µ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ "—Ä–æ–≤–Ω–æ" –≤ –≥–µ–π–º–µ. Deuce (—Ä–æ–≤–Ω–æ) –≤ —Ç–µ–Ω–Ω–∏—Å–µ ‚Äî —ç—Ç–æ –Ω–µ –ª—é–±–æ–π —Ä–∞–≤–Ω—ã–π —Å—á—ë—Ç, –∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ —Å—á—ë—Ç –≤ –≥–µ–π–º–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `40:40`.
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è `boolean deuce` –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ç–æ–º—É, —á—Ç–æ –æ–¥–Ω–æ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ. –û–Ω–æ —Å–ª—É–∂–∏—Ç —Ñ–ª–∞–≥–æ–º –¥–ª—è —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã –æ—Ç `0` –¥–æ `40` –æ—á–∫–æ–≤, –ø–æ—ç—Ç–æ–º—É –µ–º—É –±–æ–ª—å—à–µ –ø–æ–¥–æ–π–¥—ë—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ `regular`.
- –ø–æ–ª–µ `boolean needGame` ‚Äî —ç—Ç–æ —Ñ–ª–∞–≥, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–µ–π–º–∞ (–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –æ–±–Ω–æ–≤–∏—Ç—å —Å—á—ë—Ç —Å–µ—Ç–æ–≤), –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –¥–∞—Ç—å –µ–º—É –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `gameFinished`
- –ø–æ–ª—è `boolean deuce`, `boolean tieBreak` –∏ `boolean needGame` –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Ç—á–∞. –î–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ (–µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–∞–∫–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å) –ª—É—á—à–µ –ø–æ–¥–æ–π–¥—ë—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–µ:
```java
public enum GameState {
    REGULAR,
    DEUCE,
    TIEBREAK,
    FINISHED;
}
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ boolean –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–µ–Ω–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–º –∏ –±–æ–ª–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–º –æ—à–∏–±–∫–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π, —á—Ç–æ–±—ã –∏–∑–≤–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏—Ö –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ñ–ª–∞–≥–æ–≤ –≤ `true`. Enum –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- ‚ùóÔ∏è–∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—á–∫–æ–≤ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –º–∞—Ç—á–µ, –∞ —Ç–∞–∫–∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã ‚Äî —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –Ω–∞—Ä—É—à–∞–µ—Ç SRP (Single Responsibility Principle). –õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –≤ —ç—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—ã–ª–æ –±—ã, —á—Ç–æ–±—ã –∑–∞ —Å—á—ë—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –æ—Ç–≤–µ—á–∞–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª –±—ã –û–û–ü-—Å—Ç–∏–ª—é –∏ –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞.

## model.response
### MatchPlayerResponse
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –ø–æ–ª–µ–π: –∑–¥–µ—Å—å `String firstPlayer` –∏ `String secondPlayer`, –∞ –≤ WinnerResponse ‚Äî `String firstPlayerName` –∏ `String secondPlayerName`. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Å—Ç–∏–ª—å –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `Name` –≤ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –∏–Ω—Ñ–∏–∫—Å `Player` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞
- —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ —É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å ‚Äî —Å–µ–π—á–∞—Å –æ–Ω —Å–ª—É–∂–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–æ—Å—Ç–∞—Ç—å –∏–∑ –ë–î –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–∞—Ç—á–µ ‚Äî —ç—Ç—É —Ä–æ–ª—å –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–ª–∞—Å—Å Match, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è JPA Entity –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î.

### MatchResponse
- –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Setter` –∏ `@NoArgsConstructor` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å ‚Äî –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ DTO, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç –∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `Dto` –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å record ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –µ–≥–æ –ø–æ–ª–µ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è.
- –æ—Ç —á–∏—Å—Ç–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ DTO –∫–ª–∞—Å—Å –æ—Ç–¥–µ–ª—è–µ—Ç —Ç–æ, —á—Ç–æ –æ–Ω —á–∞—Å—Ç–∏—á–Ω–æ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ

### WinnerResponse

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª MatchScoreServlet](#matchscoreservlet)

- –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ DTO, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç –∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `Dto` –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –Ω–µ–±–æ–ª—å—à–æ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–æ–¥–∞ `checkWin()` –≤ MatchService

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
private WinnerResponse checkWin(MatchResponse match) {
    WinnerResponse winner = null;
    ScoreResponse score = match.getScore();
    int firstPlayerSets = score.getFirstPlayerSets();
    int secondPlayerSets = score.getSecondPlayerSets();
    if (Math.max(firstPlayerSets, secondPlayerSets) > 1) {
        winner = new WinnerResponse();
        winner.setFirstPlayerName(match.getFirstPlayer());
        winner.setSecondPlayerName(match.getSecondPlayer());
        if (firstPlayerSets > secondPlayerSets) { // –ø–µ—Ä–≤—ã–π –≤—ã–∏–≥—Ä–∞–ª
            winner.setWinnerName(match.getFirstPlayer());
            winner.setScore(firstPlayerSets + " - " + secondPlayerSets);
        } else { //–≤—Ç–æ—Ä–æ–π –≤—ã–∏–≥—Ä–∞–ª
            winner.setWinnerName(match.getSecondPlayer());
            winner.setScore(secondPlayerSets + " - " + firstPlayerSets);
        }
    }
    return winner;
}
```
 
—Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:
```java
private WinnerResponse checkWin(MatchResponse match) {
    WinnerResponse winner = null;
    ScoreResponse score = match.getScore();
    int firstPlayerSets = score.getFirstPlayerSets();
    int secondPlayerSets = score.getSecondPlayerSets();
    if (Math.max(firstPlayerSets, secondPlayerSets) > 1) {
        String winnerName;
        String scoreValue;
        if (firstPlayerSets > secondPlayerSets) {
            winnerName = match.getFirstPlayer();
            scoreValue = firstPlayerSets + " - " + secondPlayerSets;
        } else {
            winnerName = match.getSecondPlayer();
            scoreValue = secondPlayerSets + " - " + firstPlayerSets;
        }
        winner = new WinnerResponse(match.getFirstPlayer(), match.getSecondPlayer(), scoreValue, winnerName);
    }
    return winner;
}
```
—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —Å–µ—Ç—Ç–µ—Ä–∞—Ö –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –∏—Å—á–µ–∑–Ω–µ—Ç –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Setter` –∏ `@NoArgsConstructor` –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å
- —Ç–∞–∫–∂–µ –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å record ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –µ–≥–æ –ø–æ–ª–µ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∏–≥–¥–µ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è (–∫—Ä–æ–º–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—ã—à–µ –º–µ—Ç–æ–¥–∞)
- –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –∫–ª–∞—Å—Å Score, —Ç–æ —á–∏—Å—Ç–æ–µ –∏–º—è `score` –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∞ –∑–¥–µ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å `String score` –Ω–∞ `String scoreValue`
- —ç—Ç–æ—Ç –∫–ª–∞—Å—Å "–±–æ—Ä–µ—Ç—Å—è" –∑–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å MatchResponse ‚Äî –æ–±–∞ –ø–µ—Ä–µ–¥–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç–µ–∫—É—â–µ–º –º–∞—Ç—á–µ –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (JSP). –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –º–∞—Ç—á –∑–∞–≤–µ—Ä—à—ë–Ω –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–º—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è, –∞ –¥–æ —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å null –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –ø–æ–ª–µ

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–æ–π üí°</b></summary>

```java
public record OngoingMatchDto(
        UUID id,
        String firstPlayerName,
        String secondPlayerName,
        ScoreDto score,
        boolean finished,
        String winnerName
) {
}
```

---

</details>

### ScoreResponse
- –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Setter` –∏ `@NoArgsConstructor` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å ‚Äî –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –º–∞–ø–ø–µ—Ä–µ, –∞ –æ–Ω —Å–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —á–µ—Ä–µ–∑ AllArgsConstructor
- –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ DTO, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç –∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `Dto` –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å record ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –µ–≥–æ –ø–æ–ª–µ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è.
- —á—Ç–æ–±—ã –∫–ª–∞—Å—Å –º–æ–≥ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ª—é–±—ã–µ —Ñ–æ—Ä–º—ã –æ—á–∫–æ–≤ (–∏ —á–∏—Å–ª–µ–Ω–Ω—ã–µ –∏ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ ‚Äî `AD`, `DEUCE`), –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª—è `int firstPlayerPoints` –∏ `int secondPlayerPoints` —Å—Ç—Ä–æ–∫–æ–≤—ã–º–∏ (String)

### PlayerDtoResponse
- —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ ‚Äî –µ–≥–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å

### Page
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –¥–∂–µ–Ω–µ—Ä–∏–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ DTO –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–∞—Ç—á–µ–π. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `MatchesPageDto`.
- –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Setter` –∏ `@NoArgsConstructor` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å ‚Äî –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–ª—å–∫–æ –Ω–µ –¥–æ JSP (—á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –±—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ DTO), –∞ –¥–æ —Å–µ—Ä–≤–ª–µ—Ç–∞. –ó–∞—Ç–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏. –°—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º DTO, –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç –∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `Dto` –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å record ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –µ–≥–æ –ø–æ–ª–µ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è.

## Hibernate
### CrudRepository
- —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–ª–∞—Å—Å –≤ –ø–∞–∫–µ—Ç `repository` –∫ –æ—Å—Ç–∞–ª—å–Ω—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º
- –º–µ—Ç–æ–¥—É `tx()` —Å—Ç–æ–∏—Ç –¥–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `executeInTransaction()`
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `tx()` –µ—Å—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –æ–±—ä–µ–∫—Ç—É —Å–µ—Å—Å–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∫ —ç—Ç–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ —É–∂–µ –∑–∞–∫—Ä—ã—Ç–∞ ‚Äî —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:
```java
private <T> T tx(Function<Session, T> command) {
    Session session = HibernateConfig.getSessionFactory().openSession();
    try (session) {
        // ...
    } catch (Exception e) {
        // ...
        Transaction tx = session.getTransaction(); // –∑–¥–µ—Å—å —Å–µ—Å—Å–∏—è —É–∂–µ –∑–∞–∫—Ä—ã—Ç–∞
        // ...
    }
}
```

[**–ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö try –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫**](#close-resources-in-try)

- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ `tx()` –æ—Ç–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–æ PlayerAlreadyExistsException –∏–ª–∏ NoSuchElementException. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –ø—Ä–∏ –ª—é–±–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—é —Ä–∞–±–æ—Ç—ã –º–µ—Ç–æ–¥–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–∫–∞—Ç–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞. –ò–Ω–∞—á–µ –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —É—Ç–µ—á–∫–∞–º —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.
- –≤ –º–µ—Ç–æ–¥–µ `tx()` –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –¥–≤—É—Ö if –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ, –ø–æ—ç—Ç–æ–º—É –∏—Ö —É—Å–ª–æ–≤–∏—è –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å:
–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
if (e instanceof PlayerAlreadyExistsException) {
    throw e;
}
if (e instanceof NoSuchElementException) {
    throw e;
}
```
–õ—É—á—à–µ —Ç–∞–∫:
```java
if (e instanceof PlayerAlreadyExistsException || e instanceof NoSuchElementException) {
    throw e;
}
```
- –≤ –º–µ—Ç–æ–¥–µ `tx()` –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ PlayerAlreadyExistsException –∏ NoSuchElementException —Ç–æ–∂–µ –ª—É—á—à–µ –æ–±–µ—Ä–Ω—É—Ç—å –≤ –∫–∞–∫–æ–µ-—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –æ–±—â–µ–µ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, DataAccessException.
- –≤ –º–µ—Ç–æ–¥–µ `tx()` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º `tx` –∏ `rsl` —Å—Ç–æ–∏—Ç –¥–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞: –Ω–∞–ø—Ä–∏–º–µ—Ä, `transaction` –∏ `result`
- `e.printStackTrace()` –≤—ã–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ç–æ–∫ –æ—à–∏–±–æ–∫ (System.err), –∫–æ—Ç–æ—Ä—ã–π –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—à–∞–Ω, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç —á—Ç–µ–Ω–∏–µ. –¢–∞–∫–∂–µ —Ç–∞–∫–æ–π –≤—ã–≤–æ–¥ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –µ–≥–æ —Å–ª–æ–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–≥–µ—Ä (—É–∂–µ –µ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –ø—Ä–æ–µ–∫—Ç–∞), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞.

<details>

---

<summary><b>üí° –ü–æ—Å–ª–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–µ—Ç–æ–¥ `tx()` –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫ üí°</b></summary>

```java
private <T> T executeInTransaction(Function<Session, T> command) {
    Transaction transaction = null;
    try (Session session = HibernateConfig.getSessionFactory().openSession()) {
        transaction = session.beginTransaction();
        T result = command.apply(session);
        transaction.commit();
        return result;
    } catch (Exception e) {
        if (transaction != null && transaction.isActive()) {
            transaction.rollback();
        }
        if (e instanceof PlayerAlreadyExistsException || e instanceof NoSuchElementException) {
            throw e;
        }
        throw new DataAccessException("Database operation failed", e);
    }
}
```

---

</details>

- –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –µ–¥–∏–Ω–æ–π —Å–µ—Å—Å–∏–∏ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é ‚Äî –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `tx()` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω "ThreadLocal Session" –∏–ª–∏ "Session per Request" ‚Äî —á—Ç–æ–±—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP-–∑–∞–ø—Ä–æ—Å–∞) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å–µ—Å—Å–∏—è Hibernate.
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: –≤ –º–µ—Ç–æ–¥–µ `optional()` —Ä–µ–∑—É–ª—å—Ç–∞—Ç `var sq = session.createQuery(query, cl)` –∫–ª–∞–¥—ë—Ç—Å—è –≤ var, –∞ –≤ –º–µ—Ç–æ–¥–µ `<T> List<T> query(String query, Class<T> cl, Map<String, Object> args)` —Ä–µ–∑—É–ª—å—Ç–∞—Ç `Query<T> sq = session .createQuery(query, cl)` –≤ `Query<T>`. –õ—É—á—à–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∏ –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Query<T>`.
- –≤ –º–µ—Ç–æ–¥–µ `<T> List<T> query(String query, Class<T> cl)` –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ OutOfMemoryError:
```java
Function<Session, List<T>> command = session -> session
        .createQuery(query, cl)
        .list();
```
–õ—É—á—à–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

- —Å–µ–π—á–∞—Å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ Map, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –∫–æ–¥—É –∏—Ö –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ OutOfMemoryError. –õ—É—á—à–µ —è–≤–Ω–æ –æ–∂–∏–¥–∞—Ç—å —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –º–µ—Ç–æ–¥–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –≤—ã–±–æ—Ä–∫—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

- —Å–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ `tx()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `openSession()`:

  `Session session = HibernateConfig.getSessionFactory().openSession();` ‚Äî –ø—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç Session.

  –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getCurrentSession()` ‚Äî —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Å—Å–∏—é —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –¢–∞–∫ –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ (HTTP-–∑–∞–ø—Ä–æ—Å–µ) –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å–µ—Å—Å–∏—è. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ —Ç–æ–∂–µ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–¥–∞–∂–µ –±–µ–∑ try-with-resources).
  
  –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ `getCurrentSession()` –Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `hibernate.properties` —Å–≤–æ–π—Å—Ç–≤–æ `hibernate.current_session_context_class`.

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫ (–¥–ª—è —Ä–µ–∂–∏–º–∞ –æ–¥–Ω–∞-—Å–µ—Å—Å–∏—è-–Ω–∞-–ø–æ—Ç–æ–∫) üí°</b></summary>

```properties
hibernate.current_session_context_class=thread
```

---

</details>

- –º–µ—Ç–æ–¥—É `void run(Consumer<Session> command)` –º–æ–∂–Ω–æ –¥–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `void executeInTransaction(Consumer<Session> command)`, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ –∂–µ, —á—Ç–æ –∏ –º–µ—Ç–æ–¥ `tx()`, —Ç–æ–ª—å–∫–æ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è
- –≤ –º–µ—Ç–æ–¥–µ `<T> Optional<T> optional(String query, Class<T> cl, Map<String, Object> args)` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `return sq.uniqueResultOptional();` –≤–º–µ—Å—Ç–æ `return sq.stream().findFirst();`
- –≤ –º–µ—Ç–æ–¥–∞—Ö `<T> Optional<T> optional(String query, Class<T> cl, Map<String, Object> args)` –∏ `<T> List<T> query(String query, Class<T> cl, Map<String, Object> args)` –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —á–∞—Å—Ç–∏ –∫–æ–¥–∞ ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —ç—Ç–æ–≥–æ

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

–°–µ–π—á–∞—Å —Ç–∞–∫
```java
public <T> Optional<T> optional(String query, Class<T> cl, Map<String, Object> args) {
    Function<Session, Optional<T>> command = session -> {
        var sq = session
                .createQuery(query, cl);
        for (Map.Entry<String, Object> arg : args.entrySet()) {
            sq.setParameter(arg.getKey(), arg.getValue());
        }
        return sq.stream().findFirst();
    };
    return tx(command);
}

public <T> List<T> query(String query, Class<T> cl, Map<String, Object> args) {
    Function<Session, List<T>> command = session -> {
        Query<T> sq = session
                .createQuery(query, cl);
        for (Map.Entry<String, Object> arg : args.entrySet()) {
            String parameter = arg.getKey();
            switch (parameter) {
                case "firstResult" -> sq.setFirstResult((Integer) arg.getValue());
                case "maxResult" -> sq.setMaxResults((Integer) arg.getValue());
                default -> sq.setParameter(arg.getKey(), arg.getValue());
            }
        }
        return sq.list();
    };
    return tx(command);
}
```

–ú–æ–∂–Ω–æ —Ç–∞–∫:
```java
public <T> Optional<T> querySingleResult(String jpql, Class<T> resultType, Map<String, Object> args) {
    Function<Session, Optional<T>> command =
            session -> createQuery(jpql, resultType, args, session)
                    .uniqueResultOptional();
    return executeInTransaction(command);
}

public <T> List<T> queryResultList(String jpql, Class<T> resultType, Map<String, Object> args) {
    Function<Session, List<T>> command = session ->
            createQuery(jpql, resultType, args, session)
                    .list();
    return executeInTransaction(command);
}

private <T> Query<T> createQuery(String jpql, Class<T> resultType, Map<String, Object> args, Session session) {
    Query<T> query = session.createQuery(jpql, resultType);
    return withParameters(query, args);
}

private <T> Query<T> withParameters(Query<T> query, Map<String, Object> args) {
    args.forEach((key, value) -> {
        switch (key) {
            case "firstResult" -> query.setFirstResult((Integer) value);
            case "maxResult" -> query.setMaxResults((Integer) value);
            default -> query.setParameter(key, value);
        }
    });
    return query;
}
```

–ü–æ—Ö–æ–∂–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –º–µ—Ç–æ–¥ `void run(String query, Map<String, Object> args)`

---

</details>

## Repository
- JPQL –∑–∞–ø—Ä–æ—Å—ã –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –¥–∞—Ç—å –∏–º –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞, —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–µ—Ç–æ–¥–æ–≤ –µ—â—ë –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º
- —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ —É–¥–æ–±–Ω–µ–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏:

```sqlite-sql
SELECT p 
FROM Player p 
WHERE p.name = :name
```
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ —Å—Ç–∏–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö JPQL –∑–∞–ø—Ä–æ—Å–∞—Ö: –∫—Ä–æ–º–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ (UPPERCASE) –µ—Å—Ç—å –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (lowercase) –∏ PascalCase (–∏–ª–∏ UpperCamelCase) ‚Äî –ª—É—á—à–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä –≤–µ–∑–¥–µ –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π (uppercase). –≠—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã, —Ç–∞–∫ –∫–∞–∫ JPQL –Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É, –Ω–æ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤.

> –í Idea –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤—Å–µ–≥–æ —Å–ª–æ–≤–∞ (–Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫—É—Ä—Å–æ—Ä) –∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ –µ—Å—Ç—å —Å–æ—á–µ—Ç–∞–Ω–∏–µ –∫–ª–∞–≤–∏—à: `cmd + shift + u` (–Ω–∞ mac os).

- –ø–∞—Ä–∞–º–µ—Ç—Ä `maxResult` –æ–±—ã—á–Ω–æ –Ω–∞–∑—ã–≤–∞—é—Ç —Å `s` –Ω–∞ –∫–æ–Ω—Ü–µ (`maxResults`) –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –º–µ—Ç–æ–¥–æ–º, –≤ –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è ‚Äî `Query.setMaxResults()`
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö HQL. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤ HQL –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ —Å—Ç—Ä–æ–≥–∏–π (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ SQL, –≥–¥–µ SELECT –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ –ø–µ—Ä–µ–¥ FROM), –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (–∫–∞–∫ –≤ SQL). –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –±—É–¥–µ—Ç –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º, –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É SQL –∏ –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.
- –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å Lombok, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ PlayerRepository –∏ MatchRepository –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@RequiredArgsConstructor`
- –≤—ã–∑—ã–≤–∞—Ç—å `session.flush();` —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ `session.persist(entity);` –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ Transaction.commit(), –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–∞–ø—Ä—è–º—É—é.
- –∏–∑ –º–µ—Ç–æ–¥–∞ –ø–æ–∏—Å–∫–∞ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ PlayerRepository –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å, –∞ –≤ MatchRepository ‚Äî Optional<Entity>. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤–µ–∑–¥–µ —á–µ—Ä–µ–∑ Optional.

### PlayerRepository
- –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä—è—Ç—å, —Ç–æ –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
- –º–µ—Ç–æ–¥ `add()` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `save()` ‚Äî –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –≥–ª–∞–≥–æ–ª
- —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –ª—É—á—à–µ –ø–∏—Å–∞—Ç—å –∏—Ö –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ. –≠—Ç–æ –¥–µ-—Ñ–∞–∫—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º, –∞ —Ç–∞–∫–∂–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤ –ª—é–±–æ–π —Å–∏—Å—Ç–µ–º–µ –≤ –ª–æ–≥–∞—Ö –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã. 
- –≤ –º–µ—Ç–æ–¥–µ `Player add(Player player)` –ª–æ–≤—è—Ç—Å—è —Ç–æ–ª—å–∫–æ ConstraintViolationException, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –≤—ã—à–µ. –†–∞–∑ –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —Ç–æ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫ –∂–µ –æ–±–æ—Ä–∞—á–∏–≤–∞—è –≤ –∫–∞–∫–æ–µ-—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ)
- –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ `add()` –æ—à–∏–±–∫–∞ ‚Äî –≤—Å–µ–≥–¥–∞ –≥–æ–≤–æ—Ä–∏—Ç—Å—è –æ–± –∏–≥—Ä–æ–∫–µ 2: `throw new PlayerAlreadyExistsException("–ò–≥—Ä–æ–∫ 2 —Å –∏–º–µ–Ω–µ–º '" + player.getName() + "' —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç");`
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `Player findById(int id)` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è NoSuchFieldException ‚Äî —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ (–ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø–æ–ª—è–º–∏ –∫–ª–∞—Å—Å–æ–≤). –î–ª—è "–Ω–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏" –µ—Å—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ jakarta.persistence.EntityNotFoundException, –∞ –µ—â—ë –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ.
- `id` –∏ `name` –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –≤ H2, –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –¥–∞—Ç—å –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è:

  –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `:fId` –≤ –º–µ—Ç–æ–¥–µ `Player findById(int id)` –∏ `void delete(int id)` -> `:id`

  –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `:fName` –≤ –º–µ—Ç–æ–¥–µ `Player findByName(String name)` -> `:name`

- –µ—Å–ª–∏ –º–µ—Ç–æ–¥ `void delete(int id)` –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ, —Å—Ç–æ–∏—Ç –ø—Ä–æ–¥—É–º–∞—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç —Å –º–∞—Ç—á–∞–º–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –≤ –Ω–∏—Ö —É—á–∞—Å—Ç–≤–æ–≤–∞–ª
- –≤ –º–µ—Ç–æ–¥–µ `Long getTotal()` –ª—É—á—à–µ –≤–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç—å –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
public Long getTotal() {
    List<Long> query = crudRepository.query(
            "FROM Player p SELECT COUNT(p)", Long.class);
    return query.get(0);
}
```
–õ—É—á—à–µ —Ç–∞–∫ (–∑–∞–æ–¥–Ω–æ –ø–æ–ø—Ä–∞–≤–∏–º –∑–∞–ø—Ä–æ—Å –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ–¥—Ö–æ–¥—è—â–∏–º –æ–±—Ä–∞–∑–æ–º):
```java
public Long getTotal() {
    Optional<Long> count = crudRepository.querySingleResult(
            "SELECT COUNT(p) FROM Player p",
            Long.class,
            Collections.emptyMap()
    );
    return count.orElse(0L);
}
```

### MatchRepository
- –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –∏–º–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –º–µ—Ç–æ–¥–µ `Match save(Match math)`: `Match math` -> `Match match`
- –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –∏–º–µ–Ω–∏ –º–µ—Ç–æ–¥–∞ `Optional<MatchPlayerResponse> findPlayersNamesByMatshId(UUID id)`: `findPlayersNamesByMatshId()` -> `findPlayersNamesByMatchId`
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `findPlayersNamesByMatshId()` –∑–∞–ø—Ä–æ—Å
```java
String jpql = """
        SELECT NEW ru.esipov.model.response.MatchPlayerResponse(m.id, m.firstPlayer.name, m.secondPlayer.name)
        FROM Match m WHERE m.id = :fId
        """;
```
–Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–ª–∞—Å—Å —Å–µ–π—á–∞—Å –ª–µ–∂–∏—Ç –∑–¥–µ—Å—å: `ru.tennis.model.response.MatchPlayerResponse.java`, –∞ –Ω–µ –≤ `ru.esipov.model.response`
- –ª—É—á—à–µ –¥–∞—Ç—å –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–µ/–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

  `:fId` ‚Äî> `:id`, 

  `:p1s` ‚Äî> `:firstPlayerScore`,

  `:p2s` ‚Äî> `:secondPlayerScore`,

  `:p3s` ‚Äî> `:displayScore`,

  `:fPlayer` ‚Äî> `:player`


- –≤ –º–µ—Ç–æ–¥–∞—Ö `Long getCountByPlayer(Player player)` –∏ `Long getTotalCount()` –ª—É—á—à–µ –≤–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç—å –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
  –°–µ–π—á–∞—Å —Ç–∞–∫:
```java
public Long getTotalCount() {
    List<Long> query = crudRepository.query(
            COUNT_JPQL, Long.class); // .–∞ –∑–¥–µ—Å—å –≤ uppercase
    return query.get(0);
}

public Long getCountByPlayer(Player player) {
    List<Long> query = crudRepository.query(
            " SELECT COUNT(m.id) FROM Match m WHERE m.firstPlayer = :fPlayer OR m.secondPlayer = :fPlayer",
            Long.class,
            Map.of("fPlayer", player)
    );
    return query.get(0);
}
```
–õ—É—á—à–µ —Ç–∞–∫:
```java
private static final String COUNT_JPQL = """
        SELECT COUNT(m.id)
        FROM Match m
        """;
private static final String WITH_PLAYER_JPQL = """
        WHERE m.firstPlayer = :player OR m.secondPlayer = :player
        """;
private static final String COUNT_WITH_PLAYER_JPQL = COUNT_JPQL + WITH_PLAYER_JPQL;

public Long count() {
    return crudRepository.querySingleResult(
                    COUNT_JPQL,
                    Long.class,
                    Collections.emptyMap())
            .orElse(0L);
}

public Long countWithPlayer(Player player) {
    return crudRepository.querySingleResult(
            COUNT_WITH_PLAYER_JPQL,
            Long.class,
            Map.of("player", player)
    ).orElse(0L);
}
```
- ‚ùóÔ∏è–í –º–µ—Ç–æ–¥–µ `findAllPage()` –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ Match, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑–∞–Ω—ã —Å Player –æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º –º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–¥–Ω–æ–≥–æ –º–∞—Ç—á–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –µ—â—ë –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º –∏–≥—Ä–æ–∫–æ–≤ (–ø—Ä–æ–±–ª–µ–º–∞ N+1). –°–ª–µ–¥—É–µ—Ç —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏.

<details>

---

<summary><b>üí° –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ üí°</b></summary>

–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å—ã —Å –ø–æ–º–æ—â—å—é JOIN FETCH
```java
String FIND_BY_NAME_JPQL = """
        SELECT m FROM Match m
        LEFT JOIN FETCH m.playerOne
        LEFT JOIN FETCH m.playerTwo
        LEFT JOIN FETCH m.winner
        WHERE m.playerOne.name LIKE :playerName OR m.playerTwo.name LIKE :playerName
        """;
```

---

</details>

- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–∞—Ö `findAllPage()` –∏ `findPageByPlayer()` –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã firstResult –∏ maxResult, –Ω–æ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º. –°—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å ORDER BY (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ id).

## Service
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–∞—Ç—á–∞ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î ‚Äî —ç—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó, –Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç –µ–≥–æ, –ø–æ—ç—Ç–æ–º—É –¥–æ–ø—É—Å—Ç–∏–º–æ. –û–¥–Ω–∞–∫–æ —Å–µ–π—á–∞—Å –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç 4 –∑–∞–ø—Ä–æ—Å–∞ –≤ –ë–î: 
  
  - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞

  - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞

  - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–∞

  - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Ç—á–∞

—ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∏–∑–±—ã—Ç–æ—á–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î. –°—Ç–æ–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—á–∞ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –º–∞—Ç—á–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∏–≥—Ä–æ–∫–∏, –µ—Å–ª–∏ –∏—Ö –µ—â—ë –Ω–µ—Ç –≤ –ë–î.
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –µ—Å—Ç—å –≤ –ë–î –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á—ë—Ç—á–∏–∫–∞ id. –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å –º–∞—Ç—á —Å –∏–≥—Ä–æ–∫–∞–º–∏ `a` –∏ `b`, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å –º–∞—Ç—á —Å –∏–≥—Ä–æ–∫–∞–º–∏ `a` –∏ `c`, 

  —Ç–æ id –∏–≥—Ä–æ–∫–æ–≤ –±—É–¥—É—Ç —Ç–∞–∫–∏–º–∏

  ![](images/Alex46volokno-esipovAlex/Screenshot_08.png) 

  —Å—Ç–æ–∏—Ç –Ω–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∏—Ö —Ç–∞–∫–∏–º–∏
  
  ![](images/Alex46volokno-esipovAlex/Screenshot_09.png)

- ‚ùóÔ∏è—Å—Ç–æ–∏—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ —Å–ª–æ–µ —Å–µ—Ä–≤–∏—Å–æ–≤, —á—Ç–æ–±—ã –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ race condition
- –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å Lombok, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@RequiredArgsConstructor`

### PlayerService
- –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ Hibernate –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—É—â—É—é —Å—É—â–Ω–æ—Å—Ç—å –ø—Ä–∏ `session.persist()`, –ª—É—á—à–µ —è–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –º–µ—Ç–æ–¥–∞ `createPlayerOrGet()` –æ–±—ä–µ–∫—Ç —Å—É—â–Ω–æ—Å—Ç–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
–í–º–µ—Å—Ç–æ 
```java
Player player = mapper.playerFromRequest(playerDto);
//...
playerRepository.add(player);
//...
return player;
```
–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–∞–∫:
```java
Player player = mapper.playerFromRequest(playerDto);
//...
Player savedPlayer = playerRepository.add(player);
//...
return savedPlayer;
```
–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ
```java
Player player = mapper.playerFromRequest(playerDto);
//...
return playerRepository.add(player);
```
- –≤ –º–µ—Ç–æ–¥–µ `createPlayerOrGet()` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–≥–µ—Ä –≤–º–µ—Å—Ç–æ `e.printStackTrace()`
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `add()` –∏–∑ PlayerRepository –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è PlayerAlreadyExistsException —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ ConstraintViolationException. –î—Ä—É–≥–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –≤ `createPlayerOrGet()` –≤ PlayerService. –ù–æ –∑–¥–µ—Å—å –æ–Ω–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏, –≤ —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Ç–∞–∫–æ–π –æ—à–∏–±–∫–∏, –∏–∑ –º–µ—Ç–æ–¥–∞ –≤–µ—Ä–Ω—ë—Ç—Å—è –∏–≥—Ä–æ–∫ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ id, —á—Ç–æ –≤—ã–∑–æ–≤–µ—Ç —É–∂–µ TransientPropertyValueException –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –º–∞—Ç—á–∞. –°—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–º –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫–∏–µ —Å–ª—É—á–∞–∏ —è–≤–Ω–æ. 
- –º–µ—Ç–æ–¥ `findIdByName()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ MatchService. –ú–æ–∂–Ω–æ –µ–≥–æ —É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å –∏ –Ω–∞ –º–µ—Å—Ç–µ –µ–≥–æ –≤—ã–∑–æ–≤–∞ –ø–æ–ª—É—á–∞—Ç—å –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞ —Ü–µ–ª–∏–∫–æ–º –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ id.
- –º–µ—Ç–æ–¥ `createOrGet()` –º–æ–∂–Ω–æ —É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å ‚Äî —Å–µ–π—á–∞—Å –æ—Ç –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥—É `createPlayerOrGet()`

### MatchService
- —Å–æ–∑–¥–∞–Ω–∏–µ PlayerDtoRequest –∏ Match –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –º–∞–ø–ø–µ—Ä—ã –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –æ–±—ä–µ–∫—Ç–æ–≤
- –∫–∞–∫ –∏ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö, –∑–¥–µ—Å—å —Ç–æ–∂–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –ª—É—á—à–µ –ø–∏—Å–∞—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ, –∞ –≤ –ø–æ–Ω—è—Ç–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–≤–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–º, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å) –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞
- –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤ –ª—É—á—à–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Hibernate validator
- –º–µ—Ç–æ–¥ `MatchPlayerResponse findById(UUID id)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ Optional –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –µ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ. –¢–∞–∫–∂–µ —Ç–∞–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ—Ç –∏ –≤–æ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –∏–∑ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞.
- –º–µ—Ç–æ–¥ `checkWin()` –±—É–¥–µ—Ç —á–∏—Ç–∞—Ç—å—Å—è –ª—É—á—à–µ, –µ—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ–≥–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ (—Å–æ—Ö—Ä–∞–Ω—è—è —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É) üí°</b></summary>

```java
private WinnerResponse checkWin(MatchResponse match) {
    WinnerResponse winner = null;
    ScoreResponse score = match.getScore();
    int firstPlayerSets = score.getFirstPlayerSets();
    int secondPlayerSets = score.getSecondPlayerSets();

    if (hasFavorite(firstPlayerSets, secondPlayerSets)) {
        String winnerName = getWinnerName(firstPlayerSets, secondPlayerSets, match);
        String scoreValue = getScoreValue(firstPlayerSets, secondPlayerSets);
        winner = new WinnerResponse(match.getFirstPlayer(), match.getSecondPlayer(), scoreValue, winnerName);
    }
    return winner;
}

private boolean hasFavorite(int firstPlayerSets, int secondPlayerSets) {
    return Math.max(firstPlayerSets, secondPlayerSets) > 1;
}

private String getWinnerName(int firstPlayerSets, int secondPlayerSets, MatchResponse match) {
    if (firstPlayerSets > secondPlayerSets) {
        return match.getFirstPlayer();
    }
    return match.getSecondPlayer();
}

private String getScoreValue(int firstPlayerSets, int secondPlayerSets) {
    if (firstPlayerSets > secondPlayerSets) {
        return firstPlayerSets + " - " + secondPlayerSets;
    }
    return secondPlayerSets + " - " + firstPlayerSets;
}
```

---

</details>

- ‚ùóÔ∏è–º–µ—Ç–æ–¥—ã `checkWin()` –∏ `winProcess()` –º–æ–≥—É—Ç –≤–µ—Ä–Ω—É—Ç—å null. [**–ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ null**](#avoid-returning-null-reason)
- –Ω–∞–∑–≤–∞–Ω–∏–µ `checkWin()` –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –º–µ—Ç–æ–¥—É, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç boolean –∏–ª–∏ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –°–µ–π—á–∞—Å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –µ–º—É –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.
- –Ω–∞–∑–≤–∞–Ω–∏–µ `winProcess()` –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –º–µ—Ç–æ–¥—É, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç void. –°–µ–π—á–∞—Å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –µ–º—É –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å —Ä–∞—Å—á—ë—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫ `long pageCount = (total / size) + 1;`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –∫–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –≤—ã–±–æ—Ä–∫–µ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–∞–≤–Ω—ã–º —á–∏—Å–ª—É –º–∞—Ç—á–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è +1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –º–∞—Ç—á–µ–π.

`total = 10, size = 10` ‚Üí `(10/10) + 1 = 1 + 1 = 2`.

<details>

---

<summary><b>üí° –≠—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∞–∫ üí°</b></summary>

–û–¥–∏–Ω –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É `(total + size - 1) / size`

—Ç–æ–≥–¥–∞ –ø—Ä–∏ `total = 10, size = 10` ‚Üí `(10 + 10 - 1) / 10 = 19 / 10 = 1`.

–≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö total –∏ size.

---

</details>

- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–∞—Ö `getPageMatch()` –∏ `getPageMatchByPlayerName()` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è `firstResult + size` –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–º–µ—Ç–æ–¥ `Query.setMaxResults()` –∑–∞–¥–∞—ë—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Å—Ç—Ä–æ–∫ –≤ –≤—ã–±–æ—Ä–∫–µ, –∞ –Ω–µ –Ω–æ–º–µ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞). –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ä–æ—Å—Ç—É —á–∏—Å–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –º–∞—Ç—á–µ–π –Ω–∞ –∫–∞–∂–¥–æ–π —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏: –Ω–∞ –ø–µ—Ä–≤–æ–π ‚Äî 10, –Ω–∞ –≤—Ç–æ—Ä–æ–π ‚Äî 20, –Ω–∞ —Ç—Ä–µ—Ç—å–µ–π 30 –∏ —Ç–¥. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–º –±—É–¥–µ—Ç ‚Äî –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π ‚Äî `size`: `matchRepository.findAllPage(firstResult, size)`

- –º–µ—Ç–æ–¥—ã `getPageMatch()` –∏ `getPageMatchByPlayerName()` —Å–æ–¥–µ—Ä–∂–∞—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫ —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

–°–µ–π—á–∞—Å –º–µ—Ç–æ–¥—ã –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫
```java
private Page<Match> getPageMatch(PageParam pageParam) {
    int pageNumber = pageParam.pageNumber();
    int size = pageParam.size();
    int firstResult = (pageNumber - 1) * size;
    long total = matchRepository.getTotalCount();
    long pageCount = (total / size) + 1;
    List<Match> page = matchRepository.findAllPage(firstResult, firstResult + size);
    return new Page<>(page, pageNumber, pageCount);
}

private Page<Match> getPageMatchByPlayerName(PageParam pageParam, String playerName) { // .–µ—Å—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ —Å getPageMatch
    int pageNumber = pageParam.pageNumber();
    int size = pageParam.size();
    int firstResult = (pageNumber - 1) * size;
    Player player = playerService.findByName(playerName);
    long total = matchRepository.getCountByPlayer(player);
    long pageCount = (total / size) + 1;
    List<Match> page = matchRepository.findPageByPlayer(firstResult, firstResult + size, player);
    return new Page<>(page, pageNumber, pageCount);
}
```

–ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —á–∞—Å—Ç–∏ –≤ –æ–±—â–∏–π –º–µ—Ç–æ–¥
```java
private Page<Match> getPageMatch(PageParam param) {
    return getPageMatch(param,
            matchRepository::getTotalCount,
            matchRepository::findAllPage
    );
}

private Page<Match> getPageMatchByPlayerName(PageParam param, String nameFilter) {
    Player player = playerService.findByName(nameFilter);
    return getPageMatch(param,
            () -> matchRepository.getCountByPlayer(player),
            (firstResult, size) -> matchRepository.findPageByPlayer(firstResult, size, player)
    );
}

private Page<Match> getPageMatch(PageParam param,
                                 Supplier<Long> totalCountSupplier,
                                 BiFunction<Integer, Integer, List<Match>> matchesSupplier
) {
    int pageNumber = param.pageNumber();
    int size = param.size();
    int firstResult = (pageNumber - 1) * size;

    long total = totalCountSupplier.get();
    long pageCount = (total + size - 1) / size;

    List<Match> matches = matchesSupplier.apply(firstResult, size);
    return new Page<>(matches, pageNumber, pageCount);
}
```
–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é.

---

</details>

### ScoreService
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã–∏–≥—Ä–∞–Ω–Ω–æ–≥–æ –æ—á–∫–∞ `addPoint()` —Å–æ–∑–¥–∞—ë—Ç—Å—è 4 –æ–±—ä–µ–∫—Ç–∞ (–Ω–µ —Å—á–∏—Ç–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤): Score, ScoreResponse, MatchPlayerResponse, MatchResponse. –¢–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∂–¥–æ–≥–æ –æ—á–∫–∞ –∫–∞–∂–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º. –û–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π –≤–Ω—É—Ç—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –ª–æ–≥–∏–∫–∏ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å Single Responsibility Principle, SRP). –¢–æ–≥–¥–∞ –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –≤—ã–∑–≤–∞—Ç—å —É –Ω–µ–≥–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏—Ç —Ü–µ–ø–æ—á–∫—É –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ) –º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ Entity –∏ –æ–±–Ω–æ–≤–∏—Ç—å –≤ –ë–î.
- –∏–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–∞ `MatchResponse addPoint(UUID id, int pointFirstPlayer, int pointSecondPlayer)` (–∫–∞–∫ –∏ –∏–∑ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–æ–º—É –∏–º–µ–Ω–Ω–æ –∏–≥—Ä–æ–∫—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ—á–∫–æ

### service.process
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏ —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –ø–∞–∫–µ—Ç–∞ model. –•–æ—Ç—è –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Ö–æ—Ä–æ—à–æ –ø–æ–¥–æ—à–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω –¶–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (Chain of responsibility), —Ç–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–ª–∏–∂–µ –∫ –ø–∞—Ç—Ç–µ—Ä–Ω—É –°—Ç—Ä–∞—Ç–µ–≥–∏—è. –ï—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, —ç—Ç–æ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –û–û–ü —Å—Ç–∏–ª—é, –∞ —Ç–∞–∫–∂–µ —É–ø—Ä–æ—Å—Ç–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –í –∫–ª–∞—Å—Å–∞—Ö —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è "–º–∞–≥–∏—á–µ—Å–∫–∏–µ" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî —á–∏—Å–ª–∞, –ø–æ—è–≤–ª—è—é—â–µ–µ—Å—è –≤ –∫–æ–¥–µ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Å–≤–æ–µ–≥–æ —Å–º—ã—Å–ª–∞.

  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏–∑-–∑–∞ —Å–Ω–∏–∂–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ ‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–æ–≥–∞–¥—ã–≤–∞—Ç—å—Å—è, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —ç—Ç–æ —á–∏—Å–ª–æ, –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ‚Äî –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å, —Ç–æ –ø—Ä–∏–¥—ë—Ç—Å—è –∏—Å–∫–∞—Ç—å –≤—Å–µ –µ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –∫–æ–¥–µ –≤—Ä—É—á–Ω—É—é.

  –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏–ª–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (enum) –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π.

- ‚ùóÔ∏è–æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ –∫–ª–∞—Å—Å–∞—Ö —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—É—é –≤–µ—Ç–≤–∏—Å—Ç—É—é –ª–æ–≥–∏–∫—É –¥–æ 3-—Ö —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —á—Ç–µ–Ω–∏–µ, –æ—Ç–ª–∞–¥–∫—É –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –û–û–ü —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ.

### ScoreProcess
- –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å Lombok, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ –∫–ª–∞—Å—Å–µ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@RequiredArgsConstructor`
- –º–µ—Ç–æ–¥ `addPoint()` –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, –¥–æ–±–∞–≤–∏–≤ –≤ –ø–∞–∫–µ—Ç –∏–Ω—Ç–µ—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö –æ—á–∫–∏

<details>

---

<summary><b>üí° –ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫ üí°</b></summary>

–°–µ–π—á–∞—Å:
```java
public Score addPoint(Score old, int pointFirstPlayer, int pointSecondPlayer) {
    Score score;
    boolean onlyPoint = old.isDeuce();
    boolean tieBreak = old.isTieBreak();
    if (tieBreak) {
        score = tieBreakProcess.process(old, pointFirstPlayer, pointSecondPlayer);
        score = checkGameProcess.checkGame(score);
        return score;
    }
    if (onlyPoint) {
        score = regularProcess.process(old, pointFirstPlayer, pointSecondPlayer);
        score = checkGameProcess.checkGame(score);
        return score;
    } else {
        score = greatLessProcess.process(old, pointFirstPlayer, pointSecondPlayer);
        score = checkGameProcess.checkGame(score);
        return score;
    }
}
```
–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
```java
public interface ScoreProcessor {
    Score process(Score previous, int pointFirstPlayer, int pointSecondPlayer);
}

public class RegularProcess implements ScoreProcessor {
    @Override
    public Score process(Score previous, int pointFirstPlayer, int pointSecondPlayer) {
        // ...
    }
}

public class TieBreakProcess implements ScoreProcessor {
    @Override
    public Score process(Score previous, int pointFirstPlayer, int pointSecondPlayer) {
        // ...
    }
}

public class GreatLessProcess implements ScoreProcessor {
    @Override
    public Score process(Score previous, int pointFirstPlayer, int pointSecondPlayer) {
        // ...
    }
}

public class ScoreProcess {
    public Score addPoint(Score previous, int pointFirstPlayer, int pointSecondPlayer) {
        ScoreProcessor scoreProcessor = previous.isDeuce() ? regularProcess : greatLessProcess;

        scoreProcessor = previous.isTieBreak() ? tieBreakProcess : scoreProcessor;

        return scoreProcessor.process(previous, pointFirstPlayer, pointSecondPlayer);
    }
}
```

---

</details>

### RegularProcess
- –ø–∞—Ä–∞–º–µ—Ç—Ä `int pointSecondPlayer` –≤ –º–µ—Ç–æ–¥–µ `process()` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî —Å—Ç–æ–∏—Ç –µ–≥–æ —É–¥–∞–ª–∏—Ç—å
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `getPoint()` –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —ç—Ç–æ –ø—Ä—è–º–æ–µ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–≥–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∫–ª–∞—Å—Å–∞—Ö –º–æ–¥–µ–ª–µ–π. –ó–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —ç—Ç–æ–º.
- –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ —Å—Ç—Ä–æ–∫–µ `score.setDeuce(false); // –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –±–æ–ª—å—à–µ-–º–µ–Ω—å—à–µ` –≤ –º–µ—Ç–æ–¥–µ `process()` –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞, –∞ —Ç–∞–∫–∂–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ) `boolean deuce` –≤ –∫–ª–∞—Å—Å–µ Score.
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `Score fillField(Score old, Boolean deuce, Integer firstPoint, Integer secondPoint, Boolean needGame)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –æ–±—ä–µ–∫—Ç–∞ Score. –ü–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º null –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–æ–π (–∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞, –æ–∑–Ω–∞—á–∞—é—â–µ–≥–æ "–Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å") –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –∑–∞–ø—É—Ç—ã–≤–∞–µ—Ç –∫–æ–¥. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞ –∏ —è—Å–Ω–æ—Å—Ç–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–π ‚Äî —Å–Ω–∏–∂–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø–æ–≤—ã—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–æ–∏—Ç–µ–ª—å (Buider).

### GreatLessProcess
- –ø–∞—Ä–∞–º–µ—Ç—Ä `int pointSecondPlayer` –≤ –º–µ—Ç–æ–¥–µ `process()` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî —Å—Ç–æ–∏—Ç –µ–≥–æ —É–¥–∞–ª–∏—Ç—å
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `Score fillField(Score old, Boolean deuce, Integer firstPoint, Integer secondPoint, Boolean needGame)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –æ–±—ä–µ–∫—Ç–∞ Score. –ü–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º null –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–æ–π (–∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞, –æ–∑–Ω–∞—á–∞—é—â–µ–≥–æ "–Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å") –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –∑–∞–ø—É—Ç—ã–≤–∞–µ—Ç –∫–æ–¥. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞ –∏ —è—Å–Ω–æ—Å—Ç–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–π ‚Äî —Å–Ω–∏–∂–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø–æ–≤—ã—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–æ–∏—Ç–µ–ª—å (Buider).

## Exceptions
- –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∫–ª–∞—Å—Å–∞—Ö PlayerAlreadyExistsException –∏ PlayerNameNotFoundException –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Å—Ç–∞—Ö, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏ –≤ —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –Ω–µ–≥–æ –ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

## Servlet
- ‚ùóÔ∏è–ü–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è JSP —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –ø–∞–ø–∫—É `WEB-INF` (–æ–± —ç—Ç–æ–º –±—É–¥–µ—Ç —Å–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [**JSP**](#jsp)) –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –ø—É—Ç–∏ –∫ —ç—Ç–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –≤ –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç forward

### IndexServlet
- –∫–ª–∞—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è IndexServlet, –Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Ç—å `/home` ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Å–µ—Ä–≤–ª–µ—Ç –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—É—Ç—å `/index`

### NewMatchServlet
- –º–µ—Ç–æ–¥ `doPost()` –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç ServletException ‚Äî –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞
- —Å–µ–π—á–∞—Å –∏–∑ –º–µ—Ç–æ–¥–∞ `doPost()` –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ DTO, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (—á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤) –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å —É–∂–µ –ø—Ä–æ—à–µ–¥—à–∏–π –ø—Ä–æ–≤–µ—Ä–∫—É DTO.
- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è `first-player-name` –∏ `second-player-name`, —Ç–æ–≥–¥–∞ –∫–∞–∫ –≤ MatchScoreServlet —ç—Ç–æ `firstPlayerName` –∏ `secondPlayerName`. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Å—Ç–∏–ª—å –∏ –≤–µ–∑–¥–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ `firstPlayerName` –∏ `secondPlayerName`.

### MatchScoreServlet
- ‚ùóÔ∏è–∏–∑ –º–µ—Ç–æ–¥–∞ `doGet()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `scoreService.addPoint(uuid, 0, 0)`, —Ö–æ—Ç—è –ø—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–µ –Ω–µ –Ω—É–∂–Ω–æ –Ω–∏–∫–æ–º—É –¥–æ–±–∞–≤–ª—è—Ç—å –æ—á–∫–∏. –•–æ—Ç—å —Å–µ–π—á–∞—Å –æ—á–∫–∏ –∏ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è, —Å—Ç–æ–∏—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ DTO —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–µ–∫—É—â–µ–º –º–∞—Ç—á–µ.
- –≤ –º–µ—Ç–æ–¥–µ `doGet()` –º–æ–∂–Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç `uuid` ‚Äî –æ–Ω —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –æ–±—ä–µ–∫—Ç–µ MatchResponse, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ JSP
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–∞—Ö `doGet()` –∏ `doPost()` –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NullPointerException –∏ IllegalArgumentException –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `UUID.fromString(request.getParameter("uuid"))`
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `doPost()` –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NumberFormatException –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `Integer.parseInt(request.getParameter("point-winner-id"))`
- –≤ –º–µ—Ç–æ–¥–µ `doPost()` –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞, –≤—ã–∏–≥—Ä–∞–≤—à–µ–≥–æ –æ—á–∫–æ
```java
MatchResponse match = scoreService.addPoint(
        uuid,
        pointWinnerId == 1 ? 1 : 0,
        pointWinnerId == 2 ? 1 : 0
);
```
–ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π ‚Äî —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–ª–µ—Ç –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

- —Å–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ `doPost()` –æ–±—ä–µ–∫—Ç WinnerResponse –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ JSP –ø–æ —á–∞—Å—Ç—è–º
```java
request.setAttribute("firstPlayerName", winnerResponse.getFirstPlayerName());
request.setAttribute("secondPlayerName", winnerResponse.getSecondPlayerName());
request.setAttribute("score", winnerResponse.getScore());
request.setAttribute("winnerName", winnerResponse.getWinnerName());
```
–≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Ü–µ–ª–∏–∫–æ–º –∏ —É–∂–µ –≤ JSP –∏–∑–≤–ª–µ–∫–∞—Ç—å –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```java
request.setAttribute("ongoingMatch", winnerResponse);
```
- –≤ –º–µ—Ç–æ–¥–µ `doPost()` –º–æ–∂–Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç `uuid` ‚Äî –æ–Ω —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –æ–±—ä–µ–∫—Ç–µ MatchResponse, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ JSP
- —Å–µ–π—á–∞—Å –∏–∑ –º–µ—Ç–æ–¥–∞ `doPost()` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö DTO (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π) ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Ç–æ–º—É, –∫–∞–∫ –∏—Ö —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ [**WinnerResponse**](#winnerresponse)

### MatchesServlet
- ‚ùóÔ∏è–≤ –º–µ—Ç–æ–¥–µ `doPost()` —Å—Ç—Ä–æ–∫–∞-–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–∞ `String playerName = request.getParameter("filter-by-player-name")` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `URLEncoder.encode(playerName, StandardCharsets.UTF_8)` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å NullPointerException
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `doPost()` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–∞—Ç—á–µ–π —á–µ—Ä–µ–∑ GET –∑–∞–ø—Ä–æ—Å (–Ω–∞–¥–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `matches.jsp`) ‚Äî —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –∏–∑–±–∞–≤–∏—Ç—å –æ—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è –æ–∫–Ω–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏—Ç–æ–≥–∞–º–∏ –º–∞—Ç—á–µ–π (–æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä**](#functional-overview))
- –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `int pageNumber = (page == null || "0".equals(page)) ? DEFAULT_PAGE_NUMBER : Integer.parseInt(page);` –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —Å—Ç–æ–∏—Ç –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
- —Å–µ–π—á–∞—Å –≤ –º–µ—Ç–æ–¥–µ `doGet()` –æ–±—ä–µ–∫—Ç Page<Match> –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ JSP –ø–æ —á–∞—Å—Ç—è–º
```java
req.setAttribute("matches",     pageMatch.getResults());
req.setAttribute("currentPage", pageMatch.getPage());
req.setAttribute("totalPages",  pageMatch.getTotalPages());
```
–≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Ü–µ–ª–∏–∫–æ–º –∏ —É–∂–µ –≤ JSP –∏–∑–≤–ª–µ–∫–∞—Ç—å –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```java
req.setAttribute("matchesPage",  matchesPage);
```

## Mapper
- –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –¥–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–µ—Ä—ã –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### MapperMapstruct
- —Å–µ–π—á–∞—Å –æ–¥–∏–Ω –º–∞–ø–ø–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∏ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –∏–≥—Ä–æ–∫–æ–≤ (Player) –∏ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é —Å—á—ë—Ç–∞ (Score) ‚Äî –ª—É—á—à–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —ç—Ç–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–∞ –∏ –¥–∞—Ç—å –∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
- –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –º–µ—Ç–æ–¥–µ `playerFromRequest()`: `PlayerDtoRequest reguest` ‚Äî> `PlayerDtoRequest request`
- –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Mapping(target = "id", ignore = true)` –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Å –ø–æ–ª–µ–º `name` –≤ –∫–ª–∞—Å—Å–µ Player –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ (—ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Å–æ –≤—Å–µ–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –≤ –∫–ª–∞—Å—Å–µ Player)

<details>

---

<summary><b>üí° –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫ üí°</b></summary>

```java
@Override
public Player playerFromRequest(PlayerDtoRequest reguest) {
    if ( reguest == null ) {
        return null;
    }

    String name = null;

    name = reguest.name();

    Player player = new Player( name );

    return player;
}
```

–£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ, –ø–æ—Å–º–æ—Ç—Ä–µ–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –≤ `target/generated-sources/annotations/ru/tennis/mapper/MapperMapstructImpl.java` –ø–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (`mvn compile`)

---

</details>

## Filters
- —Ñ–∏–ª—å—Ç—Ä—ã ‚Äî —É–¥–∞—á–Ω–æ–µ –º–µ—Å—Ç–æ, —á—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏—Ö –≤ –ø–æ–Ω—è—Ç–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–≤–µ—Ç

### CharacterEncodingFilter
- —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–æ–º –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@WebFilter("/*")` ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç —á–∏—Ç–∞—Ç—å—Å—è –ª—É—á—à–µ, —á–µ–º —É–∫–∞–∑–∞–Ω–∏–µ —á–µ—Ä–µ–∑ xml

## Context
### AppContextListener
- –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –∏–º—è –∫–ª–∞—Å—Å–∞ (–∏–ª–∏ –ø–æ–ª–Ω–æ–µ, –µ—Å–ª–∏ –∫–ª–∞—Å—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö). –≠—Ç–æ –∏–∑–±–∞–≤–∏—Ç –æ—Ç –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ–ø–µ—á–∞—Ç–∫—É.
  –í–º–µ—Å—Ç–æ:
```java
context.setAttribute("matchService", matchService);
```
–±—É–¥–µ—Ç:
```java
context.setAttribute(MatchService.class.getSimpleName(), matchService);
```
–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:
```java
@Override
public void init() throws ServletException {
    super.init();
    ServletContext context = getServletContext();
    this.matchService = (MatchService) context.getAttribute(MatchService.class.getSimpleName());
}
```
–ê —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤.

- –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è SessionFactory –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥ `contextDestroyed()` –∏ –≤—ã–∑—ã–≤–∞—Ç—å –≤ –Ω—ë–º `HibernateConfig.shutdown()` (–Ω–æ –ª—É—á—à–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º listener-–µ)

## Hibernate
### HibernateConfig
- ‚ùóÔ∏è—Ä–∏—Å–∫ race condition –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ SessionFactory. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ SessionFactory —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–µ–Ω–∏–≤–æ (lazy) –∏ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –∑–Ω–∞—á–∏—Ç –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –º–æ–≥—É—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤–µ —Ñ–∞–±—Ä–∏–∫–∏. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å synchronized, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π holder-class.
- —Å–æ–∑–¥–∞–Ω–∏–µ SessionFactory –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ listener, —á—Ç–æ–±—ã –æ–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (eager), –∞ –Ω–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ë–î
- ‚ùóÔ∏è–í—ã–∑–æ–≤ `addAnnotatedClass()` —Å–æ–æ–±—â–∞–µ—Ç Hibernate –æ –∫–ª–∞—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é (—Ç.–µ. –ø–æ–º–µ—á–µ–Ω `@Entity`) –∏ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å —Ç–∞–±–ª–∏—Ü–µ–π –≤ –ë–î. –ö–ª–∞—Å—Å Score –Ω–µ —è–≤–ª—è–µ—Ç—Å—è JPA Entity, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞.
- –≤ –º–µ—Ç–æ–¥–µ `getSessionFactory()` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–≥–µ—Ä –≤–º–µ—Å—Ç–æ `e.printStackTrace()`
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –º–µ—Ç–æ–¥ `shutdown()` –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ‚Äî —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤—ã–∑–æ–≤ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å SessionFactory
- —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ë–î –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ WebListener ‚Äî —ç—Ç–æ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å SessionFactory –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## JSP

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª Servlet](#servlet)

- ‚ùóÔ∏èJSP —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø–∞–ø–∫–µ `WEB-INF`, —á—Ç–æ–±—ã –∫ –Ω–∏–º –Ω–µ –±—ã–ª–æ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞. –§–∞–π–ª—ã –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏ –Ω–µ–ª—å–∑—è –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é, —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–ª–µ—Ç—ã.
- ‚ùóÔ∏è–≤—Å–µ –ø–æ–ª—è –≤–≤–æ–¥–∞ –∏–º–µ—é—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å –∫ XSS. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Å—Ç—Ä–æ–∫—É `<script>alert('XSS')</script>` –≤ –ø–æ–ª–µ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ç—á–∞ –∏–ª–∏ –≤ –ø–æ–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∏–º–µ–Ω–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ª—é–±–æ–π —Å–∫—Ä–∏–ø—Ç. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π–¥—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JSTL (JavaServer Pages Standard Tag Library).
- –ù–µ—Ç –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –ø—É—Ç–∏ ‚Äî –º–Ω–æ–≥–∏–µ —Å—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏. –≠—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –≤ –∫–æ—Ä–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞. –†–µ—à–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `${pageContext.request.contextPath}` –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –ø—É—Ç–µ–π
- –∫–∞–∫ –∏ –∏–∑ –∫–æ–¥–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ JSP —Å—Ç–æ–∏—Ç —É–¥–∞–ª—è—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚ùóÔ∏è–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `error.jsp` –≤—ã–≤–æ–¥—è—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSTL (JavaServer Pages Standard Tag Library) –∏ EL (Expression Language) –≤–º–µ—Å—Ç–æ —Å–∫—Ä–∏–ø–ª–µ—Ç–æ–≤
- –≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `matches.jsp` –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ –±—É–¥–µ—Ç –ø–ª–æ—Ö–æ –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü. –õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∏ +- 2 —Å—Ç—Ä–∞–Ω–∏—Ü –≤–æ–∫—Ä—É–≥ –Ω–µ—ë.
- ‚ùóÔ∏è–ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `matches.jsp` –∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –º–∞—Ç—á–∞–º–∏ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞)

## –í —Ü–µ–ª–æ–º –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- –º–µ—Å—Ç–∞–º–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –Ω–µ–º–Ω–æ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–µ—Ä–µ–¥ `git commit` –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å (`cmd + alt + l` –≤ Idea –Ω–∞ mac os)
- –≤–æ –≤—Å—ë–º –ø—Ä–æ–µ–∫—Ç–µ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç–∏ –∏–º—ë–Ω —Å—Ç–æ–∏—Ç —É–¥–µ–ª–∏—Ç—å –±–æ–ª—å—à–µ–µ –≤–Ω–∏–º–∞–Ω–∏–µ. –°–ª–µ–¥—É–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Ç–∞–∫, —á—Ç–æ–±—ã –¥—Ä—É–≥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–≥ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ, –Ω–µ –∑–∞–≥–ª—è–¥—ã–≤–∞—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.
- –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –≤ –¥—Ä—É–≥–∏—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, —Ö–æ—Ç—è —É–º–µ—Å—Ç–Ω—ã ‚Äî —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –ª–∏—à–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥, –∞ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å boilerplate-–∫–æ–¥
- ‚ùóÔ∏è–í –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞—Ä—É—à–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion). –ë—ã–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ (–≤–æ–∑–º–æ–∂–Ω–æ) –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –Ω–∏—Ö. –¢–∞–∫–∂–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏.
- ‚ùóÔ∏è–Ω–µ –≤—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ—Ç Hibernate –∏ –ë–î (–∞ —Ç–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—ç—Ç–æ–º—É, –ø—Ä–∏ –ª—é–±–æ–π —Ç–∞–∫–æ–π –æ—à–∏–±–∫–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –°–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –Ω–∏—Ö –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –æ—à–∏–±–∫–∏ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∏–ª—å—Ç—Ä–µ (–∏–ª–∏ –¥—Ä—É–≥–æ–º –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ), —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç, –¥–æ—Å—Ç—É–ø–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—è –æ —Ç–æ–º, —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.

## –î—Ä—É–≥–æ–µ
- ‚ùóÔ∏è–∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∫–æ–¥–∞ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ –≤ java –ø–∏—à—É—Ç –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ. –ö–æ–≥–¥–∞ —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ –Ω–∞–±–æ—Ä –∫–ª–∞—Å—Å–æ–≤ –≤ –ø–∞–∫–µ—Ç–µ, –∫–∞–∂–µ—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ, –æ–±–æ–±—â–∞—è —Ç–æ, —á—Ç–æ –≤ –Ω—ë–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –ø–∞–∫–µ—Ç–∞ –≤ –∫–ª–∞—Å—Å–µ –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: `*.validation.limits.annotations.MaxLength` –∏ `*.validation.limit.annotation.MaxLength`, —Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ª–æ–≥–∏—á–Ω—ã–º –∫–∞–∫ –ø–æ–ª–Ω–æ–µ –∏–º—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tomcat 11
- —á—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π –Ω–∞–¥–æ –≤—Ä—É—á–Ω—É—é –∑–∞–≤–µ—Å—Ç–∏ –º–Ω–æ–≥–æ –º–∞—Ç—á–µ–π. –ò –µ—â—ë –±–æ–ª—å—à–µ ‚Äî —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞. –ü–æ—ç—Ç–æ–º—É –±—ã–ª–æ –±—ã —Ö–æ—Ä–æ—à–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–ª–∏ –¥–µ–ø–ª–æ–µ) –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –ë–î.
- ‚ùóÔ∏è—É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `hibernate.properties`
```properties
hibernate.connection.username=sa
hibernate.connection.password=
```
–Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ github
- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `Gson (com.google.code.gson)` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ ‚Äî –º–æ–∂–Ω–æ –µ—ë —É–¥–∞–ª–∏—Ç—å

## –ü–ª—é—Å—ã
- —Ä–∞–±–æ—Ç–∞—é—â–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ö–æ—Ç—å –∏ –Ω—É–∂–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—á—ë—Ç–∞)
- –¥–æ–≤–æ–ª—å–Ω–æ —Ö–æ—Ä–æ—à–æ —á–∏—Ç–∞–µ–º–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ –º–µ—Ç–æ–¥—ã (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –ø–∞–∫–µ—Ç–∞ service.process)
- –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö (—Ö–æ—Ç—å –∏ –Ω—É–∂–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–∞)
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DTO (—Ö–æ—Ç—å –∏—Ö –∏ —Å—Ç–æ–∏—Ç –µ—â—ë –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å)
- —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (Servlet -> Service -> Repository)
- –æ–±—ä–µ–∫—Ç—ã –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–º—É —Ä–∞–∑—É
- —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É —Å –ë–î (+ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –Ω–∞–±–æ—Ä–æ–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤)
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Lombok –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è boilerplate-–∫–æ–¥–∞
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î
- —Ö–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å–µ—Å—Å–∏—è–º–∏
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MapStruct
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞
- —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ç—á–µ–π –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
- –Ω–∞–ª–∏—á–∏–µ —Ç–µ—Å—Ç–æ–≤ (+ –ø—Ä–µ–≤—ã—à–∞—é—â–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –¢–ó)
- —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–∏—Å–∫–∞ –º–∞—Ç—á–µ–π
- –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤ –º–∞—Ç—á–µ –∏ –æ—à–∏–±–æ–∫
- –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞
- –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (+ –ø–æ—Ö–æ–∂–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –±–µ–∑ LLM)
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Checkstyle
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Mockito

## –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º <a id="may-be-useful"></a>
- –î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Hibernate –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É `hibernate.highlight_sql=true` –≤ hibernate.properties
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ Hibernate Validator
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ –ü—Ä–æ–±–ª–µ–º–∞ N+1 –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –ë–î –∏ —Å–ø–æ—Å–æ–±—ã –µ—ë —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –ß—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î –∏ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å [**–∫–ª–∞—Å—Å, –¥–∞—é—â–∏–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Å–æ–ª–∏ –ë–î H2**](#h2-console). –ù–æ –Ω—É–∂–Ω–æ –Ω–µ –∑–∞–±—ã—Ç—å —É–¥–∞–ª–∏—Ç—å –µ–≥–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º.
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∑–∞–ø–∏—Å–∏ —Å—Ç—Ä–∏–º–æ–≤ –ø–æ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –≤ –û–û–ü (–Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å—Ç—Ä–∏–º –ø–æ –∏–≥—Ä–µ –û—Ä—ë–ª –∏ —Ä–µ—à–∫–∞)
- –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ Idea CE –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–≥–∏–Ω—ã Smart Tomcat –∏–ª–∏ Jetty (–¥–ª—è Maven –ø—Ä–æ–µ–∫—Ç–∞)/Gretty (–¥–ª—è Gradle)
- –ü–æ—á–∏—Ç–∞—Ç—å –≥–ª–∞–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∂—É—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏, –∏–∑ –∫–Ω–∏–≥–∏ "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥" –ú–∞—Ä—Ç–∏–Ω–∞ –§–∞—É–ª–µ—Ä–∞

## –°–Ω–æ—Å–∫–∏

### @ToString –∏ @Entity <a id="tostring-entity"></a>

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª Match](#match)

<details>

---

<summary><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@ToString` (Lombok) –∏ `@Entity` (JPA) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ</b></summary>

–ü—Ä–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `@ToString` (Lombok) –∏ `@Entity` (JPA) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–±–ª—é–¥–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å JPA –∏ Hibernate.

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ `@ToString` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞ –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `toString()`. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å JPA-—Å—É—â–Ω–æ—Å—Ç—è–º–∏:

- StackOverflowError: –µ—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Parent —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ Child, –∞ Child –Ω–∞ Parent), –≤—ã–∑–æ–≤ `toString()` –Ω–∞ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ –≤—ã–∑–æ–≤–æ–≤ `toString()` –º–µ–∂–¥—É —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —á—Ç–æ –±—ã—Å—Ç—Ä–æ –∏—Å—á–µ—Ä–ø–∞–µ—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤.
- –ü—Ä–æ–±–ª–µ–º–∞ N+1 –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ª–µ–Ω–∏–≤—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π (Lazy Loading Issues): –µ—Å–ª–∏ `@ToString` –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π (`FetchType.LAZY`), –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `toString()` –≤–Ω–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏), —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ LazyInitializationException.

–ß—Ç–æ–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@ToString` —Å JPA-—Å—É—â–Ω–æ—Å—Ç—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `toString()`:

—Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞–¥ –ø–æ–ª–µ–º
```java
@ToString.Exclude
```

–∏–ª–∏ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º (—Å—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥)
```java
@ToString(exclude = "childEntity")
```

–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º
```java
@ToString(onlyExplicitlyIncluded = true)
```
–∏ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –Ω–∞–¥–æ –ø–æ–ª–µ–º
```java
@ToString.Include
```

---

</details>


### @EqualsAndHashCode –∏ @Entity <a id="equalsandhashcode-entity"></a>

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª Player](#player)

<details>

---

<summary><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @EqualsAndHashCode (Lombok) –∏ @Entity (JPA) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ</b></summary>

–ü—Ä–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ @EqualsAndHashCode (Lombok) –∏ @Entity (JPA/Hibernate) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–±–ª—é–¥–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç–∞–º–∏.
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, –∫–∞–∫ JPA/Hibernate —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç—ã (proxy) –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (lazy loading) —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π. `@EqualsAndHashCode` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥—ã `equals()` –∏ `hashCode()`, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞, –≤–∫–ª—é—á–∞—è –ø–æ–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ, –ø–æ–ª–µ ID.
–≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º:

- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç–∞–º–∏ Hibernate: Hibernate –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏ (–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –∫–ª–∞—Å—Å–∞ —Å—É—â–Ω–æ—Å—Ç–∏, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ) –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏. –ï—Å–ª–∏ –º–µ—Ç–æ–¥—ã `equals()` –∏ `hashCode()` –Ω–∞–ø—Ä—è–º—É—é –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –ø–æ–ª—è–º ID (–¥–æ –∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏) –∏–ª–∏ –ø–æ–ª—è–º –æ—Ç–Ω–æ—à–µ–Ω–∏–π, —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è. –î–≤–∞ –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—É—â–Ω–æ—Å—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–∑–Ω–∞–Ω—ã –Ω–µ—Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏ Lombok —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –º–µ—Ç–æ–¥—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ Hibernate –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è.
- –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö (Set –∏ Map): –°—É—â–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö (Set –∏–ª–∏ Map). –ï—Å–ª–∏ `hashCode()` –æ–±—ä–µ–∫—Ç–∞ –º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è ID –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î), –ø–æ–∏—Å–∫ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `equals()` –∏ `hashCode()` –¥–ª—è JPA-—Å—É—â–Ω–æ—Å—Ç–µ–π:

- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@EqualsAndHashCode` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –ª—É—á—à–µ –Ω–∞–ø–∏—Å–∞—Ç—å —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –≤—Ä—É—á–Ω—É—é.
- –ï—Å–ª–∏ –≤—Å—ë –∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Lombok, –Ω–∞–¥–æ –∏—Å–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø–æ–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ id –≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö `equals()`/`hashCode()` –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–±—ä–µ–∫—Ç –Ω–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ ID –±—É–¥–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ —Ä–∞–≤–µ–Ω null.

–ß—Ç–æ–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@EqualsAndHashCode` —Å JPA-—Å—É—â–Ω–æ—Å—Ç—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø–æ–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –ø–æ–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ª–∏–±–æ –∏—Å–∫–ª—é—á–∏—Ç—å –≤—Å–µ:

```java
@Entity
@EqualsAndHashCode(onlyExplicitlyIncluded = true) // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –ø–æ–ª—è
public class ParentEntity {

    @Id
    @EqualsAndHashCode.Include // –Ø–≤–Ω–æ –≤–∫–ª—é—á–∞–µ–º ID
    private Long id;

    // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    private String name;

    // @EqualsAndHashCode.Include –∑–¥–µ—Å—å –Ω–µ—Ç, –ø–æ–ª–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
    @OneToMany(mappedBy = "parent")
    private List<ChildEntity> children;
}

```

---

</details>

### @Data –∏ @Entity <a id="data-entity"></a>

<details>

---

<summary><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@Data` (Lombok) –∏ `@Entity` (JPA) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ</b></summary>

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Data` –≤ Lombok ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π —è—Ä–ª—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤: `@Getter`, `@Setter`, `@RequiredArgsConstructor`, `@ToString` –∏ `@EqualsAndHashCode`.

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `@Data` –∫ JPA-—Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–∑-–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ `equals()`, `hashCode()` –∏ `toString()`, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–∞—é—Ç –≤—Å–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞.

[**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @ToString (Lombok) –∏ @Entity (JPA) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ**](#tostring-entity)

[**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @EqualsAndHashCode (Lombok) –∏ @Entity (JPA) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ**](#equalsandhashcode-entity)

---

</details>

### –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ null <a id="avoid-returning-null-reason"></a>

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª MatchService](#matchservice)

<details>

---

<summary><b>–í–æ—Ç –ø–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ null</b></summary>

> #### –í–æ–∑–≤—Ä–∞—Ç null ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ (–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤) –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:
> - –≠—Ç–æ –∏—Å—Ç–æ—á–Ω–∏–∫ NullPointerException (NPE). –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –º–æ–∂–µ—Ç –∑–∞–±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ null, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∞ –Ω–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
> - –ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏: –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Ç–∞–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è.
> - –ù–µ—è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ—Ç–æ–¥–∞: —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `public String findNameById(int id)`) —è–≤–Ω–æ –Ω–µ —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è null. –ö–æ–Ω—Ç—Ä–∞–∫—Ç "–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null" —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–∏–ª–∏ –≤ –≥–æ–ª–æ–≤–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤), –∏ –µ–≥–æ –ª–µ–≥–∫–æ –Ω–∞—Ä—É—à–∏—Ç—å.

> #### –ö–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—Ç null –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º:
> - –í –º–µ—Ç–æ–¥–∞—Ö, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö null ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–Ω—ã–π, –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Map.get(key)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null, –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞).
> - –í–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–¥ —É–ø–∞–∫–æ–≤–∫–æ–π –≤ Optional).

> #### –õ—É—á—à–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
> - –î–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—É—Å—Ç—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
> - –î–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –≥–¥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Optional<T>.
> - –î–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –≥–¥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –æ—à–∏–±–∫–∞ ‚Äî –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

–Ø–≤–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Optional –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ –∏ –æ–ø–∞—Å–Ω–æ–≥–æ null.

---

</details>

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è –ë–î H2 <a id="h2-console"></a>

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º](#may-be-useful)

<details>

---

<summary><b>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–Ω—Å–æ–ª–∏ H2 –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</b></summary>

```java
/**
 * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–Ω—Å–æ–ª–∏ H2 –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
 * –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å H2 –Ω–∞ –ø–æ—Ä—Ç—É 8082
 * –ö–æ–Ω—Å–æ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8082
 */
@WebListener
public class H2ConsoleInitializer implements ServletContextListener {

    private Server webServer;
    @Override
    public void contextInitialized(ServletContextEvent sce) {
        try {
            webServer = Server.createWebServer("-web", "-webAllowOthers", "-webPort", "8082");
            webServer.start();

            System.out.println("==========================================");
            System.out.println("H2 Console started successfully!");
            System.out.println("Web Console URL: http://localhost:8082");
            System.out.println("JDBC URL: jdbc:h2:mem:db");
            System.out.println("User Name: sa");
            System.out.println("Password: [empty]");
            System.out.println("==========================================");

        } catch (SQLException e) {
            System.err.println("Failed to start H2 Console: " + e.getMessage());
            e.printStackTrace();
        }
    }

    @Override
    public void contextDestroyed(ServletContextEvent sce) {
        if (webServer != null) {
            webServer.stop();
        }
        System.out.println("H2 Console stopped");
    }
}
```

---

</details>

### –ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ try <a id="close-resources-in-try"></a>

[–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª CrudRepository](#crudrepository)

<details>

---

<summary><b>–ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö try –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫: </b></summary>

#### –í –æ–±—ã—á–Ω–æ–º try
–ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: `try` -> `catch` -> `finally (–∑–¥–µ—Å—å —Ä–µ—Å—É—Ä—Å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)`.

<details>
<summary><b>–í–æ—Ç —Ç–∞–∫</b></summary>

```java
public static void main(String[] args) throws IOException {
    BufferedReader reader = new BufferedReader(new InputStreamReader(new ByteArrayInputStream("data".getBytes())));
    try {

        System.out.println("[in try] Source is open: " + reader.ready());

        throw new Exception();

    } catch (Exception e) {

        System.out.println("--- exception occurred ---");

        try {
            System.out.print("[in catch] ");
            System.out.println("Source is open: " + reader.ready());
        } catch (IOException ioe) {
            System.out.println(ioe.getMessage());
        }

    } finally {
        try {
            System.out.print("[in finally] ");
            System.out.println("Source is open: " + reader.ready());
        } catch (IOException ioe) {
            System.out.println(ioe.getMessage());
        }

        reader.close();
        System.out.println("Source close manually.");
    }

    try {
        System.out.print("[after try-with-resources] ");
        System.out.println("Source is open: " + reader.ready());
    } catch (IOException ioe) {
        System.out.println(ioe.getMessage());
    }
}
```
–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:
```text
[in try] Source is open: true
--- exception occurred ---
[in catch] Source is open: true
[in finally] Source is open: true
Source close manually.
[after try-with-resources] Stream closed
```

</details>

#### –í try-with-resources
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è try-with-resources, —Ç–æ [–ª—é–±–æ–π –±–ª–æ–∫ catch –∏–ª–∏ finally –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html). –†–µ—Å—É—Ä—Å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–µ—è–≤–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –±–ª–æ–∫–µ, –∫–æ—Ç–æ—Ä—ã–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –±–ª–æ–∫—É finally. –≠—Ç–æ—Ç –Ω–µ—è–≤–Ω—ã–π finally-–ø–æ–¥–æ–±–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–ª–æ–∫–∞ try.
- –î–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ catch.
- –î–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ finally (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å).

–ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: `try` -> `–∑–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤` -> `catch` -> `finally`.

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –±—ã–ª–æ –ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–ª–∏ –Ω–µ—Ç, –æ–ø–µ—Ä–∞—Ç–æ—Ä try-with-resources –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç –º–µ—Ç–æ–¥ close() —É –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –±–ª–æ–∫–∞ try.

<details>
<summary><b>–í–æ—Ç —Ç–∞–∫</b></summary>

```java
public static void main(String[] args) {
    BufferedReader reader = new BufferedReader(new InputStreamReader(new ByteArrayInputStream("data".getBytes())));
    try (reader) {

        System.out.println("[in try] Source is open: " + reader.ready());

        throw new Exception();

    } catch (Exception e) {

        System.out.println("--- exception occurred ---");

        try {
            System.out.print("[in catch] ");
            System.out.println("Source is open: " + reader.ready());
        } catch (IOException ioe) {
            System.out.println(ioe.getMessage());
        }

    }

    try {
        System.out.print("[after try-with-resources] ");
        System.out.println("Source is open: " + reader.ready());
    } catch (IOException ioe) {
        System.out.println(ioe.getMessage());
    }

}
```
–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:
```text
[in try] Source is open: true
--- exception occurred ---
[in catch] Stream closed
[after try-with-resources] Stream closed
```

</details>

---

</details>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ö–æ—Ä–æ—à–∏–µ –Ω–∞–≤—ã–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∞ —Ç–∞–∫–∂–µ –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞–Ω–∏–π –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ —Å–ª–æ–∏ –∏ —Å–≤–æ–±–æ–¥–Ω–æ –ø–æ–¥–¥–∞—ë—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –ø–æ—á—Ç–∏ –≤ –ª—é–±–æ–π –µ–≥–æ —á–∞—Å—Ç–∏.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ç—Ä—É–¥–∞ –∏ —Å–∫–æ—Ä–µ–µ –±—É–¥–µ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π —É–∂–µ –∏–º–µ—é—â–∏—Ö—Å—è –Ω–∞–≤—ã–∫–æ–≤, —á–µ–º –∏–∑—É—á–µ–Ω–∏–µ–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ—Å–Ω–æ–≤.
