# Review –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç [@c137_morty3](https://github.com/Metty1337/TennisScoreboard) –ø—Ä–æ–µ–∫—Ç–∞ [–¢–∞–±–ª–æ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–≥–æ –º–∞—Ç—á–∞](https://zhukovsd.github.io/java-backend-learning-course/projects/tennis-scoreboard/)

```text
1. –ó–Ω–∞–∫–æ–º ‚ùóÔ∏è –ø–æ–º–µ—á–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –º–µ—Å—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –¢–ó.
2. –ï—Å–ª–∏ ‚ùóÔ∏è —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –∑–Ω–∞—á–∏—Ç –æ–Ω –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º –ø—É–Ω–∫—Ç–∞–º —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.
3. –ó–∞–º–µ—á–∞–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø—É–Ω–∫—Ç–µ —Å –∏–º–µ–Ω–µ–º –ø–∞–∫–µ—Ç–∞, –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º —ç—Ç–æ–≥–æ —Å–ª–æ—è.
4. –ó–Ω–∞–∫–æ–º üí° –ø–æ–º–µ—á–µ–Ω—ã –±–ª–æ–∫–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –ø—Ä–∏—ë–º–∞ –∏–ª–∏ —á–∞—Å—Ç–∏ –∫–æ–¥–∞. 
   –¢–∞–∫–∏–µ –ø—É–Ω–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–º –±–ª–æ–∫–µ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é. 
   –ü–µ—Ä–µ–¥ –∏—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º —Å—Ç–æ–∏—Ç –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –ø—Ä–∏–¥—É–º–∞—Ç—å –∏–ª–∏ –ø–æ–∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. 
```


## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä
- –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ç—á–∞ —Å—Ç—Ä–æ–∫–∞ `"Player two"` "–ø—Ä–∏–ª–∏–ø–ª–∞" –∫ –ø–æ–ª—é –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ ![](images/c137_morty3-Metty1337/Screenshot_01.png)
- –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏–º–µ–Ω–∞ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ ‚Äî —á—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø–∏—Å–∞—Ç—å –≤—Å—ë –∏–º—è ![](images/c137_morty3-Metty1337/Screenshot_02.png)
- –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞ –ø–µ—Ä–µ–ø—É—Ç–∞–Ω—ã –∫–æ–ª–æ–Ω–∫–∏ `Games` –∏ `Sets` ![](images/c137_morty3-Metty1337/Screenshot_03.png)
- –≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ –±—É–¥–µ—Ç –ø–ª–æ—Ö–æ –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü. ![](images/c137_morty3-Metty1337/Screenshot_04.png)

–õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∏ +- 2 —Å—Ç—Ä–∞–Ω–∏—Ü –≤–æ–∫—Ä—É–≥ –Ω–µ—ë.

## Model
### ScoreModel
- —Å—É—Ñ—Ñ–∏–∫—Å `Model` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
- —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –°—Ç—Ä–æ–∏—Ç–µ–ª—å (Builder) –Ω–µ –Ω—É–∂–Ω–∞ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ. –î–∞–∂–µ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç—ã –∫–ª–∞—Å—Å–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–ª–∏ –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞. –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –°—Ç—Ä–æ–∏—Ç–µ–ª—è –≤ —Ç–µ—Å—Ç–∞—Ö –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π —Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤ –∫–æ–¥–µ –∫–ª–∞—Å—Å–∞.

  –°–µ–π—á–∞—Å –≤ OngoingMatchesService –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∞–∫:
```java
ScoreModel scoreModel = ScoreModel.builder()
        .playerOnePoints(Point.LOVE)
        .playerOneGames(0)
        .playerOneSets(0)
        .playerTwoPoints(Point.LOVE)
        .playerTwoGames(0)
        .playerTwoSets(0)
        .tieBreak(Boolean.FALSE)
        .playerOneTieBreakPoints(0)
        .playerTwoTieBreakPoints(0)
        .build();
```
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫:
```java
public class ScoreModel {
    private Point playerOnePoints;
    private Point playerTwoPoints;
    
    // ...
    
    public ScoreModel() {
        this.playerOnePoints = Point.LOVE;
        this.playerTwoPoints = Point.LOVE;
    }
}
```
–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Ç–∞–∫:
```java
ScoreModel scoreModel = new ScoreModel();
```
- –ü–æ–ª—è –≤ –∫–ª–∞—Å—Å–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞: `playerOnePoints`, `playerTwoPoints`, `playerOneGames`, `playerTwoGames` –∏ —Ç–¥. –≠—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ, —á—Ç–æ –≤ –∫–ª–∞—Å—Å–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–∂–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è. –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Å—á–µ—Ç—É –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (`points`, `games`, `sets`, `tieBreakPoints`), –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –∏ –º–æ–∂–Ω–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å.
  –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–æ–π:
```java
class PlayerScore {
    private Point points = Point.LOVE;
    private int games = 0;
    private int sets = 0;
    private int tieBreakPoints = 0;
    // –≥–µ—Ç—Ç–µ—Ä—ã + —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—á—ë—Ç–∞
}
```
- ‚ùóÔ∏è–∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—á–∫–æ–≤ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –º–∞—Ç—á–µ, –∞ —Ç–∞–∫–∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã ‚Äî —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –Ω–∞—Ä—É—à–∞–µ—Ç SRP (Single Responsibility Principle). –õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –≤ —ç—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—ã–ª–æ –±—ã, —á—Ç–æ–±—ã –∑–∞ —Å—á—ë—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –æ—Ç–≤–µ—á–∞–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª –±—ã –û–û–ü-—Å—Ç–∏–ª—é –∏ –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- ‚ùóÔ∏è–∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ "–∞–Ω–µ–º–∏—á–Ω–æ–π –º–æ–¥–µ–ª–∏" ‚Äî –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –ª–∏—à—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º (–ø—Ä–∏—á—ë–º –∏–∑–º–µ–Ω—è–µ–º—ã–º ‚Äî mutable value object) –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ, —á—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É –ø–æ–¥—Ö–æ–¥—É. –ï—Å–ª–∏ –±—ã —É –∫–ª–∞—Å—Å–∞ –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç—ã—Ö —Å–µ—Ç—Ç–µ—Ä–æ–≤ –±—ã–ª–∏ –º–µ—Ç–æ–¥—ã, —Å–æ–≤–µ—Ä—à–∞—é—â–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø–æ–ª—è–º–∏, —ç—Ç–æ –±–æ–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –±—ã –û–û–ü —Å—Ç–∏–ª—é –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ (–≤ —Ä–æ–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏). –¢–∞–∫–∂–µ, —ç—Ç—É —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –±—ã–ª–æ –±—ã –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.


<details>

<summary><b>üí° –í–æ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ üí°</b></summary>

---

```java
public class PlayerScore {
    private static final Point INITIAL_POINTS = Point.LOVE;
    private static final int VICTORY_TIEBREAK_POINTS = 7;
    private static final int VICTORY_SET_POINTS = 6;
    private static final int MIN_ADVANTAGE_TO_WIN = 2;
    private Point points;
    private int games = 0;
    private int sets = 0;
    private int tieBreakPoints = 0;

    public PlayerScore() {
        this.points = INITIAL_POINTS;
    }

    public void increment() {
        // –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—á–∫–æ–≤
    }

    public boolean hasAdvantage() {
        return points == Point.ADVANTAGE;
    }

    public String getPointsValue() {
        return points.value();
    }

    private void incrementGamePoints() {
        games++;
    }

    private void incrementSetPoints() {
        sets++;
    }

    private void incrementTieBreakPoints() {
        tieBreakPoints++;
    }

    private void resetPoints() {
        points = INITIAL_POINTS;
    }

    enum Point {
        LOVE("0"),
        FIFTEEN("15"),
        THIRTY("30"),
        FORTY("40"),
        ADVANTAGE("AD");

        private final String value;

        Point(String value) {
            this.value = value;
        }

        public Point next() {
            if (this == ADVANTAGE) {
                throw new IllegalStateException("Has no points after advantage.");
            }
            return values()[ordinal() + 1];
        }

        public String value() {
            return value;
        }
    }
}
```

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –æ—Ç —Å–µ—Ç—Ç–µ—Ä–æ–≤ —Å—Ç–æ–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è, —á—Ç–æ–±—ã —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á—ë—Ç–∞ —É–ø—Ä–∞–≤–ª—è–ª–æ—Å—å —Ç–æ–ª—å–∫–æ —è–≤–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–º–∏ –¥–ª—è —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞–º–∏.

---

</details>

[**–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏**](#reach-anemic-model) <a id="back-1"></a>

### MatchScoreModel
- —Å—É—Ñ—Ñ–∏–∫—Å `Model` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
- –∫–ª–∞—Å—Å —Å–º–µ—à–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–æ–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏ DTO: –æ–Ω —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –∞ —Ç–∞–∫–∂–µ —Å–ª—É–∂–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (JSP) (—Ö–æ—Ç—å –∏ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ø–æ —á–∞—Å—Ç—è–º). –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –∏ DTO ‚Äî —ç—Ç–æ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –≤—ã–¥–µ–ª–∏—Ç—å –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `OngoingMatch` –∏ `MatchDto`) –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

[**"–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**](#model-types) <a id="back-2"></a>

- ‚ùóÔ∏è—Å–µ–π—á–∞—Å —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –æ—Ç–¥–∞—ë—Ç –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (JSP-—Ñ–∞–π–ª—ã) –æ–±—ä–µ–∫—Ç—ã Entity (—Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ë–î). –≠—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —ç—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö, –Ω–∞—Ä—É—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã. –õ—É—á—à–µ –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã DTO, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
- –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞, –∫–∞–∫ DTO —Å—Ç–æ–∏—Ç —É—á–µ—Å—Ç—å, —á—Ç–æ –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ DTO –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–∂–µ DTO.

### Point
- –°–µ–π—á–∞—Å Point –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ `enums`. –¢–∞–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø–æ —Ç–∏–ø—É –∫–ª–∞—Å—Å–∞ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω–æ. –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ Point –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (–æ—á–∫–∏ –≤ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–º –≥–µ–π–º–µ) –∏ –¥–æ–ª–∂–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Å–ª–æ–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å Point –≤ `model`.
- –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ final –ø–æ–ª—è, —Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ "—É–∑–∫—É—é" –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@RequiredArgsConstructor` –≤–º–µ—Å—Ç–æ `@AllArgsConstructor`. –ß—Ç–æ–±—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö non-final –ø–æ–ª–µ–π –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
- –∑–Ω–∞—á–µ–Ω–∏–µ `value = 100` –¥–ª—è `GAME` –Ω–µ –≤–∞–ª–∏–¥–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–º –≥–µ–π–º–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—á—ë—Ç–∞ –≤ `100` –æ—á–∫–æ–≤
- –∑–Ω–∞—á–µ–Ω–∏–µ `GAME` —Å–∞–º–æ –ø–æ —Å–µ–±–µ —Ç–∞–∫–∂–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å—á—ë—Ç–∞ –≤ –≥–µ–π–º–µ (—ç—Ç–æ –ø–æ–Ω—è—Ç–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≥–µ–π–º–∞, –∞ –Ω–µ –∫ —Å—á—ë—Ç—É –≤ –Ω—ë–º), –ø–æ—ç—Ç–æ–º—É –Ω–µ –¥–æ–ª–∂–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–∏
- –∑–Ω–∞—á–µ–Ω–∏–µ `value = 0` –¥–ª—è `DEUCE` –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ç–µ–Ω–Ω–∏—Å–Ω–æ–º –≥–µ–π–º–µ `DEUCE` –æ–∑–Ω–∞—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ "—Ä–æ–≤–Ω–æ" –ø—Ä–∏ —Å—á—ë—Ç–µ `40:40` –∏ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ `40:40` –∏–ª–∏ `DEUCE`
- –∑–Ω–∞—á–µ–Ω–∏–µ `value = 1` –¥–ª—è `ADVANTAGE` –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `AD`
- –ø–æ–ª–µ `int value` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π –∏ —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª—é–±–æ–≥–æ —Å—á—ë—Ç–∞
- –º–µ—Ç–æ–¥–∞ `next()` –ø–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É, –¥–æ–±–∞–≤–ª—è—è –∫ –∏–Ω–¥–µ–∫—Å—É —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ `1` ‚Äî `return values()[this.ordinal() + 1]`), –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ `next()` –Ω–∞ –æ–±—ä–µ–∫—Ç–µ `ADVANTAGE` –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞ –∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç ArrayIndexOutOfBoundsException. –°—Ç–æ–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç —Å–ª—É—á–∞–π –æ—Ç–¥–µ–ª—å–Ω–æ.
- —Ç–∞–∫–∂–µ `FORTY.next()` –≤–µ—Ä–Ω–µ—Ç `GAME`. –ù–æ –≥–µ–π–º –Ω–µ –≤—Å–µ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ `FORTY`. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ —Ç–æ–∂–µ `FORTY`, —Ç–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±—É–¥–µ—Ç `ADVANTAGE`.

## Entity
- —Å—É—Ñ—Ñ–∏–∫—Å `Entity` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–ª–∞—Å—Å–æ–≤
- –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π, –ø—É—Å—Ç–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –Ω–µ –ø–∏—Å–∞—Ç—å –≤ –∫–æ–¥–µ (–∏–ª–∏ —á–µ—Ä–µ–∑ `@NoArgsConstructor`), –µ—Å–ª–∏ –æ–Ω –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤ –∫–ª–∞—Å—Å–µ ‚Äî –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤ java –æ–Ω –±—É–¥–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- Hibernate –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—Ä–æ–≤–Ω–µ–º –¥–æ—Å—Ç—É–ø–∞ protected ‚Äî –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏: `@NoArgsConstructor(access = AccessLevel.PROTECTED)`. –≠—Ç–æ —Ç–∞–∫–∂–µ —Å–ª—É–∂–∏—Ç —Å–∏–≥–Ω–∞–ª–æ–º –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, —á—Ç–æ —ç—Ç–æ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º (JPA), –∞ –Ω–µ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞ –≤ –∫–æ–¥–µ.
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Column`: –≤ PlayerEntity (–Ω–∞–¥ `name`) –∏–º—è –∫–æ–ª–æ–Ω–∫–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ —è–≤–Ω–æ (—Ç.–∫. —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—è), –∞ –≤ –∫–ª–∞—Å—Å–µ MatchEntity —É–∫–∞–∑–∞–Ω–æ (–Ω–∞–¥ `id`). –õ—É—á—à–µ –≤–µ–∑–¥–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

### PlayerEntity
- –í –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Column` —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `length = 20`, —á—Ç–æ–±—ã Hibernate —Ç–æ–∂–µ (–ø–æ–º–∏–º–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞) –≤—ã–ø–æ–ª–Ω—è–ª –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ –ë–î. –ê —Ç–∞–∫–∂–µ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ DDL –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è) –∏ –≤ –ë–î (constraints). –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –ë–î –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω—ã –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –ë–î.
- ‚ùóÔ∏è–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Setter` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ç—Ç–µ—Ä –ø–æ–ª—è `private String name;`, –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –ª—é–±–æ–π –∫–æ–¥ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –∏–≥—Ä–æ–∫–∞, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–∏–º—è –∏–≥—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è). –†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –ø–æ–ª–µ–π.
- ‚ùóÔ∏è—Å–µ—Ç—Ç–µ—Ä –¥–ª—è `id` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç Player c —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º id. –î–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –ë–î, –ª—É—á—à–µ –Ω–µ –¥–∞–≤–∞—Ç—å —Ç–∞–∫—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —Å—Ç–æ–∏—Ç —É–¥–∞–ª–∏—Ç—å.
- —Ö–æ—Ä–æ—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –¥–ª—è JPA Entity, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é `equals`/`hashCode`:
```java
@Getter // –ì–µ—Ç—Ç–µ—Ä—ã –Ω—É–∂–Ω—ã –¥–ª—è JPA –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
@NoArgsConstructor(access = AccessLevel.PROTECTED) // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è JPA
@ToString
@EqualsAndHashCode(of = "name") // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∏–∑–Ω–µ—Å-–∫–ª—é—á–∞
@ToString(of = {"id", "name"}) // –° —è–≤–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
@Entity
@Table(name = "players")
public class PlayerEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE)
    private Long id;

    @Column(nullable = false, unique = true, length = 20)
    private String name;

    // –ü—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
    public PlayerEntity(String name) {
        this.name = name;
    }
}
```

### MatchEntity
- ‚ùóÔ∏è–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Setter` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –ø–æ–ª–µ–π –∏–≥—Ä–æ–∫–æ–≤ –∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è, –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –ª—é–±–æ–π –∫–æ–¥ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –∏–ª–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è entity –º–∞—Ç—á–∞, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (—Å–æ—Å—Ç–∞–≤ –∏–≥—Ä–æ–∫–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ç—á–∞). –†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –ø–æ–ª–µ–π.

## Dao
- –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π `save(PlayerEntity playerEntity)` –∏ `save(MatchEntity matchEntity)` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç void. –≠—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ, –Ω–æ –æ–±—ã—á–Ω–æ –≤ —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —É –Ω–µ—ë –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ID) –∏–ª–∏, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –±–æ–ª–µ–µ —è–≤–Ω–æ:

  –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ TransactionalFinishedMatchesPersistenceService —Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
public MatchEntity saveMatchToFinishedScoreboard(MatchScoreModel matchScoreModel, int winnerId) {
        
    // ...

    MatchEntity matchEntity = new MatchEntity();
    matchEntity.setPlayerOne(playerOne);
    matchEntity.setPlayerTwo(playerTwo);
    matchEntity.setWinner(winner);

    Objects.requireNonNull(matchDao).save(matchEntity);

    return matchEntity;
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
public MatchEntity saveMatchToFinishedScoreboard(MatchScoreModel matchScoreModel, int winnerId) {
        
    // ...
        
    MatchEntity matchEntity = new MatchEntity(playerOne, playerTwo, winner);

    MatchEntity savedMatch = matchDao.save(matchEntity);

    return savedMatch;
}
```
–∏–ª–∏ —Ç–∞–∫:
```java
public MatchEntity saveMatchToFinishedScoreboard(MatchScoreModel matchScoreModel, int winnerId) {
        
    // ...
        
    MatchEntity matchEntity = new MatchEntity(playerOne, playerTwo, winner);

    return matchDao.save(matchEntity);
}
```
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ HQL –∑–∞–ø—Ä–æ—Å–æ–≤: –≤ –∫–ª–∞—Å—Å–µ HiberMatchDao HQL –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø–∏—Å–∞–Ω—ã —Å alias-–∞–º–∏ (`FROM MatchEntity m`), –∞ –≤ –∫–ª–∞—Å—Å–µ HiberPlayerDao –±–µ–∑ (`FROM PlayerEntity`). –õ—É—á—à–µ –≤–µ–∑–¥–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≥–æ —Å—Ç–∏–ª—è

### PlayerDao
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ HiberPlayerDao](#forward-1) </div>
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `boolean existsByName(String name)` –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –ª–∏—à–Ω–∏–π –∑–∞–ø—Ä–æ—Å –≤ –ë–î ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –µ—Å–ª–∏ –ª–∏ –∏–≥—Ä–æ–∫, –∞ –∑–∞—Ç–µ–º –æ–Ω –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∏–∑ –ë–î. –õ—É—á—à–µ —Å—Ä–∞–∑—É –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å –∏–≥—Ä–æ–∫–∞ —á–µ—Ä–µ–∑ `Optional<PlayerEntity> findByName(String name)` –∏ –µ—Å–ª–∏ –≤–µ—Ä–Ω—ë—Ç—Å—è `Optional.empty()` ‚Äî —ç—Ç–æ –∏ –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ—Ç.

### HiberPlayerDao
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ HiberMatchDao](#forward-2) </div>
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ PlayerService](#playerservice) </div>
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ OngoingMatchesService](#ongoingmatchesservice) </div>
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ FinishedMatchesPersistenceService](#forward-3) </div>
- –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∏–≥–¥–µ –±–æ–ª—å—à–µ (–∫—Ä–æ–º–µ –∫–ª–∞—Å—Å–æ–≤ DAO) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–ª–∞—Å—Å–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤ `HibernateUtil` –ø—Ä–µ—Ñ–∏–∫—Å `Hibernate` —Ç–æ–∂–µ –ø–æ–ª–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –∏ –∑–¥–µ—Å—å –ø—Ä–µ—Ñ–∏–∫—Å `Hibernate` –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–∞ –ª—É—á—à–µ –ø–∏—Å–∞—Ç—å –±–µ–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è `HiberPlayerDao` ‚Äî> `HibernatePlayerDao`
- –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `PLAYER` –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `HQL` –∏–ª–∏ `JPQL`:

`PLAYER_EXISTS_BY_NAME` ‚Äî> `EXISTS_BY_NAME_HQL`

`PLAYER_FIND_BY_NAME` ‚Äî> `FIND_BY_NAME_HQL`

`PLAYER_FIND_BY_ID` ‚Äî> `FIND_BY_ID_HQL`

- —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ —É–¥–æ–±–Ω–µ–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏:
```sqlite-sql
SELECT COUNT(*)
FROM PlayerEntity 
WHERE name = :name
```
–¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏:
```java
private static final String FIND_BY_NAME_HQL = """
        FROM PlayerEntity 
        WHERE name = :name
        """;
```
- —á–∞—Å—Ç–∏
```sqlite-sql
FROM PlayerEntity
```
–∏
```sqlite-sql
WHERE name = :name
```
–¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö ‚Äî –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```java
private static final String SELECT_ALL_HQL = """
        FROM PlayerEntity
        """;

private static final String FILTER_BY_NAME_HQL = """
        WHERE name = :name
        """;
```
- –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ SessionFactory –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ null: `Objects.requireNonNull(sessionFactory)` ‚Äî —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ: –µ—Å–ª–∏ —Ç–∞–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞, —Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å –µ—ë –æ–¥–∏–Ω —Ä–∞–∑ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, –ø—Ä–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ —ç—Ç–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è CDI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —ç—Ç—É –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Äî —Å–∫–æ—Ä–µ–µ —Å–ø–æ—Å–æ–± –∏–∑–±–µ–∂–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ, –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å.

  –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π `Method invocation 'openSession' may produce 'NullPointerException'` –≤ –º–µ—Å—Ç–∞—Ö –≤—ã–∑–æ–≤–∞ `sessionFactory.openSession()` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@jakarta.annotation.Nonnull` ‚Äî —Å –Ω–µ–π —Ç–∞–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

–í –∫–ª–∞—Å—Å–µ:
```java
public class HiberPlayerDao {
    @jakarta.annotation.Nonnull
    private final SessionFactory sessionFactory;

    @Inject
    public HiberPlayerDao(SessionFactory sessionFactory) {
        this.sessionFactory = Objects.requireNonNull(sessionFactory);
    }
}
```
–ü–æ—Å–ª–µ `mvn compile` –≤ `target/classes/metty1337/tennisscoreboard/dao/HiberPlayerDao.class`:
```java
public class HiberPlayerDao {
    @Nonnull
    private final SessionFactory sessionFactory;

    @Inject
    public HiberPlayerDao(SessionFactory sessionFactory) {
        this.sessionFactory = (SessionFactory)Objects.requireNonNull(sessionFactory);
    }
}
```

–ï—â—ë –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ç–æ–≥–¥–∞ –∫–ª–∞—Å—Å–∞–º –±–∏–Ω–æ–≤ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–ø—Ä–æ–∫—Å–∏ –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ –Ω–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –∫–ª–∞—Å—Å–∞) –∏, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –Ω–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ —Ç–æ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç—ã –ø–æ–ª–µ–π –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π NullPointerException –æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.
- ‚ùóÔ∏è–ø—Ä–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –º–µ—Ç–æ–¥–µ `existsByName()` c–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [PlayerDao](#playerdao) <a id="forward-1"></a>
- ‚ùóÔ∏è–ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –±–ª–æ–∫–µ catch –≤ –º–µ—Ç–æ–¥–µ `save()` —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞
```java
if (transaction != null && transaction.isActive()) {
    transaction.rollback();
}
```
–∏–Ω–∞—á–µ –≤—ã–∑–æ–≤ `transaction.rollback()` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—é IllegalStateException
- ‚ùóÔ∏è—Ç–∞–∫–∂–µ –≤—ã–∑–æ–≤ `transaction.rollback()` —Å—Ç–æ–∏—Ç –æ–±–µ—Ä–Ω—É—Ç—å –≤ try, –∏–Ω–∞—á–µ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –æ–Ω–æ –∑–∞–º–∞—Å–∫–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ try.

  –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```java
@Override
public void save(PlayerEntity playerEntity) {
    Transaction transaction = null;
    try (Session session = sessionFactory.openSession()) {
        transaction = session.beginTransaction();
        session.persist(playerEntity);
        transaction.commit();
    } catch (Exception e) {
        safeRollback(transaction, e);
        throw new DatabaseException(ExceptionMessages.DATABASE_EXCEPTION.getMessage(), e);
    }
}

private void safeRollback(Transaction transaction, Exception originalException) {
    try {
        if (transaction != null && transaction.isActive()) {
            transaction.rollback();
        }
    } catch (Exception rollbackException) {
        originalException.addSuppressed(rollbackException);
    }
}
```
- –≤ –º–µ—Ç–æ–¥–∞—Ö `findByName()` –∏ `findById()` –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –ø–æ–ª—É—á–∞—Ç—å Optional –∏–∑ Query: –≤–º–µ—Å—Ç–æ `return Optional.ofNullable(query.uniqueResult())` –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `return query.uniqueResultOptional()`
- —Ç–µ–ª–∞ –º–µ—Ç–æ–¥–æ–≤ `findByName()` –∏ `findById()` –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –ª–∞–∫–æ–Ω–∏—á–Ω–µ–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ `findByName()` c–µ–π—á–∞—Å —Ç–∞–∫:
```java
@Override
public Optional<PlayerEntity> findByName(String name) {
    try (Session session = Objects.requireNonNull(sessionFactory).openSession()) {
        Query<PlayerEntity> query = session.createQuery(
                PLAYER_FIND_BY_NAME,
                PlayerEntity.class
        );
        query.setParameter("name", name);
        return Optional.ofNullable(query.uniqueResult());
    } catch (Exception e) {
        throw new DatabaseException(ExceptionMessages.DATABASE_EXCEPTION.getMessage(), e);
    }
}
```
–º–æ–∂–Ω–æ —Ç–∞–∫:
```java
@Override
public Optional<PlayerEntity> findByName(String name) {
    try (Session session = sessionFactory.openSession()) {
        return session.createQuery(PLAYER_FIND_BY_NAME, PlayerEntity.class)
                .setParameter("name", name)
                .uniqueResultOptional();
    } catch (Exception e) {
        throw new DatabaseException(ExceptionMessages.DATABASE_EXCEPTION.getMessage(), e);
    }
}
```

### MatchDao
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ HiberMatchDao](#forward-2) </div>
- –º–µ—Ç–æ–¥ `findBySimilarNameWithSettings()` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `findByPlayerName()` –∏–ª–∏ `findByName()` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞
- –º–µ—Ç–æ–¥ `findAllWithSettings()` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `findAll()` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `List<MatchEntity> findAll()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–æ–æ–±—â–µ –≤—Å–µ –º–∞—Ç—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –ë–î, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ OutOfMemoryError. –í —Ç–µ–∫—É—â–µ–º –≤–∏–¥–µ –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –º–∞—Ç—á–µ–π –ª—É—á—à–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –ë–î, —Å–ª–µ–¥—É–µ—Ç —Å–¥–µ–ª–∞—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –∏ –≤–µ—Ä–Ω—ë—Ç `Long count` –∏–∑ –±–∞–∑—ã.

### HiberMatchDao
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesController](#forward-5) </div>
- –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∏–≥–¥–µ –±–æ–ª—å—à–µ (–∫—Ä–æ–º–µ –∫–ª–∞—Å—Å–æ–≤ DAO) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–ª–∞—Å—Å–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤ `HibernateUtil` –ø—Ä–µ—Ñ–∏–∫—Å `Hibernate` —Ç–æ–∂–µ –ø–æ–ª–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –∏ –∑–¥–µ—Å—å –ø—Ä–µ—Ñ–∏–∫—Å `Hibernate` –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–∞ –ª—É—á—à–µ –ø–∏—Å–∞—Ç—å –±–µ–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è `HiberMatchDao` ‚Äî> `HibernateMatchDao`
- –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `HQL` –∏–ª–∏ `JPQL`:

`FIND_BY_SIMILAR_NAME` ‚Äî> `FIND_BY_NAME_HQL`

`FIND_ALL` ‚Äî> `FIND_ALL_HQL`

- —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ —É–¥–æ–±–Ω–µ–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏:
```sqlite-sql
FROM MatchEntity m
WHERE m.playerOne.name LIKE :name OR m.playerTwo.name LIKE :name 
ORDER BY m.id
```
–¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏:
```java
private static final String FIND_BY_SIMILAR_NAME = """
        FROM MatchEntity m
        WHERE m.playerOne.name LIKE :name OR m.playerTwo.name LIKE :name 
        ORDER BY m.id
        """;
```
- —á–∞—Å—Ç–∏
```sqlite-sql
FROM MatchEntity m
```
–∏
```sqlite-sql
ORDER BY m.id
```
–¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö ‚Äî –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```java
private static final String SELECT_ALL_HQL = """
        FROM MatchEntity m
        """;

private static final String ORDER_HQL = """
        ORDER BY m.id
        """;
```
- –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ SessionFactory –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ null: `Objects.requireNonNull(sessionFactory)` ‚Äî —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ. –ò–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [HiberPlayerDao](#hiberplayerdao). <a id="forward-2"></a>
- ‚ùóÔ∏è–ø—Ä–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –º–µ—Ç–æ–¥–µ `List<MatchEntity> findAll()` c–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [MatchDao](#matchdao)
- ‚ùóÔ∏è–æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç–∫–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –±–ª–æ–∫–µ catch –≤ –º–µ—Ç–æ–¥–µ `save()` —Å—Ç–æ–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ç–∞–∫ –∂–µ, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [HiberPlayerDao](#hiberplayerdao).
- —Ç–µ–ª–∞ –º–µ—Ç–æ–¥–æ–≤ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Ç–æ–∂–µ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å —Ü–µ–ø–æ—á–∫–æ–π –≤—ã–∑–æ–≤–æ–≤.
  –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–µ—Ç–æ–¥–µ `findBySimilarNameWithSettings()` —Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
@Override
public List<MatchEntity> findBySimilarNameWithSettings(int limit, int offset, String playerName) {
    try (Session session = Objects.requireNonNull(sessionFactory).openSession()) {
        Query<MatchEntity> query = session.createQuery(FIND_BY_SIMILAR_NAME, MatchEntity.class);
        query.setParameter("name", playerName);
        query.setFirstResult(offset);
        query.setMaxResults(limit);
        return query.getResultList();
    } catch (Exception e) {
        throw new DatabaseException(ExceptionMessages.DATABASE_EXCEPTION.getMessage(), e);
    }
}
```
–º–æ–∂–Ω–æ —Ç–∞–∫:
```java
@Override
public List<MatchEntity> findBySimilarNameWithSettings(int limit, int offset, String playerName) {
    try (Session session = Objects.requireNonNull(sessionFactory).openSession()) {
        return session.createQuery(FIND_BY_SIMILAR_NAME, MatchEntity.class)
                .setParameter("name", playerName)
                .setFirstResult(offset)
                .setMaxResults(limit)
                .getResultList();
    } catch (Exception e) {
        throw new DatabaseException(ExceptionMessages.DATABASE_EXCEPTION.getMessage(), e);
    }
}
```
- ‚ùóÔ∏è–í –º–µ—Ç–æ–¥–∞—Ö –ø–æ–∏—Å–∫–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ MatchEntity, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑–∞–Ω—ã —Å PlayerEntity –æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º –º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–¥–Ω–æ–≥–æ –º–∞—Ç—á–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –µ—â—ë –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º –∏–≥—Ä–æ–∫–æ–≤ (–ø—Ä–æ–±–ª–µ–º–∞ N+1):
```sqlite-sql
[Hibernate] 
    select
        me1_0.id,
        me1_0.player1_id,
        me1_0.player2_id,
        me1_0.winner_id 
    from
        matches me1_0 
    order by
        me1_0.id
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
```

–°–ª–µ–¥—É–µ—Ç —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏.

<details>
<summary><b>üí° –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ üí°</b></summary>

–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å—ã —Å –ø–æ–º–æ—â—å—é JOIN FETCH
```java
String FIND_BY_NAME_JPQL = """
        SELECT m FROM MatchEntity m
        LEFT JOIN FETCH m.playerOne
        LEFT JOIN FETCH m.playerTwo
        LEFT JOIN FETCH m.winner
        WHERE m.playerOne.name LIKE :name OR m.playerTwo.name LIKE :name
        """;
```

</details>

## Service
- c—Ç–æ–∏—Ç –ø–æ–¥—É–º–∞—Ç—å –æ –ø–µ—Ä–µ–Ω–æ—Å–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–ª–æ–µ DAO –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º. 

### PlayerService
- –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ `Objects.requireNonNull(playersDao)` –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DAO, –º–æ–∂–Ω–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–æ–º—É, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [HiberPlayerDao](#hiberplayerdao)
- ‚ùóÔ∏è–ø—Ä–æ–≤–µ—Ä–∫–∞ `if (isPlayerExist(playerName))` –≤ –º–µ—Ç–æ–¥–µ `findOrCreatePlayer()` –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ –ë–î. –õ—É—á—à–µ —Å—Ä–∞–∑—É –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å/—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ —É–¥–∞—ë—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å.
  –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ:
```java
public PlayerEntity findOrCreatePlayer(String playerName) {
    if (isPlayerExist(playerName)) {
        return getPlayerByName(playerName);
    } else {
        return createPlayer(playerName);
    }
}
```
–±—É–¥–µ—Ç —Ç–∞–∫:
```java
public PlayerEntity findOrCreatePlayer(String playerName) {
    return playersDao.findByName(playerName)
            .orElseGet(() -> createPlayer(playerName));
}
```
- –∫–æ–≥–¥–∞ –∏–∑ –±–ª–æ–∫–∞ if –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç return, —Ç–æ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –±–µ–∑ –±–ª–æ–∫–∞ else.
  —Å–µ–π—á–∞—Å —Ç–∞–∫:
```java
public PlayerEntity findOrCreatePlayer(String playerName) {
    if (isPlayerExist(playerName)) {
        return getPlayerByName(playerName);
    } else {
        return createPlayer(playerName);
    }
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
public PlayerEntity findOrCreatePlayer(String playerName) {
    if (isPlayerExist(playerName)) {
        return getPlayerByName(playerName);
    }
    return createPlayer(playerName);
}
```
–≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞.

- ‚ùóÔ∏èRace condition –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–≥—Ä–æ–∫–∞ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –ø–æ –∏–º–µ–Ω–∏ –∏ –∑–∞—Ç–µ–º –¥–µ–ª–∞–µ–º –µ—â—ë –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å/—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ:
```java
public PlayerEntity findOrCreatePlayer(String playerName) {
    if (isPlayerExist(playerName)) {
        return getPlayerByName(playerName);
    } else {
        return createPlayer(playerName);
    }
}
```

–ú–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–≥—Ä–æ–∫–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–≥—Ä–æ–∫–∞ —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º. –ò —Ç–æ–≥–¥–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–µ –Ω–∏–≥–¥–µ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∫–æ–¥–æ–º 500. –•–æ—Ç—è —Å–æ–∑–¥–∞—Ç—å –º–∞—Ç—á —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≤ –ë–î –∏–≥—Ä–æ–∫–æ–º ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. 

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –Ω–∞–¥–æ —Å—Ä–∞–∑—É –ø—ã—Ç–∞—Ç—å—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞, –ø–æ–∑–≤–æ–ª–∏—Ç—å –ë–î –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –∏–≥—Ä–æ–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏ —Ç–æ–≥–¥–∞ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç —Å–ª—É—á–∞–π, –ø—Ä–æ–¥–æ–ª–∂–∏–≤ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∏, –≤ "—Å—á–∞—Å—Ç–ª–∏–≤–æ–º –ø—É—Ç–∏" (–∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –Ω–æ–≤—ã–π), —Å–æ–∫—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î.

–ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤–∞–∂–Ω–æ –ª–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ë–ª–æ–∫ catch –¥–æ–ª–∂–µ–Ω —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî ConstraintViolationException. –≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–ª—É—á–∞–π–Ω–æ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥—É—é –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞–¥–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î) –∫–∞–∫ —à—Ç–∞—Ç–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é "–∏–≥—Ä–æ–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç".

### OngoingMatchesService
- –∑–∞–ø—É—Å–∫ –ª–æ–≥–∏–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–º—ë–Ω –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ –º–µ—Ç–æ–¥–∞ `createMatch()` –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ —Å–µ—Ä–≤–ª–µ—Ç ‚Äî –∫–∞–∫ –º–æ–∂–Ω–æ –±–ª–∏–∂–µ –∫–æ –≤—Ö–æ–¥—É —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ `Objects.requireNonNull(playerService)` –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PlayerService, –º–æ–∂–Ω–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–æ–º—É, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [HiberPlayerDao](#hiberplayerdao)
- –ø—Ä–æ–≤–µ—Ä–∫–∞ `Objects.requireNonNull(ongoingMatches)` –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Ç–µ–∫—É—â–∏—Ö –º–∞—Ç—á–µ–π –∏–∑–±—ã—Ç–æ—á–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∫–ª–∞—Å—Å–∞
- –∏–∑ –º–µ—Ç–æ–¥–∞ `createMatch()` —Å—Ç–æ–∏—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å id –º–∞—Ç—á–∞ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ UUID –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –∫–æ–¥—É —Å–∞–º–æ–º—É –ø—Ä–∏–≤–æ–¥–∏—Ç—å –µ–≥–æ –∫ —Å—Ç—Ä–æ–∫–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- –≤ –º–µ—Ç–æ–¥–∞—Ö `getMatch()` –∏ `removeMatchFromOngoing()` —Å—Ç–æ–∏—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–±—ä–µ–∫—Ç UUID, –∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ–≥–æ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä—Å–∏—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–ª–∏–∂–µ –∫–æ –≤—Ö–æ–¥—É ‚Äî –≤ —Å–µ—Ä–≤–ª–µ—Ç–µ
- —Å–æ–∑–¥–∞–≤–∞—Ç—å Optional –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Map –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π: `Optional.ofNullable(Objects.requireNonNull(ongoingMatches).get(uuid))`. –í –º–µ—Ç–æ–¥–µ `getMatch()` –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–∏—à–µ–¥—à–∏–π –≤ –º–µ—Ç–æ–¥ –∫–ª—é—á, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç –ø–æ —ç—Ç–æ–º—É –∫–ª—é—á—É.

<details>

<summary><b>üí° –ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –º–µ—Ç–æ–¥ `getMatch()` –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫ üí°</b></summary>

---

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
public MatchScoreModel getMatch(String matchId) {
    UUID uuid = UUID.fromString(matchId);
    Optional<MatchScoreModel> matchScoreModel = Optional.ofNullable(Objects.requireNonNull(ongoingMatches).get(uuid));

    if (matchScoreModel.isPresent()) {
        return matchScoreModel.get();
    } else {
        throw new MatchDoesntExistException(ExceptionMessages.MATCH_DOESNT_EXIST_EXCEPTION.getMessage());
    }
}
```
–±–æ–ª–µ–µ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–º –±—ã–ª–æ –±—ã —Ç–∞–∫:
```java
public MatchScoreModel getMatch(UUID matchId) {
    return Optional.ofNullable(ongoingMatches.get(matchId))
            .orElseThrow(() -> new MatchDoesntExistException(ExceptionMessages.MATCH_DOESNT_EXIST_EXCEPTION.getMessage()));
}
```
–ª—É—á—à–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∏–∑–±–µ–≥–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏) —Ç–∞–∫:
```java
public MatchScoreModel getMatch(UUID matchId) {
    if (!ongoingMatches.containsKey(matchId)) {
        throw new MatchDoesntExistException(ExceptionMessages.MATCH_DOESNT_EXIST_EXCEPTION.getMessage());
    }

    return ongoingMatches.get(matchId);
}
```

---

</details>
- ‚ùóÔ∏è–≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ—à–∞–µ—Ç –¥–≤—É–º —Ä–∞–∑–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º –ø–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –º–∞—Ç—á–∞ –∏ –∏–∑–º–µ–Ω—è—Ç—å –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–Ω–∫—É—Ä–∏—Ä—É—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –Ω–∞–ø—Ä–∏–º–µ—Ä –∫ —Ç–æ–º—É, —á—Ç–æ –æ–¥–∏–Ω –∏–∑ –ø–æ—Ç–æ–∫–æ–≤ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –æ—á–∫–æ –∏–≥—Ä–æ–∫—É –≤ —É–∂–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º –º–∞—Ç—á–µ. –í–æ–∑–Ω–∏–∫–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ MatchDoesntExistException –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é (–∏ –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é) —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç —Ç–æ–º–∫–∞—Ç–∞

![](images/c137_morty3-Metty1337/Screenshot_05.png)

–û–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–∏–≥—Ä–∞–Ω–Ω–æ–≥–æ –æ—á–∫–∞ –≤ –∫–ª–∞—Å—Å–∞—Ö –º–æ–¥–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω Chain of responsibility) –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –µ—ë –≤ –º–µ—Ç–æ–¥–µ `ConcurrentHashMap.compute()` –≤–Ω—É—Ç—Ä–∏ OngoingMatchesService. –¢–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å—Ç–∞–Ω–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á—ë—Ç–∞.

### MatchScoreCalculationService
- —É –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `int ONE = 1;` –º–∞–ª–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –∏–º—è –∏ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –æ–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è "–º–∞–≥–∏—á–µ—Å–∫–∏–º" –∏ –Ω–µ –æ–±—ä—è—Å–Ω—è–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —á–∏—Å–ª–∞. –°—Ç–æ–∏—Ç –¥–∞—Ç—å –µ–π –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, `POINT_INCREMENT` –∏–ª–∏ `SET_INCREMENT`.
- –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ (`playerOneSets == 2 || playerTwoSets == 2`) –∏–∑ –º–µ—Ç–æ–¥–∞ `isFinished()` —Ç–æ–∂–µ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –Ω–∞–ø—Ä–∏–º–µ—Ä `SETS_TO_WIN_MATCH`.
- –∫–ª–∞—Å—Å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–Ω–∞–µ—Ç –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ ScoreModel, –∞ —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É —Å—Ç–∏–ª—é, –Ω–µ–∂–µ–ª–∏ –û–û–ü –ø–æ–¥—Ö–æ–¥—É
- —Ö–æ—Ç—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—á—ë—Ç–∞ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –ª–æ–≥–∏–∫–∞ –≤ –Ω–∏—Ö –æ—Å—Ç–∞—ë—Ç—Å—è –≤–µ—Ç–≤–∏—Å—Ç–æ–π, –∑–∞–ø—É—Ç–∞–Ω–Ω–æ–π –∏ –º–µ—Å—Ç–∞–º–∏ —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞–µ–º–æ–π.
- –í–æ –º–Ω–æ–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —à–∞–±–ª–æ–Ω
```java
if (playerOneWon) {
    // ...
} else {
    // ...
}
```
—ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –ª–æ–≥–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞.
- –í –º–µ—Ç–æ–¥–∞—Ö `advancePlayerOnePoint()` –∏ `advancePlayerTwoPoint()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `playerNumberPoint.ordinal() < Point.FORTY.ordinal()`. –≠—Ç–æ –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞, —Ç–∞–∫ –∫–∞–∫ –ª–æ–≥–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ `enum`. –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤ `Point` —Å–ª–æ–º–∞–µ—Ç –ø–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤. –¢–µ–∫—É—â–µ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä—è–º–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `playerTwoPoint != Point.FORTY`.
- –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—á–∞–ª–∞ —Ç–∞–π-–±—Ä–µ–π–∫–∞ "—Ä–∞–∑–º–∞–∑–∞–Ω–∞" –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –º–µ—Ç–æ–¥–∞–º, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–∞–π-–±—Ä–µ–π–∫. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ç–∞–π-–±—Ä–µ–π–∫ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –Ω–∞—á–∞–ª–µ –∏ —á—ë—Ç–∫–æ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∏–±–æ –ø–æ –ø—É—Ç–∏ –æ–±—ã—á–Ω–æ–≥–æ –≥–µ–π–º–∞, –ª–∏–±–æ –ø–æ –ø—É—Ç–∏ —Ç–∞–π-–±—Ä–µ–π–∫–∞.
- ‚ùóÔ∏è–º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –∏–º–µ—é—Ç –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (side effects) –∏ –Ω–∞—Ä—É—à–∞—é—Ç –ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–µ–≥–æ —É–¥–∏–≤–ª–µ–Ω–∏—è (Principle of Least Astonishment).

  –ù–∞–ø—Ä–∏–º–µ—Ä –º–µ—Ç–æ–¥ `checkTieBreakWin()`:
    - –ò–º—è –º–µ—Ç–æ–¥–∞ ‚Äî `checkTieBreakWin` ("–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–±–µ–¥—É –≤ —Ç–∞–π-–±—Ä–µ–π–∫–µ"). –¢–∞–∫–æ–µ –∏–º—è-–≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏–º—è-–ø—Ä–æ–≤–µ—Ä–∫–∞ (check, is, has) –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, boolean (–µ—â—ë –≤–æ–∑–º–æ–∂–Ω–æ –±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ). –¢–æ –µ—Å—Ç—å, –æ–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ "–∑–∞–ø—Ä–æ—Å".
    - –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî –∏–º–µ–µ—Ç —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è void. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –µ—Å–ª–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –º–µ—Ç–æ–¥ —Å–∞–º –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–∞—Å–∫–∞–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è: –≤—ã–∑—ã–≤–∞–µ—Ç `applyTieBreakWin()` (–∫–æ—Ç–æ—Ä—ã–π –æ—Ç–¥–∞–µ—Ç —Å–µ—Ç –∏–≥—Ä–æ–∫—É –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—á—ë—Ç –≥–µ–π–º–æ–≤) –∏ `endTieBreak()` (–∫–æ—Ç–æ—Ä—ã–π —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—á–∫–∏ —Ç–∞–π-–±—Ä–µ–π–∫–∞ –∏ –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –µ–≥–æ —Ä–µ–∂–∏–º–∞). –¢–æ –µ—Å—Ç—å, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π "–∫–æ–º–∞–Ω–¥—É".

  –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç—å –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –º–µ—Ç–æ–¥, —á—å—ë –∏–º—è –∑–≤—É—á–∏—Ç –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π, –∞–∫—Ç–∏–≤–Ω–æ –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω—è—é—â–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.

  –≠—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ [Command-Query Separation (CQS)](https://martinfowler.com/bliki/CommandQuerySeparation.html), –∫–æ—Ç–æ—Ä—ã–π –≥–ª–∞—Å–∏—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–∏–±–æ
  –∫–æ–º–∞–Ω–¥–æ–π (–≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ), –ª–∏–±–æ –∑–∞–ø—Ä–æ—Å–æ–º (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–µ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ), –Ω–æ –Ω–µ —Ç–µ–º –∏ –¥—Ä—É–≥–∏–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù–∞—Ä—É—à–µ–Ω–∏–µ CQS –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞—Ä—É—à–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–∞ –Ω–∞–∏–º–µ–Ω—å—à–µ–≥–æ —É–¥–∏–≤–ª–µ–Ω–∏—è.

  –ë–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –¥–∏–∑–∞–π–Ω –≤—ã–≥–ª—è–¥–µ–ª –±—ã —Ç–∞–∫:
    - –ú–µ—Ç–æ–¥ `isTieBreakWon()` (–∏–ª–∏ `getTieBreakWinner()`) –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç boolean, –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è—è.
    - –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ, –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã-–∫–æ–º–∞–Ω–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `applySetWin()` –∏ `endTieBreakMode()`.

- ‚ùóÔ∏è—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–ª–∞—Å—Å–æ–≤ –º–æ–¥–µ–ª–µ–π —è–≤–ª—è–µ—Ç—Å—è —Ö—Ä—É–ø–∫–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π ‚Äî —Ç–∞–∫–æ–π –∫–æ–¥ —Å–ª–æ–∂–Ω–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å. –õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –±–æ–≥–∞—Ç—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω—É—Ç—Ä—å —Å–∞–º–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏.

[**–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏**](#reach-anemic-model) <a id="back-3"></a>

### FinishedMatchesPersistenceService
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesController](#forward-5) </div>
- –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `saveMatchToFinishedScoreboard()` –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ `save()` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞
- –≤ –º–µ—Ç–æ–¥–µ `saveMatchToFinishedScoreboard()` –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ winnerId —Å id –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞
```java
if (winnerId == playerOne.getId()) {
    winner = playerOne;
} else {
    winner = playerTwo;
}
```
–ö–æ–¥ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω—ã–º, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞.
- –≤ –º–µ—Ç–æ–¥–µ `saveMatchToFinishedScoreboard()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è MatchEntity –≤–º–µ—Å—Ç–æ —Å–µ—Ç—Ç–µ—Ä–æ–≤
```java
MatchEntity matchEntity = new MatchEntity();
matchEntity.setPlayerOne(playerOne);
matchEntity.setPlayerTwo(playerTwo);
matchEntity.setWinner(winner);
```
–ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ä–∞–∑—É –≤ –≤–∞–ª–∏–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –∞ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Å–µ—Ç—Ç–µ—Ä–æ–≤ –≤ Entity.
- –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ `Objects.requireNonNull(matchDao)` –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DAO, –º–æ–∂–Ω–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–æ–º—É, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [HiberPlayerDao](#hiberplayerdao) <a id="forward-3"></a>
- –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `getPageOfMatches()` –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ `getMatches()` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞
- –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –º–µ—Ç–æ–¥–∞ `getPageOfMatches()` –º–æ–∂–Ω–æ –¥–∞—Ç—å —á—É—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∏–º–µ–Ω–∞:

`int page` ‚Äî> `int pageNumber`

`String searchRequest` ‚Äî> `String filter`

- –±–ª–æ–∫–∏ –∫–æ–¥–∞ –≤–∏–¥–∞:
```java
if (!searchRequest.isBlank()) {
    matchEntities = Objects.requireNonNull(matchDao).findBySimilarNameWithSettings(pageSize, offset, searchRequest);
} else {
    matchEntities = Objects.requireNonNull(matchDao).findAllWithSettings(pageSize, offset);
}
return matchEntities;
```
–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å –±–æ–ª–µ–µ –ø–ª–æ—Å–∫–∏–º–∏ –∏ —á–∏—Ç–∞–µ–º—ã–º–∏:
```java
if (!searchRequest.isBlank()) {
    return Objects.requireNonNull(matchDao).findBySimilarNameWithSettings(pageSize, offset, searchRequest);
}
return Objects.requireNonNull(matchDao).findAllWithSettings(pageSize, offset);
```
- ‚ùóÔ∏è–º–µ—Ç–æ–¥ `getTotalPages()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤—Å–µ—Ö –º–∞—Ç—á–µ–π –∏–∑ –ë–î —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ. –ï—Å–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á –∏–ª–∏ –º–∏–ª–ª–∏–æ–Ω—ã –º–∞—Ç—á–µ–π, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ–≥—Ä–æ–º–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ç–µ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã. –ê —Ç–∞–∫–∂–µ –ø—Ä–∏ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å—á–µ—Ä–ø–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å, –ø—ã—Ç–∞—è—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ `MatchEntity` –æ–±—ä–µ–∫—Ç—ã –≤ –ø–∞–º—è—Ç—å.

  –†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –≤ `MatchDao` –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∞–º–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ –∑–¥–µ—Å—å. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.

## Controller
- –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ value –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@WebServlet` –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ:

  `@WebServlet(value = "/path")` ‚Äî> `@WebServlet("/path")`

### IndexController
- –∫–ª–∞—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è IndexController, –Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Ç—å `/home` ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—É—Ç—å `/index`

### MatchScoreController
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesController 1](#matchescontroller) </div>
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ MatchesController 2](#forward-4) </div>
- –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º —Å—Ç–æ–∏—Ç –¥–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã:

  `UUID` ‚Äî> `UUID_PARAM`

  `WINNER_ID` ‚Äî> `WINNER_ID_PARAM`

  `WINNER_NAME` ‚Äî> `WINNER_NAME_ATTR`

  `PLAYER_ONE` ‚Äî> `PLAYER_ONE_ATTR`

  `PLAYER_TWO` ‚Äî> `PLAYER_TWO_ATTR`

  `SCORE` ‚Äî> `SCORE_ATTR`

  `MATCH_FINISHED` ‚Äî> `MATCH_FINISHED_ATTR` (–ª—É—á—à–µ `FINISHED_MATCH_ATTR`)

–≠—Ç–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è (`_PARAM`, `_ATTR` –∏–ª–∏ `_PARAMETER` –∫–∞–∫ –≤ NewMatchController) –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ —Å—Ä–∞–∑—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ, –≥–¥–µ
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∂–¥–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞.

- –•–æ—Ä–æ—à–æ, —á—Ç–æ —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º —Å–ª–æ–µ–º, –Ω–æ —Å–µ–π—á–∞—Å –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 4-–º—è —Å–µ—Ä–≤–∏—Å–∞–º–∏:
```java
@Inject
private OngoingMatchesService ongoingMatchesService;
@Inject
private MatchScoreCalculationService matchScoreCalculationService;
@Inject
private PlayerService playerService;
@Inject
private FinishedMatchesPersistenceService finishedMatchesPersistenceService;
```
–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –≤—Å—é –ª–æ–≥–∏–∫—É –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é, –ø—Ä–æ–≤–µ—Ä–∫–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –º–∞—Ç—á–∞. –≠—Ç–æ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ. –ò–¥–µ–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –¥–ª—è –Ω–µ–≥–æ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, OngoingMatchesService) ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–º—É –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –æ—Ç–¥–∞—Ç—å –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. –ê –ª–æ–≥–∏–∫–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ç—á–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î –ø—É—Å—Ç—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π. –¢–∞–∫–æ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä "—Ç–æ–Ω–∫–∏–º" –∏ –µ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ–π –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–∑–∞–ø—Ä–æ—Å–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É —Å–ª–æ—é.

[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω: "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (Fat Controller)](#fat-controller) <a id="back-4"></a>

- –≤ –æ–±–æ–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤:
```java
@Override
protected void doRequest(HttpServletRequest request, HttpServletResponse response) {
    // ...
    request.setAttribute(PLAYER_ONE, matchScoreModel.playerOne());
    request.setAttribute(PLAYER_TWO, matchScoreModel.playerTwo());
    request.setAttribute(SCORE, matchScoreModel.score());
    request.setAttribute(UUID, uuid);
    // ...
}
```
–∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ, –µ—Å–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –µ—ë –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:
```java
@Override
protected void doRequest(HttpServletRequest request, HttpServletResponse response) {
    // ...
    putMatchAttributes(matchScoreModel, uuid, request);
    // ...
}

private void putMatchAttributes(MatchScoreModel matchScoreModel, String uuid, HttpServletRequest request) {
    request.setAttribute(PLAYER_ONE, matchScoreModel.playerOne());
    request.setAttribute(PLAYER_TWO, matchScoreModel.playerTwo());
    request.setAttribute(SCORE, matchScoreModel.score());
    request.setAttribute(UUID, uuid);
}
```
- –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –º–∞—Ç—á–µ –ø–æ —á–∞—Å—Ç—è–º
```java
request.setAttribute(PLAYER_ONE, matchScoreModel.playerOne());
request.setAttribute(PLAYER_TWO, matchScoreModel.playerTwo());
request.setAttribute(SCORE, matchScoreModel.score());
request.setAttribute(UUID, uuid);
```
–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–π:
```java
public record MatchDto(
        UUID id,
        String firstPlayerName,
        String secondPlayerName,
        ScoreDto firstPlayerScore,
        ScoreDto secondPlayerScore,
        String winnerName,
        boolean finished
) {
}
```
–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ JSP –µ–≥–æ –≤ —Ç–∞–∫–æ–º –¥—É—Ö–µ:
```java
MatchDto matchDto = ongoingMatchesService.updateMatchScore(matchRequestDto);
request.setAttribute(MATCH_FINISHED, matchDto);
```
- –±—É–¥–µ—Ç —É–º–µ—Å—Ç–Ω—ã–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å id –º–∞—Ç—á–∞ –≤ —Å–µ—Ä–≤–ª–µ—Ç–µ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ —Å–ª–æ–π —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–µ —Å—Ç—Ä–æ–∫—É, –∞ –æ–±—ä–µ–∫—Ç UUID.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```java
@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response) {
    UUID matchId = getValidId(request);

    // ...
}

private UUID getValidId(HttpServletRequest request) {
    String uuidParamValue = request.getParameter(UUID_PARAM);
    CustomUUIDValidator.validate(uuidParamValue);
    return UUID.fromString(uuidParamValue);
}
```
- –≤ –º–µ—Ç–æ–¥–µ `doPost()` –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NumberFormatException –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `Integer.parseInt(request.getParameter(WINNER_ID))`. –ü–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–µ–ª –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç –≤ `try-catch` –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã.
- ‚ùóÔ∏è–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è JPA —Å—É—â–Ω–æ—Å—Ç–∏ (PlayerEntity –≤ MatchScoreModel). –ü–µ—Ä–µ–¥–∞—á–∞ Entity –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JSP –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —ç—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DTO (Data Transfer Object) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. DTO –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è.
- ‚ùóÔ∏è—Å–µ–π—á–∞—Å –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –µ—â—ë –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –≤ –ë–î, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∏ –æ—Ç–¥–∞—Ç—å –≤ JSP –µ–≥–æ –∏–º—è:

–∫–æ–¥:
```java
if (matchScoreCalculationService.isFinished(matchScoreModel)) {
    // ...
    finishedMatchesPersistenceService.saveMatchToFinishedScoreboard(matchScoreModel, winnerId); // —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–∞

    // ...
    request.setAttribute(WINNER_NAME, playerService.getPlayerById(winnerId).getName()); // –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
}
```
–∑–∞–ø—Ä–æ—Å—ã –≤ –ë–î:
```sqlite-sql
-- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç—á–∞
[Hibernate] 
    insert 
    into
        matches
        (player1_id, player2_id, winner_id, id) 
    values
        (?, ?, ?, ?)

-- –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
```
–≠—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ. –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏–º—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –º–∞—Ç—á–∞ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π DTO, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –≤ JSP. –°–æ–∑–¥–∞—Ç—å —Ç–∞–∫–æ–π DTO —Å –∏–º–µ–Ω–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è (–∏ –¥—Ä—É–≥–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π) —Å–ª–µ–¥—É–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞.

### MatchesController
- –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º —Å—Ç–æ–∏—Ç –¥–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã (–ø–æ –ø—Ä–∏–º–µ—Ä—É, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ —Ä–∞–∑–¥–µ–ª–µ [MatchScoreController](#matchscorecontroller))
- —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç Optional —Ç–æ–ª—å–∫–æ —Ä–∞–¥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null
```java
String filterByPlayerName = Optional.ofNullable(request.getParameter(FILTER_BY_PLAYER_NAME))
        .orElse("");
```
—è–≤–ª—è–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º.

Optional —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ –º–µ—Ç–æ–¥–æ–≤, —á—Ç–æ–±—ã —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –µ–≥–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null —Å–æ–∑–¥–∞–µ—Ç –ª–∏—à–Ω–∏–π –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ (heap) —Ç–∞–º, –≥–¥–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ—Ä–Ω–∞—Ä–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.

–ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ, —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —á–∞—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω–µ–µ:
```java
String filterValue = request.getParameter(FILTER_BY_PLAYER_NAME);
String filterByPlayerName = (filterValue != null) ? filterValue : "";
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Optional –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–∞–≤–¥–∞–Ω–æ, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ü–µ–ø–æ—á–∫–∞ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.map(String::trim).filter(s -> !s.isEmpty())`). –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Optional –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ –ª–∏–Ω–µ–π–Ω—ã–º.

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –∑–∞–º–µ–Ω–∞ null –Ω–∞ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ `Objects.requireNonNullElse(val, "")`.

- –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NumberFormatException –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `Integer::parseInt`
```java
int page = Optional.ofNullable(request.getParameter(PAGE))
        .map(Integer::parseInt)
        .orElse(1);
```
–ü–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–µ–ª –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç –≤ `try-catch` –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã.
- –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `int pageSize = PAGE_SIZE;` –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –º–µ—Ç–æ–¥—ã —Å–∞–º—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
- –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—á–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
```java
request.setAttribute(PAGE, page);
request.setAttribute(FILTER_BY_PLAYER_NAME, filterByPlayerName);
request.setAttribute(TOTAL_PAGES, totalPages);
request.setAttribute(MATCHES, pageOfMatches);
```
–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π DTO –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–≥–æ —Ü–µ–ª–∏–∫–æ–º (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ [MatchScoreController](#matchscorecontroller)) <a id="forward-4"></a>
- ‚ùóÔ∏è–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è JPA —Å—É—â–Ω–æ—Å—Ç–∏ (`List<MatchEntity>`). –ü–µ—Ä–µ–¥–∞—á–∞ Entity –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JSP –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —ç—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DTO (Data Transfer Object) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. DTO –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è.
- ‚ùóÔ∏è–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤:
```java
List<MatchEntity> pageOfMatches = finishedMatchesPersistenceService.getPageOfMatches(page, pageSize, filterByPlayerName);
int totalPages = finishedMatchesPersistenceService.getTotalPages(pageSize);
```
–ø–æ—Ä–æ–∂–¥–∞–µ—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ª–∏—à–Ω—é—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–≤—É–º—è –º–∞—Ç—á–∞–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç 10 –∑–∞–ø—Ä–æ—Å–æ–≤
```sqlite-sql
-- –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π
[Hibernate] 
    select
        me1_0.id,
        me1_0.player1_id,
        me1_0.player2_id,
        me1_0.winner_id 
    from
        matches me1_0 
    order by
        me1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only

-- –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏–∑ –∫–∞–¥–∂–æ–≥–æ –º–∞—Ç—á–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?

-- –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–∞—Ç—á–µ–π (—á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
[Hibernate] 
    select
        me1_0.id,
        me1_0.player1_id,
        me1_0.player2_id,
        me1_0.winner_id 
    from
        matches me1_0 
    order by
        me1_0.id

-- –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ç—á–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º (—Ç.–∫. –≤ @ManyToOne —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é = FetchType.EAGER)
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
[Hibernate] 
    select
        pe1_0.id,
        pe1_0.name 
    from
        players pe1_0 
    where
        pe1_0.id=?
```
–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –Ω–∞–¥–æ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø—Ä–æ–±–ª–µ–º—ã N+1 (–æ–ø–∏—Å–∞–Ω–Ω–æ–π –≤ —Ä–∞–∑–¥–µ–ª–µ [HiberMatchDao](#hibermatchdao)) –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Ç—á–µ–π (–æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [FinishedMatchesPersistenceService](#finishedmatchespersistenceservice)). <a id="forward-5"></a>

## Util
### HibernateUtil
<div align="right">

[–ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –≤ Beans.xml](#forward-6) </div>
- –î–ª—è —É—Ç–∏–ª–∏—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ (–µ—Å–ª–∏ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –∑–∞–¥—É–º—ã–≤–∞–ª—Å—è —Ç–∞–∫–∏–º), –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.
- –∫–ª–∞—Å—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º (—Ö–æ—Ç—è –æ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥, –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞ SessionFactory), –∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –±–∏–Ω–æ–≤ (producer) –≤ CDI, –ø–æ—ç—Ç–æ–º—É –±—É–¥–µ—Ç —É–º–µ—Å—Ç–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–∞–∫–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä `config` –∏–ª–∏ `infrastructure`), –æ—Ç—Ä–∞–∂–∞—é—â–∏–π –µ–≥–æ —Ä–æ–ª—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- ‚ùóÔ∏è–∫–ª–∞—Å—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `SessionFactory` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `SessionFactory` –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥-–ø—Ä–æ–¥—é—Å–µ—Ä CDI (`@Produces`) –¥–ª—è –µ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π. `SessionFactory` ‚Äî —ç—Ç–æ —Ç—è–∂–µ–ª–æ–≤–µ—Å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î –∏ –∫—ç—à–µ–º –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è. –ï–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–æ–ª–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è `SessionFactory` (–≤—ã–∑–æ–≤–∞ `sessionFactory.close()`) –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–∞–º —Ä–µ—Å—É—Ä—Å–æ–≤.

<details>

<summary><b>üí° –ù–µ–º–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Ç–∞–∫ üí°</b></summary>

---

–¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Disposes` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ—Ç–æ–¥–∞ `closeSessionFactory()` –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ–ª–µ–º/–º–µ—Ç–æ–¥–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è)
```java
private void closeSessionFactory(@Disposes SessionFactory sessionFactory) {
    if (sessionFactory != null) {
        sessionFactory.close();
    }
}
```

---

</details>


- –ú–µ—Ç–æ–¥—ã-–ø—Ä–æ–¥—é—Å–µ—Ä—ã (–º–µ—Ç–æ–¥—ã `produceSessionFactory()` —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Produces`) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–µ—Ç–æ–¥–∞–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤ –∫–ª–∞—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º —è–≤–ª—è–µ—Ç—Å—è CDI-–±–∏–Ω–æ–º. –•–æ—Ç—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ CDI –º–æ–≥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã-–ø—Ä–æ–¥—é—Å–µ—Ä—ã, —ç—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–º –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
- –ë–æ–ª–µ–µ —É–¥–∞—á–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –±—ã–ª–æ –±—ã —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–æ–º-–ø—Ä–æ–¥—é—Å–µ—Ä–æ–º —Ç–æ–∂–µ –±–∏–Ω–æ–º. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–æ–ª–µ–µ —á–∏—Å—Ç–æ–π, –Ω–∞–¥–µ–∂–Ω–æ–π –∏ –±–æ–ª–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Java.

<details>

<summary><b>üí° –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π üí°</b></summary>

---

### SessionFactoryProducer

–ï—Å–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–µ—Å—Å–∏–π –æ—Å—Ç–∞—ë—Ç—Å—è –≤ DAO.

#### –í–∞—Ä–∏–∞–Ω—Ç 1

```java
@ApplicationScoped
public class SessionFactoryProducer {
    private SessionFactory sessionFactory;

    @PostConstruct
    private void init() {
        try {
            sessionFactory = new Configuration().configure().buildSessionFactory();
        } catch (Throwable ex) {
            throw new ExceptionInInitializerError(ex);
        }
    }

    @Produces
    public SessionFactory getSessionFactory() {
        return sessionFactory;
    }

    @PreDestroy
    private void cleanup() {
        if (sessionFactory != null && sessionFactory.isOpen()) {
            sessionFactory.close();
        }
    }
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2

```java
@ApplicationScoped
public class SessionFactoryProducer {
    @Produces
    @ApplicationScoped
    private SessionFactory getSessionFactory() {
        try {
            return new Configuration().configure().buildSessionFactory();
        } catch (Throwable ex) {
            throw new ExceptionInInitializerError(ex);
        }
    }

    private void cleanup(@Disposes SessionFactory sessionFactory) {
        if (sessionFactory != null && sessionFactory.isOpen()) {
            sessionFactory.close();
        }
    }
}
```

–í –æ–±–æ–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö CDI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç `SessionFactory`. –û–Ω —Å–æ–∑–¥–∞—Å—Ç –µ—ë –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä–æ–µ—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ `@Disposes` –º–µ—Ç–æ–¥–∞ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ. –í—Å—è –ª–æ–≥–∏–∫–∞ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—é `SessionFactory` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–º –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–µ. –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–º –¥–ª—è Jakarta EE –∏ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Dependency Injection.

### SessionProducer

–í –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –∫–ª–∞—Å—Å—É SessionFactoryProducer –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—é—Å–µ—Ä–∞ –¥–ª—è —Å–µ—Å—Å–∏–π.

#### –í–∞—Ä–∏–∞–Ω—Ç 1

–ü—Ä–æ—Å—Ç–æ–≥–æ

```java
@ApplicationScoped
public class SessionProducer {
    private final SessionFactory sessionFactory;

    @Inject
    public SessionProducer(SessionFactory sessionFactory) {
        this.sessionFactory = sessionFactory;
    }

    @Produces
    @RequestScoped
    private Session produce() {
        return sessionFactory.openSession();
    }

    private void closeSession(@Disposes Session session) {
        try {
            session.close();
        } catch (HibernateException e) {
            throw new RuntimeException(e);
        }
    }
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2

–ò–ª–∏ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

```java
@ApplicationScoped
public class TransactionalSessionProducer {
    private final SessionFactory sessionFactory;

    @Inject
    public TransactionalSessionProducer(SessionFactory sessionFactory) {
        this.sessionFactory = sessionFactory;
    }

    @Produces
    @RequestScoped
    private Session produce() {
        Session session = sessionFactory.openSession();
        session.beginTransaction();
        return session;
    }

    private void closeSession(@Disposes Session session) {
        Transaction transaction = null;
        try {
            transaction = session.getTransaction();
            if (transaction != null && transaction.isActive()) {
                transaction.commit();
            }
            session.close();
        } catch (Exception e) {
            safeRollback(transaction, e);
            throw e;
        }
    }

    private void safeRollback(Transaction transaction, Exception originEx) {
        if (transaction != null && transaction.isActive()) {
            try {
                transaction.rollback();
            } catch (Exception rollbackEx) {
                originEx.addSuppressed(rollbackEx);
            }
        }
    }
}
```

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–æ–≤ DAO –±–æ–ª–µ–µ —á—ë—Ç–∫–æ–π (–æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î).
```java
@ApplicationScoped
public class HiberSessionPlayerDao implements PlayerDao {
    private static final String SELECT_ALL_HQL = """
            FROM PlayerEntity p
            """;
    private static final String FILTER_BY_NAME_HQL = """
            WHERE p.name = :name""";
    private static final String FILTER_BY_ID_HQL = """
            WHERE p.id = :id
            """;
    private static final String FIND_BY_NAME_HQL = 
            SELECT_ALL_HQL + 
            FILTER_BY_NAME_HQL;
    private static final String FIND_BY_ID_HQL = 
            SELECT_ALL_HQL + 
            FILTER_BY_ID_HQL;
    private final Session session;

    @Inject
    public HiberSessionPlayerDao(Session session) {
        this.session = session;
    }

    @Override
    public void save(PlayerEntity playerEntity) {
        session.persist(playerEntity);
    }

    @Override
    public Optional<PlayerEntity> findByName(String name) {
        return session.createQuery(FIND_BY_NAME_HQL, PlayerEntity.class)
                .setParameter("name", name)
                .uniqueResultOptional();
    }

    @Override
    public Optional<PlayerEntity> findById(int id) {
        return session.createQuery(FIND_BY_ID_HQL, PlayerEntity.class)
                .setParameter("id", id)
                .uniqueResultOptional();
    }
}
```

```java
@ApplicationScoped
public class MatchDaoImpl implements MatchDao {
    private static final String SELECT_ALL_HQL = """
            FROM MatchEntity m
            """;
    private static final String FILTER_BY_NAME_HQL = """
            WHERE m.playerOne.name LIKE :name OR m.playerTwo.name LIKE :name
            """;
    private static final String ORDER_HQL = """
            ORDER BY m.id DESC
            """;
    private static final String FIND_BY_PLAYER_NAME_HQL =
            SELECT_ALL_HQL +
            FILTER_BY_NAME_HQL +
            ORDER_HQL;
    private static final String FIND_ALL_HQL =
            SELECT_ALL_HQL +
            ORDER_HQL;

    private final Session session;

    @Inject
    public MatchDaoImpl(Session session) {
        this.session = session;
    }
    
    @Override
    public void save(MatchEntity matchEntity) {
        session.persist(matchEntity);
    }

    @Override
    public List<MatchEntity> findByPlayer(String playerName, int limit, int offset) {
        return session.createQuery(FIND_BY_PLAYER_NAME_HQL, MatchEntity.class)
                .setParameter("name", playerName)
                .setFirstResult(offset)
                .setMaxResults(limit)
                .getResultList();
    }

    @Override
    public List<MatchEntity> findAll(int limit, int offset) {
        return session.createQuery(FIND_ALL_HQL, MatchEntity.class)
                .setFirstResult(offset)
                .setMaxResults(limit)
                .getResultList();
    }
}
```

---

</details>

- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `SessionFactoryProducer` –∏–∑–±–∞–≤–∏—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `bean-discovery-mode="all"` –≤ `beans.xml`

### Validator
- –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –º–æ–∂–Ω–æ –¥–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–∏–µ:

  `Pattern SEARCH_REQUEST` ‚Äî> `Pattern NAME_FILTER_PATTERN`

  `Pattern NAME` ‚Äî> `Pattern PLAYER_NAME_PATTERN`

- —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ `Pattern NAME` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±–æ–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö ‚Äî –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
private static final Pattern SEARCH_REQUEST = Pattern.compile("^\\s*$|^[A-Za-z]{2,20}$");
private static final Pattern NAME = Pattern.compile("^[A-Za-z]{2,20}$");
```
–º–æ–∂–Ω–æ —Ç–∞–∫:
```java
private static final String PLAYER_NAME_REGEXP = "^[A-Za-z]{2,20}$";
private static final Pattern SEARCH_REQUEST = Pattern.compile("^\\s*$|" + PLAYER_NAME_REGEXP);
private static final Pattern NAME = Pattern.compile(PLAYER_NAME_REGEXP);
```
- —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ —á–∏—Ç–∞—é—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –º–µ—Ç–æ–¥—ã java (–∫–æ—Ç–æ—Ä—ã–º, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –¥–∞—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞). –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–µ —É—Å–ª–æ–∂–Ω—è—Ç—å –∏—Ö –∏ –≤–º–µ—Å—Ç–æ `"^\\s*$"` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `String.isBlank()` —Ç–∞–º, –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É –Ω–∞ –ø—É—Å—Ç–æ—Ç—É.

–°–µ–π—á–∞—Å —Ç–∞–∫:
```java
public static boolean isSearchRequestValid(final String name) {
    Matcher matcher = SEARCH_REQUEST.matcher(name);
    return matcher.matches();
}
```
–ª—É—á—à–µ —Ç–∞–∫:
```java
public static boolean isSearchRequestValid(String name) {
    Matcher matcher = NAME.matcher(name);
    return name.isBlank() || matcher.matches();
}
```
- —Å–µ–π—á–∞—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∏–º—ë–Ω –Ω–µ–æ–ø—Ä–∞–≤–¥–∞–Ω–Ω–æ —Å—Ç—Ä–æ–≥–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã. –†–µ–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ —Ñ–∞–º–∏–ª–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–µ—Ñ–∏—Å—ã, –∞–ø–æ—Å—Ç—Ä–æ—Ñ—ã –∏–ª–∏ –ø—Ä–æ–±–µ–ª—ã. –ê —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü—É. –°—Ç–æ–∏—Ç –æ—Å–ª–∞–±–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ `"^[A-Za-z–ê-–Ø–∞-—è'\\-\\s]{2,20}$"`
- –≤—Å–µ –º–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ—Å—Ç—É—é –ª–æ–≥–∏–∫—É –∏ –Ω–µ—Ç —Ä–∏—Å–∫–∞, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥, —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—ä—è–≤–ª—è—Ç—å –∏—Ö final.

## Exceptions
### MatchDoesntExistException
- –Ω–∞–∑–≤–∞–Ω–∏–µ MatchDoesNotExistException –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –∏ –±—É–¥–µ—Ç –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å—Å—è

### PlayerDoesntExistException
- –Ω–∞–∑–≤–∞–Ω–∏–µ PlayerDoesNotExistException –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –∏ –±—É–¥–µ—Ç –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å—Å—è

### ExceptionMessages
- –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ final –ø–æ–ª—è, —Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ "—É–∑–∫—É—é" –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@RequiredArgsConstructor` –≤–º–µ—Å—Ç–æ `@AllArgsConstructor`. –ß—Ç–æ–±—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö non-final –ø–æ–ª–µ–π –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
- –≤ java —É –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π (enum) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@AllArgsConstructor(access = AccessLevel.PRIVATE)`
- `PLAYER_DOES_NOT_EXIST_EXCEPTION` –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ, —á–µ–º `PLAYER_DOESNT_EXIST_EXCEPTION`, –∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å—Å—è
- `MATCH_DOES_NOT_EXIST_EXCEPTION` –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ, —á–µ–º `MATCH_DOESNT_EXIST_EXCEPTION`, –∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å—Å—è
- –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö `ILLEGAL_SEARCH_REQUEST_EXCEPTION` –∏ `ILLEGAL_NAME_EXCEPTION` –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
```java
ILLEGAL_SEARCH_REQUEST_EXCEPTION("Search request is not valid. (Min 2 symbols and max 20 allowed and only English alphabets)"),
ILLEGAL_NAME_EXCEPTION("Invalid name. (Min 2 symbols and max 20 allowed and only English alphabets, and names must be unique)");
```
–í–æ–∑–º–æ–∂–Ω–æ, —Å–∞–º—ã–º —É–º–µ—Å—Ç–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã:
```java
ILLEGAL_SEARCH_REQUEST_EXCEPTION("Search request is not valid. (Min %d symbols and max %d allowed and only English alphabets)"),
ILLEGAL_NAME_EXCEPTION("Invalid name. (Min %d symbols and max %d allowed and only English alphabets, and names must be unique)");
```
–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## Filter
- –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ value –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@WebFilter` –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ:

  `@WebFilter(value = "/new-match")` ‚Äî> `@WebFilter("/new-match")`,

  `@WebFilter(value = "/matches")` ‚Äî> `@WebFilter("/matches")`

- –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `ATTRIBUTE` –≤ –∏–º–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç `String ERROR_MESSAGE` ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç —Ç–æ—á–Ω–µ–µ –æ—Ç—Ä–∞–∂–∞—Ç—å –∏—Ö —Å—É—Ç—å
- –∫–ª–∞—Å—Å—ã `NewMatchFilter` –∏ `MatchesExceptionFilter` –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–±—â–∏–π —Ñ–∏–ª—å—Ç—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏–∑ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### NewMatchFilter
- –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `NewMatchExceptionFilter`, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `MatchesExceptionFilter`

## Beans.xml
- ‚ùóÔ∏è–°–µ–π—á–∞—Å, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–≤–∏–¥–µ—Ç—å HibernateUtil (–∏ –µ–≥–æ –º–µ—Ç–æ–¥-–ø—Ä–æ–¥—é—Å–µ—Ä), –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º
  `bean-discovery-mode="all"`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç CDI –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –∫–ª–∞—Å—Å—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ, —á—Ç–æ –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —á–µ–º `bean-discovery-mode="annotated"` (—Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç CDI —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã, —è–≤–Ω–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –≤—Ä–æ–¥–µ `@ApplicationScoped`, `@RequestScoped` –∏ —Ç.–¥.
  –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –≤ —Ä–∞–∑–¥–µ–ª–µ [HibernateUtil](#hibernateutil) <a id="forward-6"></a> –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `SessionFactoryProducer` –ø–æ–∑–≤–æ–ª–∏—Ç —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –ø–æ—Å–∫–æ–ª—å–∫—É `SessionFactoryProducer` –∏–º–µ–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@ApplicationScoped` –∏ –±—É–¥–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω –¥–∞–∂–µ –≤ —Ä–µ–∂–∏–º–µ `"annotated"`.

## Pom.xml
- –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è record-–∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤ java 16. –ü—Ä–∏ —ç—Ç–æ–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É–∫–∞–∑–∞–Ω–∞ 8 –≤–µ—Ä—Å–∏—è java:
```xml
<maven.compiler.target>8</maven.compiler.target>
<maven.compiler.source>8</maven.compiler.source>
```
—Ç–∞–∫–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (–µ—Å–ª–∏ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –ø–ª–∞–≥–∏–Ω–µ ‚Äî –æ–± —ç—Ç–æ–º –±—É–¥–µ—Ç —Å–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ).

–í —Å–≤–æ–π—Å—Ç–≤–∞—Ö `maven.compiler.target` –∏ `maven.compiler.source` –Ω–∞–¥–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –∫–æ–¥–æ–º –ø—Ä–æ–µ–∫—Ç–∞. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–¥—Ö–æ–¥—è—â–∞—è LTS –≤–µ—Ä—Å–∏—è ‚Äî 17.
- –≤–º–µ—Å—Ç–æ —Å–≤–æ–π—Å—Ç–≤ `maven.compiler.target` –∏ `maven.compiler.source` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ `maven.compiler.release`. `release` –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ `source` + `target`, –Ω–æ —Ç–∞–∫–∂–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö API —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ (–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ "–ø—Ä—è—Ç–∞—Ç—å" –æ—Ç —Å–µ–±—è –≤—Å–µ API, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–∏–ª–∏—Å—å –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ JDK).
- ‚ùóÔ∏è—Ç–∞–∫–∂–µ —Å–µ–π—á–∞—Å –≤–µ—Ä—Å–∏—è java —É–∫–∞–∑–∞–Ω–∞ –≤ –ø–ª–∞–≥–∏–Ω–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <version>${maven-compiler-plugin.version}</version>
    <configuration>
        <release>25</release> <!-- –∑–¥–µ—Å—å -->
        <annotationProcessorPaths>
            <!-- ... -->
        </annotationProcessorPaths>
    </configuration>
</plugin>
```
–•–æ—Ç—è Maven —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥, —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Ç—ã–≤–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–∫.

–Ø–≤–Ω–∞—è **–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ** –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —É–∫–∞–∑–∞–Ω–Ω–∞—è –≤ —Å–µ–∫—Ü–∏–∏ `<properties>` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ–π.

–¢–∞–∫–∂–µ —ç—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —á—Ç–µ–Ω–∏–µ –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å IDE. –ù–∞–ø—Ä–∏–º–µ—Ä, IntelliJ IDEA –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å, –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∏ –º–æ–∂–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø—ã—Ç–∞—è—Å—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º—É (—É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ –ø–ª–∞–≥–∏–Ω–µ) –ø—Ä–∞–≤–∏–ª—É.

–•–æ—Ä–æ—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –±—É–¥–µ—Ç –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ (`<properties>`) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–±—â–∏—Ö –≤–µ—Ä—Å–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø–ª–∞–≥–∏–Ω–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ).

–≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ª—É—á—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∂—ë—Å—Ç–∫–∏–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞–≥–∏–Ω–∞ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∏ "–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã" ([Single Source of Truth](#ssot-principle) <a id="back-5"></a>): –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –≤–µ—Ä—Å–∏–∏ –≤ `<properties>`, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤–µ—Ä—Å–∏–∏ Java –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ.

–í –±–æ–ª—å—à–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ Java (–Ω–∞–ø—Ä–∏–º–µ—Ä, maven-compiler-plugin, maven-javadoc-plugin, –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞). –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∫–∞–∂–¥–æ–º –ø–ª–∞–≥–∏–Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ, –ø—Ä–∏–¥–µ—Ç—Å—è –∏—Å–∫–∞—Ç—å –∏ –º–µ–Ω—è—Ç—å –µ—ë –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ Java. –ò—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–π—Å—Ç–≤–∞ (–≤ –∏–¥–µ–∞–ª–µ ‚Äî —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π), –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫:

```xml
<properties>
<!--    ... -->
    <java.version>17</java.version>
    <maven.compiler.release>${java.version}</maven.compiler.release>
<!--    ... -->
</properties>
```

–±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –µ—ë —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

- –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ —è—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞: —Å–µ–∫—Ü–∏—è `<properties>` –æ–±—ã—á–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `pom.xml` –∏ —Å–ª—É–∂–∏—Ç "–ø–∞–Ω–µ–ª—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞.

–õ—é–±–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–π —Ñ–∞–π–ª, —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∫–ª—é—á–µ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞: –≤–µ—Ä—Å–∏—é Java, –≤–µ—Ä—Å–∏–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (Spring, Hibernate), –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ —Ç–¥. –≠—Ç–æ –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–≥–ª—è–¥–Ω–µ–µ, —á–µ–º –ø—Ä–æ–ª–∏—Å—Ç—ã–≤–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–æ–∏—Å–∫–∞—Ö –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ `<release>25</release>` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞.

- –ì–∏–±–∫–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª—å—à—É—é –≥–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ —Å–±–æ—Ä–∫–µ.

–ò–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–æ–¥ –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–µ–π Java –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `pom.xml` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏). –ò—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–π—Å—Ç–≤–∞, –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (—Ç–µ—Ä–º–∏–Ω–∞–ª).

–ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –±—É–¥–µ—Ç –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ `<configuration>` –ø–ª–∞–≥–∏–Ω–∞, —ç—Ç–æ—Ç –ø—Ä–∏—ë–º –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –ø—Ä–∏–¥—ë—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø—Ä–∞–≤–∏—Ç—å XML-—Ñ–∞–π–ª.

<details>

<summary><b>–ù–∞–≥–ª—è–¥–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è –≤ —ç—Ç–æ–º –º–æ–∂–Ω–æ —Ç–∞–∫</b></summary>

---

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ 21 –≤–µ—Ä—Å–∏—è Java.

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ `pom.xml`
–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–¥–º–µ–Ω–∞ –≤–µ—Ä—Å–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ `pom.xml` –∏ —É–∫–∞–∑–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â—É—é LTS –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî `17`:

```xml
<properties>
    <!--    ... -->
    <java.version>17</java.version>
    <maven.compiler.release>${java.version}</maven.compiler.release>
    <!--    ... -->
</properties>
```

–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <version>${maven-compiler-plugin.version}</version>
    <configuration>
<!--        <release>21</release>-->
<!--        ... -->
    </configuration>
</plugin>
```

#### –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∏–∑ `pom.xml`

–ó–∞–ø—É—Å—Ç–∏–≤ —Å–±–æ—Ä–∫—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π, —É–≤–∏–¥–∏–º:

```bash
$ mvn clean install
# ...
[INFO] --- maven-compiler-plugin:3.14.1:compile (default-compile) @ tennis-scoreboard ---
# ...
[INFO] Compiling 27 source files with javac [debug release 17] to target/classes
# ...
[INFO] --- maven-compiler-plugin:3.14.1:testCompile (default-testCompile) @ tennis-scoreboard ---
# ...
[INFO] Compiling 1 source file with javac [debug release 17] to target/test-classes
# ...
```

–°—Ç–æ–∫–∏ —Å `[debug release 17]` –≤ –ª–æ–≥–∞—Ö —É–∫–∞–∑—ã–≤–∞—é—Ç, –¥–ª—è –∫–∞–∫–æ–π –≤–µ—Ä—Å–∏–∏ Java –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∫–æ–¥ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤–µ—Ä—Å–∏—è, –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ `<properties>`.

#### –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ —Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–ó–∞–ø—É—Å—Ç–∏–º —Å–±–æ—Ä–∫—É –µ—â—ë —Ä–∞–∑ –∏ –ø–µ—Ä–µ–¥–∞–¥–∏–º –≤–µ—Ä—Å–∏—é –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `java.version` —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `-D`, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π, —á—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:

```bash
$ mvn clean install -Djava.version=21
# ...
[INFO] --- maven-compiler-plugin:3.14.1:compile (default-compile) @ tennis-scoreboard ---
# ...
[INFO] Compiling 27 source files with javac [debug release 21] to target/classes
# ...
[INFO] --- maven-compiler-plugin:3.14.1:testCompile (default-testCompile) @ tennis-scoreboard ---
# ...
[INFO] Compiling 1 source file with javac [debug release 21] to target/test-classes
# ...
```

–°—Ç–æ–∫–∏ —Å `[debug release 21]` –≤ –ª–æ–≥–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤–µ—Ä—Å–∏—è, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è –≤ –∫–æ–º–∞–Ω–¥–µ —Å–±–æ—Ä–∫–∏.

> –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ª—é–±—É—é –≤–µ—Ä—Å–∏—é Java –æ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–ª—è —É—Ä–æ–≤–Ω—è —è–∑—ã–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ, –¥–æ –≤–µ—Ä—Å–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ JDK.

> –ï—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π Java, —Ç–æ –≤—ã–±—Ä–∞—Ç—å –∫–∞–∫—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–Ω–∞ –≤—Ä–µ–º—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã) –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `JAVA_HOME`.
> –í–æ—Ç —Ç–∞–∫:
> ```bash
> $ JAVA_HOME=/path/to/Java/JavaVirtualMachines/[jdk-version]/Contents/Home mvn clean install -Djava.version=21
> ```

#### –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ —Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞

–¢–µ–ø–µ—Ä—å —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ (–∏ –ø–æ–º–µ–Ω—è–µ–º –µ—ë –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –Ω–∞ `19`)
```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <version>${maven-compiler-plugin.version}</version>
    <configuration>
        <release>19</release>
<!--        ... -->
    </configuration>
</plugin>
```

–°–µ–π—á–∞—Å –≤ `pom.xml` —É–∫–∞–∑–∞–Ω—ã –¥–≤–µ –≤–µ—Ä—Å–∏–∏: `17` ‚Äî –≤ `<properties>` –∏ `19` ‚Äî –≤ `<plugin><configuration>`, –∞ —Ç—Ä–µ—Ç—å—é ‚Äî `21` –ø–µ—Ä–µ–¥–∞–¥–∏–º —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É —Å–±–æ—Ä–∫–∏.

–ó–∞–ø—É—Å—Ç–∏–º —Å–±–æ—Ä–∫—É –∏ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞—á–∞ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è `java.version` –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–∞–∫ –∏ –≤–µ—Ä—Å–∏—è, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `pom.xml`

```bash
$ mvn clean install -Djava.version=21
# ...
[INFO] --- maven-compiler-plugin:3.14.1:compile (default-compile) @ tennis-scoreboard ---
# ...
[INFO] Compiling 27 source files with javac [debug release 19] to target/classes
# ...
[INFO] --- maven-compiler-plugin:3.14.1:testCompile (default-testCompile) @ tennis-scoreboard ---
# ...
[INFO] Compiling 1 source file with javac [debug release 19] to target/test-classes
# ...
```

–°—Ç–æ–∫–∏ —Å `[debug release 19]` –≤ –ª–æ–≥–∞—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç, —á—Ç–æ –≤–µ—Ä—Å–∏—è, —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω–∞—è –≤ –ø–ª–∞–≥–∏–Ω–µ, –ø–µ—Ä–µ–±–∏–≤–∞–µ—Ç –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

</details>

- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `org.glassfish.expressly`, `org.hibernate.validator` –∏ `org.mapstruct` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ ‚Äî –º–æ–∂–Ω–æ –∏—Ö —É–¥–∞–ª–∏—Ç—å

## –í —Ü–µ–ª–æ–º –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- –ë–∏–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏ `@SessionScoped`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `@ApplicationScoped` –∏–ª–∏ –¥–∏–∞–ª–æ–≥–∞ `@ConversationScoped`, [–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–º–∏](https://jakarta.ee/learn/docs/jakartaee-tutorial/current/cdi/cdi-basic/cdi-basic008.html). –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–æ–±–ª–µ–º —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º Serializable –±—ã—Ç—å –Ω–µ –¥–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

<details>

<summary><b>–í–æ—Ç –ø–æ—á–µ–º—É</b></summary>

---

–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º–æ—Å—Ç–∏ –¥–ª—è –±–∏–Ω–æ–≤ —Å –æ–±–ª–∞—Å—Ç—å—é –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏ (session), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (application) –∏ –¥–∏–∞–ª–æ–≥–∞ (conversation) –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π) –º–æ–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π:

- –ü–∞—Å—Å–∏–≤–∞—Ü–∏–∏ (passivation) ‚Äî –≤—ã–≥—Ä—É–∑–∫–∏ –±–∏–Ω–∞ –∏–∑ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –Ω–∞ –¥–∏—Å–∫.

- –†–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (replication) ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∏–Ω–∞ –Ω–∞ –¥—Ä—É–≥–æ–π —É–∑–µ–ª –∫–ª–∞—Å—Ç–µ—Ä–∞.

–î–ª—è –±–∏–Ω–æ–≤ –æ–±–ª–∞—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ (request) —Ç–∞–∫–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö –∂–∏–∑–Ω—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞, –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Ö —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å.

#### –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

–í –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º enterprise-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∞–∂–Ω—ã:

- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è: –î–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö (–Ω–æ–¥–∞—Ö) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–µ–∞–Ω—Å (session) –º–æ–∂–µ—Ç "–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å" –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –ø–∞–¥–∞–µ—Ç, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥—Ä—É–≥–æ–π, –∏ –µ–≥–æ —Å–µ—Å—Å–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏: –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–≥—Ä—É–∂–∞—Ç—å ("–ø–∞—Å—Å–∏–≤–∏—Ä–æ–≤–∞—Ç—å") –¥–∞–≤–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–µ—Å—Å–∏–∏ –Ω–∞ –¥–∏—Å–∫, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å.

–í—Å–µ —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç, —á—Ç–æ–±—ã —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ø–æ—Ç–æ–∫ –±–∞–π—Ç–æ–≤ (—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å), —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å (–Ω–∞ –¥–∏—Å–∫ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ —Å–µ—Ç–∏), –∞ –∑–∞—Ç–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å) –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ –∏–ª–∏ –≤ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è.

#### –ü–æ—á–µ–º—É —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫ —Ä–∞–∑–Ω—ã–º –æ–±–ª–∞—Å—Ç—è–º –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–Ω–æ–µ?

`@RequestScoped`: –ñ–∏–≤—É—Ç –æ—Ç –æ–¥–Ω–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–Ω–∏ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –Ω–µ –Ω—É–∂–Ω–æ –∏—Ö —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å, –ø–æ—ç—Ç–æ–º—É —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º–æ—Å—Ç—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

`@SessionScoped`: –ú–æ–≥—É—Ç –∂–∏—Ç—å —á–∞—Å—ã –∏–ª–∏ –¥–Ω–∏ (–ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω). –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ–±—è–∑–∞–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:

- –ü–∞—Å—Å–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –Ω–∞ –¥–∏—Å–∫, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.

- –†–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é –Ω–æ–¥—É –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.

- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è).

Serializable ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –≥–∞—Ä–∞–Ω—Ç–∏—é, —á—Ç–æ —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

`@ApplicationScoped`: –ñ–∏–≤—É—Ç, –ø–æ–∫–∞ –∂–∏–≤—ë—Ç —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ß–∞—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫—ç—à –∏–ª–∏ –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ/—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (redeploy) –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∏–Ω–∞, —á—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ. –û—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ, –≥–¥–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.

`@ConversationScoped`: –≠—Ç–æ "–¥–ª–∏–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å", –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ —á–∞—Å—Ç—å —Å–µ—Å—Å–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–∞—Å—Å–∏–≤–∏—Ä–æ–≤–∞–Ω–∞, –ø–æ—ç—Ç–æ–º—É —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º–æ—Å—Ç–∏.

#### –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è, –µ—Å–ª–∏ –±–∏–Ω –Ω–µ –±—É–¥–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–º

–ï—Å–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –±–∏–Ω `@SessionScoped`, –Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `Serializable`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ—Å—Ç–æ–π, –Ω–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ). –û–¥–Ω–∞–∫–æ –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Å–∫—Ä—ã—Ç—ã–º –∏ —Ç—è–∂–µ–ª–æ –æ—Ç–ª–∞–≤–ª–∏–≤–∞–µ–º—ã–º –æ—à–∏–±–∫–∞–º:

- –û—à–∏–±–∫–∏ –ø—Ä–∏ –ø–∞—Å—Å–∏–≤–∞—Ü–∏–∏/–∞–∫—Ç–∏–≤–∞—Ü–∏–∏: –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã–≥—Ä—É–∑–∏—Ç—å —Å–µ—Å—Å–∏—é –Ω–∞ –¥–∏—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ NotSerializableException. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:

    - –ê–≤–∞—Ä–∏–π–Ω–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é HTTP-—Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ—Ç–µ—Ä—è –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–∫—É–ø–æ–∫, –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã).

    - –£—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–≥—Ä—É–∂–µ–Ω—ã.

- –°–±–æ–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ: –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é –Ω–∞ –¥—Ä—É–≥—É—é –Ω–æ–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:

    - –ü–æ—Ç–µ—Ä—è–µ—Ç—Å—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–¥–µ—Ç, —Å–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–º —É–∑–ª–µ.

    - –ù–∞—Ä—É—à–∏—Ç—Å—è "sticky sessions" (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å–µ—Å—Å–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä –∫–ª–∞—Å—Ç–µ—Ä–∞): –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏, –ø–æ–ª—É—á–∞—è –æ—à–∏–±–∫–∏.

- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (redeploy): –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —Ç–µ—Ä–ø–µ—Ç—å –Ω–µ—É–¥–∞—á—É.

- –¢—Ä—É–¥–Ω–æ–æ—Ç–ª–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –±–∞–≥–∏: –û—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π, –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ (–∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä —Ä–µ—à–∏—Ç —Å–¥–µ–ª–∞—Ç—å –ø–∞—Å—Å–∏–≤–∞—Ü–∏—é), —á—Ç–æ —Å–∏–ª—å–Ω–æ –æ—Å–ª–æ–∂–Ω—è–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É.

#### –õ—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥

–ï—Å–ª–∏ –±–∏–Ω –∏–º–µ–µ—Ç –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ª—å—à–µ, —á–µ–º –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å (`@SessionScoped`, `@ApplicationScoped`, `@ConversationScoped`), —Å—Ç–æ–∏—Ç –≤—Å–µ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Serializable.

---

</details>

- –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ github –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–π–ª `hibernate.cfg.xml`, —á—Ç–æ —Ö–æ—Ä–æ—à–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Å–æ–∫—Ä—ã—Ç–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–≥–∞–¥—ã–≤–∞—Ç—å—Å—è –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞. –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥—Ä—É–≥–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `hibernate.cfg.xml` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —Å–∫—Ä—ã–≤ –≤ –Ω—ë–º —Ç–æ–ª—å–∫–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –ø–∞–∫–µ—Ç–æ–≤ ‚Äî –æ–¥–Ω–∏ –∏–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ, –¥—Ä—É–≥–∏–µ ‚Äî –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º
- –ò–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ –≤ java –ø–∏—à—É—Ç –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ. –ö–æ–≥–¥–∞ —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ –Ω–∞–±–æ—Ä –∫–ª–∞—Å—Å–æ–≤ –≤ –ø–∞–∫–µ—Ç–µ, –∫–∞–∂–µ—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ, –æ–±–æ–±—â–∞—è —Ç–æ, —á—Ç–æ –≤ –Ω—ë–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –ø–∞–∫–µ—Ç–∞ –≤ –∫–ª–∞—Å—Å–µ –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: `*.validation.limits.annotations.MaxLength` –∏ `*.validation.limit.annotation.MaxLength`, —Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ª–æ–≥–∏—á–Ω—ã–º –∫–∞–∫ –ø–æ–ª–Ω–æ–µ –∏–º—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- ‚ùóÔ∏è–í –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Å–µ—Ä–≤–∏—Å–æ–≤), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞—Ä—É—à–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion). –ë—ã–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –Ω–∏—Ö.

  –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∞ –Ω–µ —Ç–∏–ø –∫–ª–∞—Å—Å–∞ –∏ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç `@NoArgsConstructor(force = true, access = AccessLevel.PROTECTED)` –≤ –∫–∞–∂–¥–æ–º –±–∏–Ω–µ —Å `@ApplicationScoped`. –ü–æ—Å–∫–æ–ª—å–∫—É –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ CDI —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ–∫—Å–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∏ –µ–º—É –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

  –¢–∞–∫–∂–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏.
- ‚ùóÔ∏è–Ω–µ –≤—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ—Ç Hibernate –∏ –ë–î (–∞ —Ç–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—ç—Ç–æ–º—É, –ø—Ä–∏ –ª—é–±–æ–π —Ç–∞–∫–æ–π –æ—à–∏–±–∫–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –°–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –Ω–∏—Ö –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –æ—à–∏–±–∫–∏ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∏–ª—å—Ç—Ä–µ (–∏–ª–∏ –¥—Ä—É–≥–æ–º –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ), —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç, –¥–æ—Å—Ç—É–ø–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—è –æ —Ç–æ–º, —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.

## –î—Ä—É–≥–æ–µ
- —á—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ç—á–µ–π –Ω–∞–¥–æ –≤—Ä—É—á–Ω—É—é –∑–∞–≤–µ—Å—Ç–∏ –º–Ω–æ–≥–æ –º–∞—Ç—á–µ–π. –ò –µ—â—ë –±–æ–ª—å—à–µ ‚Äî —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞. –ü–æ—ç—Ç–æ–º—É –±—ã–ª–æ –±—ã —Ö–æ—Ä–æ—à–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–ª–∏ –¥–µ–ø–ª–æ–µ) –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π –≤ –ë–î.

## –ü–ª—é—Å—ã
- —Ö–æ—Ä–æ—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (Controller -> Service -> DAO)
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CDI –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –±–∏–Ω–æ–≤
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- —Ä–∞–±–æ—Ç–∞—é—â–∞—è –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- —Ö–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å–µ—Å—Å–∏—è–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- —Ö–æ—Ä–æ—à–∏–µ –∫–ª–∞—Å—Å—ã Entity
- —á–∏—Å—Ç—ã–µ JSP –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ —Ñ–∞–π–ª—ã (+ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–∞—Ç—á–∞
- —Å—Ç—Ä–∞–Ω–∏—Ü—ã JSP –ª–µ–∂–∞—Ç –≤ `/WEB-INF`

## –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DTO
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ –ü—Ä–æ–±–ª–µ–º–∞ N+1 –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –ë–î –∏ —Å–ø–æ—Å–æ–±—ã –µ—ë —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ Hibernate Validator
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ MapStruct
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∑–∞–ø–∏—Å–∏ —Å—Ç—Ä–∏–º–æ–≤ –ø–æ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –≤ –û–û–ü (–Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å—Ç—Ä–∏–º –ø–æ –∏–≥—Ä–µ –û—Ä—ë–ª –∏ —Ä–µ—à–∫–∞)
- –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ Idea CE –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–≥–∏–Ω—ã Smart Tomcat –∏–ª–∏ Jetty (–¥–ª—è Maven –ø—Ä–æ–µ–∫—Ç–∞)/Gretty (–¥–ª—è Gradle)

## –°–Ω–æ—Å–∫–∏

<details>

<summary><b>–ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</b></summary>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ ScoreModel](#back-1) </div>
<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ MatchScoreCalculationService](#back-3) </div>

---

### –ê–Ω–µ–º–∏—á–Ω–∞—è vs –ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ <a id="reach-anemic-model"></a>

> **–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å** –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ), —Ç–∞–∫ –∏ –≤—Å—é —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–∏–º–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
>
> **–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å**, –Ω–∞–ø—Ä–æ—Ç–∏–≤, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞ (–¥–∞–Ω–Ω—ã–µ), –∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å–µ—Ä–≤–∏—Å—ã).
>
> **–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å (Rich Domain Model / Fat Model):**
> - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ (–≤ –∫–ª–∞—Å—Å–∞—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π).
> - –û–±—ä–µ–∫—Ç—ã —è–≤–ª—è—é—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ –∏ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏, –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
> - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á–µ–≤–æ–π –∏–¥–µ–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
> - –û—Å–Ω–æ–≤–∞ Domain-Driven Design (DDD) –∏ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
>
> **–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å (Anemic Model):**
> - –•—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–≤–æ–π—Å—Ç–≤–∞/–ø–æ–ª—è).
> - –ü–æ–≤–µ–¥–µ–Ω–∏–µ (–º–µ—Ç–æ–¥—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π) –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Å–≤–µ–¥–µ–Ω–æ –∫ –º–∏–Ω–∏–º—É–º—É (—Å–µ—Ç—Ç–µ—Ä—ã/–≥–µ—Ç—Ç–µ—Ä—ã).
> - –ö–ª–∞—Å—Å—ã –±–æ–ª—å—à–µ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (DTO) –∏–ª–∏ –∑–∞–ø–∏—Å–∏ (record), –∞ –Ω–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.
> - –ß–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ "–°–µ—Ä–≤–∏—Å–Ω–æ–º—É —Å–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥—É" (Service Layer Spaghetti), –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–∑—Ä–∞—Å—Ç–∞—é—Ç—Å—è, —É–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–º–∏ –∏–∑–≤–Ω–µ.

---

</details>


<details>

<summary><b>"–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</b></summary>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-2) </div>

---

#### <center>**"–¢–∏–ø—ã –º–æ–¥–µ–ª–µ–π" –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**</center> <a id="model-types"></a>

| –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–Ω—Ç–µ–∫—Å—Ç |
|---|---|--- |
| Entity (–°—É—â–Ω–æ—Å—Ç—å) | –û–±—ä–µ–∫—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö| –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (JPA/Hibernate) | 
| Domain Model (–î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å) | –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏| –ë–∏–∑–Ω–µ—Å-—É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| DTO (Data Transfer Object) | –û–±—ä–µ–∫—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ª–æ—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è| –£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, API |

---

</details>


<details>

<summary><b>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω: "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (Fat Controller)</b></summary>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-4) </div>

---

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω: "–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" (Fat Controller) <a id="fat-controller"></a>

"–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ MVC (Model-View-Controller). –û–Ω –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å–ª–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –±—ã—Ç—å —Ç–æ–Ω–∫–∏–º —Å–≤—è–∑—É—é—â–∏–º –∑–≤–µ–Ω–æ–º, –æ–Ω —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è –∏ –≤–±–∏—Ä–∞–µ—Ç –≤ —Å–µ–±—è –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥—Ä—É–≥–∏—Ö —Å–ª–æ—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### –ö–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å

–í –∏–¥–µ–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **"–•—É–¥—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Ç–æ–ª—Å—Ç—ã–µ –º–æ–¥–µ–ª–∏" (Thin Controllers, Fat Models)**, –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã:

| –°–ª–æ–π  | –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ |
|:---|:---|
| **–•—É–¥–æ–π –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** (Thin Controller) | - –ü—Ä–∏–Ω—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.<br>- –í—ã–∑–≤–∞—Ç—å **–æ–¥–∏–Ω** –º–µ—Ç–æ–¥ –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ (–º–æ–¥–µ–ª–∏), –ø–µ—Ä–µ–¥–∞–≤ –µ–º—É —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.<br>- –ü–æ–ª—É—á–∏—Ç—å –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. <br>- –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (View) –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. |
| **–¢–æ–ª—Å—Ç–∞—è –ú–æ–¥–µ–ª—å (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π)** (Fat Model) | - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–µ–π.<br>- –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º: –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ DAO –∏–ª–∏ EntityManager).<br>- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–π –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏.<br>- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.|

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç –≤–µ–±-—Å–ª–æ—è, –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≥–¥–µ —É–≥–æ–¥–Ω–æ.

"–¢–æ–ª—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä" –Ω–∞—Ä—É—à–∞–µ—Ç —ç—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ. –û–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –¥–∞–∂–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

#### –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è "–¢–æ–ª—Å—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞"

1. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ü—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP): –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–µ–ª–∞—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º –∏ —Å–ª–æ–∂–Ω—ã–º –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.

2. **–ù–∏–∑–∫–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –≤–µ–±-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

3. **–ü–ª–æ—Ö–∞—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏–∫–∞, "–∑–∞–ø–µ—Ä—Ç–∞—è" –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö –∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ API).

4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (–Ω–∞—Ä—É—à–µ–Ω–∏–µ DRY):** –ï—Å–ª–∏ –ø–æ—Ö–æ–∂–∞—è –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ, –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–µ—Ç –∫—É—Å–æ–∫ –∫–æ–¥–∞, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ –æ–±—â–∏–π —Å–µ—Ä–≤–∏—Å.

5. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ:** –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º, –∞ –µ–≥–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ ‚Äî —Ä–∞–∑–º—ã—Ç—ã–º–∏, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

#### –†–µ—à–µ–Ω–∏–µ

–†–µ—à–µ–Ω–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ª–æ–≥–∏–∫—É –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π **—Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π**. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è "—Ö—É–¥—ã–º" ‚Äî –µ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –±—ã—Ç—å –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º –º–µ–∂–¥—É –º–∏—Ä–æ–º HTTP –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

---

</details>

<details>

<summary><b>–ü—Ä–∏–Ω—Ü–∏–ø Single Source of Truth (SSOT)</b></summary> <a id="ssot-principle"></a>

<div align="right">

[–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](#back-5) </div>

---

–ü—Ä–∏–Ω—Ü–∏–ø Single Source of Truth (SSOT), –∏–ª–∏ "–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã", –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ–∑–Ω–∞—á–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º, –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ.

–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –µ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö, –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ä–∏—Å–∫ –∏—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º, –ø—É—Ç–∞–Ω–∏—Ü–µ –∏ –Ω–µ–≤–µ—Ä–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º.

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–º–µ—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º.
- –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏: —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—ã—à–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

#### –í–æ–∑–º–æ–∂–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Ä–æ–∂–µ, —á–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—è.
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π: –∏–Ω–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–µ.

–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—É SSOT –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º, –Ω–∞–¥—ë–∂–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.

---

</details>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∏–¥–Ω–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ö–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –æ—Å–Ω–æ–≤–æ–π –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö) –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –≤ –æ—Å–≤–æ–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–∏—ë–º–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —É–∂–µ –∑–Ω–∞–∫–æ–º—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.
